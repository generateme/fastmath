<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>fastmath.classification documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Fastmath</span> <span class="project-version">1.3.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fastmath</span></div></div></li><li class="depth-2 branch current"><a href="fastmath.classification.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>classification</span></div></a></li><li class="depth-2 branch"><a href="fastmath.clustering.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clustering</span></div></a></li><li class="depth-2 branch"><a href="fastmath.complex.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complex</span></div></a></li><li class="depth-2 branch"><a href="fastmath.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="fastmath.distance.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>distance</span></div></a></li><li class="depth-2 branch"><a href="fastmath.easings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>easings</span></div></a></li><li class="depth-2 branch"><a href="fastmath.fields.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fields</span></div></a></li><li class="depth-2 branch"><a href="fastmath.grid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grid</span></div></a></li><li class="depth-2 branch"><a href="fastmath.interpolation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolation</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kernel</span></div></div></li><li class="depth-3"><a href="fastmath.kernel.mercer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mercer</span></div></a></li><li class="depth-2 branch"><a href="fastmath.random.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-2 branch"><a href="fastmath.rbf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rbf</span></div></a></li><li class="depth-2 branch"><a href="fastmath.regression.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>regression</span></div></a></li><li class="depth-2 branch"><a href="fastmath.stats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stats</span></div></a></li><li class="depth-2 branch"><a href="fastmath.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2"><a href="fastmath.vector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="fastmath.classification.html#var-*cross-validation-debug*"><div class="inner"><span>*cross-validation-debug*</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-accuracy"><div class="inner"><span>accuracy</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-activation-functions-list"><div class="inner"><span>activation-functions-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-ada-boost"><div class="inner"><span>ada-boost</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-bayes-models-list"><div class="inner"><span>bayes-models-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-binary-measures"><div class="inner"><span>binary-measures</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-binary-measures-all"><div class="inner"><span>binary-measures-all</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-bootstrap"><div class="inner"><span>bootstrap</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-ClassificationProto"><div class="inner"><span>ClassificationProto</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-backend"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backend</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-cv-native"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cv-native</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-data"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-labels"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>labels</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-model-native"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model-native</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-predict"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>predict</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-predict-all"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>predict-all</span></div></a></li><li class="depth-2 branch"><a href="fastmath.classification.html#var-test"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-2"><a href="fastmath.classification.html#var-train"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>train</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-confusion-map"><div class="inner"><span>confusion-map</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-cv"><div class="inner"><span>cv</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-decision-tree"><div class="inner"><span>decision-tree</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-error-functions-list"><div class="inner"><span>error-functions-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-fld"><div class="inner"><span>fld</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-gradient-tree-boost"><div class="inner"><span>gradient-tree-boost</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-knn"><div class="inner"><span>knn</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-lda"><div class="inner"><span>lda</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-liblinear"><div class="inner"><span>liblinear</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-liblinear-solver-list"><div class="inner"><span>liblinear-solver-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-logistic-regression"><div class="inner"><span>logistic-regression</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-loocv"><div class="inner"><span>loocv</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-multiclass-strategies-list"><div class="inner"><span>multiclass-strategies-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-naive-bayes"><div class="inner"><span>naive-bayes</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-neural-net"><div class="inner"><span>neural-net</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-qda"><div class="inner"><span>qda</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-random-forest"><div class="inner"><span>random-forest</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-rbf-network"><div class="inner"><span>rbf-network</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-rda"><div class="inner"><span>rda</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-split-rules"><div class="inner"><span>split-rules</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-split-rules-list"><div class="inner"><span>split-rules-list</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-svm"><div class="inner"><span>svm</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-validate"><div class="inner"><span>validate</span></div></a></li><li class="depth-1"><a href="fastmath.classification.html#var-xgboost"><div class="inner"><span>xgboost</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">fastmath.classification</h1><div class="doc"><div class="markdown"><p>Classification algorithms.</p>
<h3><a href="#input-data" name="input-data"></a>Input data</h3>
<ul>
  <li>features - sequence of sequences of numbers</li>
  <li>categories - sequence of any values</li>
</ul>
<p>When needed you can split input data into training data and test data. Test data are optional.</p>
<h3><a href="#workflow" name="workflow"></a>Workflow</h3>
<ul>
  <li>create and train by calling classifier with parameters, train data and optional test data.</li>
  <li>validate data by calling <a href="fastmath.classification.html#var-test">test</a> or <a href="fastmath.classification.html#var-validate">validate</a>.</li>
  <li>cross validate <a href="fastmath.classification.html#var-cv">cv</a>, <a href="fastmath.classification.html#var-loocv">loocv</a>, <a href="fastmath.classification.html#var-bootstrap">bootstrap</a></li>
  <li>repeat or <a href="fastmath.classification.html#var-predict">predict</a></li>
</ul>
<p>Classifier parameters are map of values specific for given algorithm. Check documentation in backend library to find documentation. Classifier can be retrained using <a href="fastmath.classification.html#var-train">train</a>. New instance will be created.</p>
<h3><a href="#implementation-notes" name="implementation-notes"></a>Implementation notes</h3>
<ul>
  <li>only doubles as input data</li>
  <li>categories can be any type</li>
</ul>
<h3><a href="#cross-validation" name="cross-validation"></a>Cross validation</h3>
<p>Every classifier exposes itâ€™s own cross validation method with configuratin <a href="fastmath.classification.html#var-cv-native">cv-native</a>. Additionally three Clojure level methods are defined: <a href="fastmath.classification.html#var-cv">cv</a>, <a href="fastmath.classification.html#var-loocv">loocv</a> and <a href="fastmath.classification.html#var-bootstrap">bootstrap</a>.</p>
<h3><a href="#smile" name="smile"></a>SMILE</h3>
<p><a href="https://haifengl.github.io/smile/classification.html">documentation</a></p>
<p>What is missed:</p>
<ul>
  <li>other types than doubles (attributes)</li>
  <li>maxent</li>
  <li>Online classifiers</li>
  <li>General Naive Bayes</li>
</ul>
<p>Native cross validation config is a map with keys:</p>
<ul>
  <li><code>:k</code> - number of folds (default: 10)</li>
  <li><code>:type</code> - type of cross validation, one of <code>:cv</code> (default), <code>:loocv</code> and <code>:bootstrap</code></li>
</ul>
<h3><a href="#xgboost" name="xgboost"></a>XGBoost</h3>
<p>XGBoost is backed by <a href="https://gitlab.com/alanmarazzi/clj-boost/tree/master">clj-boost</a>.</p>
<p>For:</p>
<ul>
  <li>multiclass classification use <code>multi:softprob</code> objective (default).</li>
  <li>binary classification use <code>binary-logistic</code> objective.</li>
</ul>
<p>See <a href="https://xgboost.readthedocs.io/en/latest/parameter.html#parameters-for-tree-booster">documentation</a> for parameters.</p>
<p>By default <code>:early-stopping</code> is set to <code>20</code> and <code>:round</code> is set to <code>10</code>.</p>
<p>Native cross validation is a map with keys</p>
<ul>
  <li><code>:nfold</code> - number of folds (default: 10)</li>
  <li><code>:rounds</code> - number of boosting iterations (default: 3)</li>
  <li><code>:metrics</code> - metrics to evaluate goodness (default: <code>["merror", "mlogloss"]</code> or <code>["error", "logloss"]</code>)</li>
</ul>
<p>Note: <code>"(m)error" = 1.0 - accuracy</code></p>
<p>see <a href="https://gitlab.com/alanmarazzi/clj-boost/tree/master">more</a></p>
<h3><a href="#liblinear" name="liblinear"></a>Liblinear</h3>
<p><a href="https://github.com/bwaldvogel/liblinear-java">https://github.com/bwaldvogel/liblinear-java</a></p>
<p>Native cross validation expects a number as number of folds (default: 10)</p>
<h3><a href="#examples" name="examples"></a>Examples</h3>
<p>Iris database is used.</p></div><div class="markdown"><h4>Categories</h4><ul><li>Classification: <a href="fastmath.classification.html#var-ada-boost">ada-boost</a> <a href="fastmath.classification.html#var-decision-tree">decision-tree</a> <a href="fastmath.classification.html#var-fld">fld</a> <a href="fastmath.classification.html#var-gradient-tree-boost">gradient-tree-boost</a> <a href="fastmath.classification.html#var-knn">knn</a> <a href="fastmath.classification.html#var-lda">lda</a> <a href="fastmath.classification.html#var-liblinear">liblinear</a> <a href="fastmath.classification.html#var-logistic-regression">logistic-regression</a> <a href="fastmath.classification.html#var-model-native">model-native</a> <a href="fastmath.classification.html#var-naive-bayes">naive-bayes</a> <a href="fastmath.classification.html#var-neural-net">neural-net</a> <a href="fastmath.classification.html#var-predict">predict</a> <a href="fastmath.classification.html#var-predict-all">predict-all</a> <a href="fastmath.classification.html#var-qda">qda</a> <a href="fastmath.classification.html#var-random-forest">random-forest</a> <a href="fastmath.classification.html#var-rbf-network">rbf-network</a> <a href="fastmath.classification.html#var-rda">rda</a> <a href="fastmath.classification.html#var-svm">svm</a> <a href="fastmath.classification.html#var-train">train</a> <a href="fastmath.classification.html#var-xgboost">xgboost</a></li><li>Data operation: <a href="fastmath.classification.html#var-data">data</a> <a href="fastmath.classification.html#var-labels">labels</a></li><li>Validation: <a href="fastmath.classification.html#var-accuracy">accuracy</a> <a href="fastmath.classification.html#var-bootstrap">bootstrap</a> <a href="fastmath.classification.html#var-confusion-map">confusion-map</a> <a href="fastmath.classification.html#var-cv">cv</a> <a href="fastmath.classification.html#var-cv-native">cv-native</a> <a href="fastmath.classification.html#var-loocv">loocv</a> <a href="fastmath.classification.html#var-test">test</a> <a href="fastmath.classification.html#var-validate">validate</a></li></ul><p>Other vars: <a href="fastmath.classification.html#var-*cross-validation-debug*">*cross-validation-debug*</a> <a href="fastmath.classification.html#var-activation-functions-list">activation-functions-list</a> <a href="fastmath.classification.html#var-backend">backend</a> <a href="fastmath.classification.html#var-bayes-models-list">bayes-models-list</a> <a href="fastmath.classification.html#var-binary-measures">binary-measures</a> <a href="fastmath.classification.html#var-binary-measures-all">binary-measures-all</a> <a href="fastmath.classification.html#var-error-functions-list">error-functions-list</a> <a href="fastmath.classification.html#var-liblinear-solver-list">liblinear-solver-list</a> <a href="fastmath.classification.html#var-multiclass-strategies-list">multiclass-strategies-list</a> <a href="fastmath.classification.html#var-split-rules">split-rules</a> <a href="fastmath.classification.html#var-split-rules-list">split-rules-list</a></p></div></div><div class="public anchor" id="var-*cross-validation-debug*"><h3>*cross-validation-debug*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>When <code>true</code> provide data used to test.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L521">view source</a></div></div><div class="public anchor" id="var-accuracy"><h3>accuracy</h3><div class="usage"><code>(accuracy t p)</code></div><div class="doc"><div class="markdown"><p>Calculate accuracy for real and predicted sequences.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(accuracy [1 2 3 4 1 2 3 4] [1 2 4 4 2 4 4 3])
;;=&gt; 0.375</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L487">view source</a></div></div><div class="public anchor" id="var-activation-functions-list"><h3>activation-functions-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of activation functions for <a href="fastmath.classification.html#var-neural-net">neural-net</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">activation-functions-list
;;=&gt; (:linear :logistic-sigmoid :soft-max)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L402">view source</a></div></div><div class="public anchor" id="var-ada-boost"><h3>ada-boost</h3><div class="usage"><code>(ada-boost x y)</code><code>(ada-boost params x y)</code><code>(ada-boost x y tx ty)</code><code>(ada-boost {:keys [number-of-trees max-nodes], :or {number-of-trees 500, max-nodes 2}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>ada-boost classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (ada-boost train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L328">view source</a></div></div><div class="public anchor" id="var-bayes-models-list"><h3>bayes-models-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of <a href="fastmath.classification.html#var-naive-bayes">naive-bayes</a> models.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">bayes-models-list
;;=&gt; (:multinomial :bernoulli :polyaurn)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L382">view source</a></div></div><div class="public anchor" id="var-binary-measures"><h3>binary-measures</h3><div class="usage"><code>(binary-measures truth prediction)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L670">view source</a></div></div><div class="public anchor" id="var-binary-measures-all"><h3>binary-measures-all</h3><div class="usage"><code>(binary-measures-all truth prediction)</code></div><div class="doc"><div class="markdown"><p><a href="https://en.wikipedia.org/wiki/Precision_and_recall">https://en.wikipedia.org/wiki/Precision_and_recall</a></p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L612">view source</a></div></div><div class="public anchor" id="var-bootstrap"><h3>bootstrap</h3><div class="usage"><code>(bootstrap model)</code><code>(bootstrap model k)</code></div><div class="doc"><div class="markdown"><p>Perform k-round bootstrap validation.</p>
<p>k defaults to 10</p>
<p>Returns map where <code>:accuracy</code> is average accuracy from every round. <code>:boostrap</code> contains every round statistics.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(select-keys (bootstrap (knn train-data train-labels)) [:accuracy])
;;=&gt; {:accuracy 0.9507190503588129}
(select-keys (bootstrap (fld train-data train-labels)) [:accuracy])
;;=&gt; {:accuracy 0.9416232219414594}
(bootstrap (decision-tree train-data train-labels) 4)
;;=&gt; {:accuracy 0.9617904182107913,
;;=&gt;  :bootstrap {0 {:accuracy 0.972972972972973},
;;=&gt;              1 {:accuracy 0.951219512195122},
;;=&gt;              2 {:accuracy 0.9705882352941176},
;;=&gt;              3 {:accuracy 0.9523809523809524}}}
(select-keys (bootstrap (knn train-data train-labels) 500) [:accuracy])
;;=&gt; {:accuracy 0.9472715620193332}
(bootstrap (neural-net {:layers [100 50]} train-data train-labels) 5)
;;=&gt; {:accuracy 0.9230523055194441,
;;=&gt;  :bootstrap {0 {:accuracy 0.891304347826087},
;;=&gt;              1 {:accuracy 0.9302325581395349},
;;=&gt;              2 {:accuracy 0.9523809523809524},
;;=&gt;              3 {:accuracy 0.9111111111111111},
;;=&gt;              4 {:accuracy 0.9302325581395349}}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L559">view source</a></div></div><div class="public anchor" id="var-ClassificationProto"><h3>ClassificationProto</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-backend"><h3>backend</h3><div class="usage"><code>(backend _)</code></div><div class="doc"><div class="markdown"><p>Return name of backend library</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(backend (knn test-data test-labels))
;;=&gt; :smile
(backend (xgboost test-data test-labels))
;;=&gt; :xgboost
(backend (liblinear test-data test-labels))
;;=&gt; :liblinear</code></pre></div></div></div><div class="public anchor" id="var-cv-native"><h3>cv-native</h3><div class="usage"><code>(cv-native _)</code><code>(cv-native _ params)</code></div><div class="doc"><div class="markdown"><p>Call native implementation of cross-validation</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(cv-native (knn test-data test-labels))
;;=&gt; {:accuracy 0.9777777777777777}
(cv-native (knn test-data test-labels) {:type :loocv})
;;=&gt; {:accuracy 0.9777777777777777}
(cv-native (knn test-data test-labels) {:type :bootstrap})
;;=&gt; {:accuracy 0.9567711558307533,
;;=&gt;  :bootstrap [0.9375 0.9375 0.9333333333333333 0.9473684210526315 1.0 1.0
;;=&gt;              0.9375 1.0 0.9411764705882353 0.9333333333333333]}
(cv-native (xgboost test-data test-labels))
;;=&gt; ({:cv-test-merror 0.025,
;;=&gt;   :cv-test-mlogloss 0.771117,
;;=&gt;   :cv-train-merror 0.002439,
;;=&gt;   :cv-train-mlogloss 0.765954}
;;=&gt;  {:cv-test-merror 0.025,
;;=&gt;   :cv-test-mlogloss 0.578951,
;;=&gt;   :cv-train-merror 0.0,
;;=&gt;   :cv-train-mlogloss 0.558624}
;;=&gt;  {:cv-test-merror 0.05,
;;=&gt;   :cv-test-mlogloss 0.453374,
;;=&gt;   :cv-train-merror 0.0,
;;=&gt;   :cv-train-mlogloss 0.419654})
(cv-native (liblinear test-data test-labels))
;;=&gt; {:accuracy 0.9333333333333333}</code></pre></div></div></div><div class="public anchor" id="var-data"><h3>data</h3><div class="usage"><code>(data _)</code><code>(data _ native?)</code></div><div class="doc"><div class="markdown"><p>Return data. Transformed data for backend libarary are returned when <code>native?</code> is true.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(data (knn [[1 2] [3 2]] [0 1]))
;;=&gt; [[[1 2] [3 2]] [0 1]]
(data (knn [[1 2] [3 2]] [0 1]) true)
;;=&gt; [[[1.0 2.0] [3.0 2.0]] [0 1]]</code></pre></div></div></div><div class="public anchor" id="var-labels"><h3>labels</h3><div class="usage"><code>(labels _)</code></div><div class="doc"><div class="markdown"><p>Return labels.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(labels (knn train-data train-labels))
;;=&gt; ["setosa" "versicolor" "virginica"]</code></pre></div></div></div><div class="public anchor" id="var-model-native"><h3>model-native</h3><div class="usage"><code>(model-native _)</code></div><div class="doc"><div class="markdown"><p>Return trained model as a backend class.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(model-native (knn train-data train-labels))
;;=&gt; smile.classification.KNN@5aa76e11
(model-native (xgboost train-data train-labels))
;;=&gt; ml.dmlc.xgboost4j.java.Booster@7ec2a0cf</code></pre></div></div></div><div class="public anchor" id="var-predict"><h3>predict</h3><div class="usage"><code>(predict _ v)</code><code>(predict _ v posteriori?)</code></div><div class="doc"><div class="markdown"><p>Predict class for given vector. With posteriori probabilities when required.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(predict (knn train-data train-labels) [1 2 3 4])
;;=&gt; virginica
(predict (ada-boost train-data train-labels) [1 2 3 4] true)
;;=&gt; virginica</code></pre></div></div></div><div class="public anchor" id="var-predict-all"><h3>predict-all</h3><div class="usage"><code>(predict-all _ vs)</code><code>(predict-all _ v posteriori?)</code></div><div class="doc"><div class="markdown"><p>Predict classes for given sequence of vectors. With posteriori probabilities when required.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(predict-all (knn train-data train-labels) (take 3 test-data))
;;=&gt; ("setosa" "versicolor" "setosa")
(predict-all (ada-boost train-data train-labels)
             (take 3 test-data)
             true)
;;=&gt; ("setosa" "versicolor" "setosa")</code></pre></div></div></div><div class="public anchor" id="var-test"><h3>test</h3><div class="usage"><code>(test _)</code><code>(test _ tx ty)</code></div><div class="doc"><div class="markdown"><p>Validate data using given model and provided test data. Same as <a href="fastmath.classification.html#var-validate">validate</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Use data provided during training</p></blockquote><pre><code class="hljs clojure">(test (knn train-data train-labels test-data test-labels))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :prediction ("setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"),
;;=&gt;  :stats {:accuracy 0.9777777777777777},
;;=&gt;  :truth ("setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa")}</code></pre></div><div><blockquote><p>No test data provided</p></blockquote><pre><code class="hljs clojure">(test (knn train-data train-labels))
;;=&gt; nil</code></pre></div><div><blockquote><p>Test other data</p></blockquote><pre><code class="hljs clojure">(test (knn train-data train-labels)
      [[1 2 3 4] [6 4 3 2]]
      ["setosa" "setosa"])
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([1 2 3 4] [6 4 3 2]),
;;=&gt;            :prediction ("virginica" "versicolor"),
;;=&gt;            :truth ("setosa" "setosa")},
;;=&gt;  :prediction ("virginica" "versicolor"),
;;=&gt;  :stats {:accuracy 0.0},
;;=&gt;  :truth ["setosa" "setosa"]}</code></pre></div></div></div><div class="public anchor" id="var-train"><h3>train</h3><div class="usage"><code>(train _ x y)</code><code>(train _ x y tx ty)</code></div><div class="doc"><div class="markdown"><p>Train another set of data for given classifier. Test data are optional.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Train new data</p></blockquote><pre><code class="hljs clojure">(train (knn train-data train-labels) test-data test-labels)
;;=&gt; fastmath.classification$eval21022$fn$reify__21037@1d1c44a</code></pre></div></div></div></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L102">view source</a></div></div><div class="public anchor" id="var-confusion-map"><h3>confusion-map</h3><div class="usage"><code>(confusion-map t p)</code></div><div class="doc"><div class="markdown"><p>Create confusion map where keys are pairs of <code>[truth-label, prediction-label]</code></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (knn train-data train-labels)
      pred (predict-all cl test-data)]
  (confusion-map test-labels pred))
;;=&gt; {["setosa" "setosa"] 11,
;;=&gt;  ["versicolor" "versicolor"] 15,
;;=&gt;  ["versicolor" "virginica"] 1,
;;=&gt;  ["virginica" "virginica"] 18}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L584">view source</a></div></div><div class="public anchor" id="var-cv"><h3>cv</h3><div class="usage"><code>(cv model)</code><code>(cv model k)</code></div><div class="doc"><div class="markdown"><p>Cross validation of a classification model.</p>
<p>k defaults to 10% of data count.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(cv (knn train-data train-labels))
;;=&gt; {:accuracy 0.9523809523809524}
(cv (knn train-data train-labels) 100)
;;=&gt; {:accuracy 0.9523809523809524}
(cv (knn train-data train-labels) 4)
;;=&gt; {:accuracy 0.942857142857143}
(cv (knn train-data train-labels) 1)
;;=&gt; {:accuracy 0.9619047619047619}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L537">view source</a></div></div><div class="public anchor" id="var-decision-tree"><h3>decision-tree</h3><div class="usage"><code>(decision-tree x y)</code><code>(decision-tree params x y)</code><code>(decision-tree x y tx ty)</code><code>(decision-tree {:keys [max-nodes node-size split-rule], :or {max-nodes 100, node-size 1, split-rule :gini}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>decision-tree classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (decision-tree train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 3,
;;=&gt;            :data ([7.2 3 5.8 1.6] [5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("versicolor" "virginica" "virginica"),
;;=&gt;            :truth ("virginica" "versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9333333333333333}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L358">view source</a></div></div><div class="public anchor" id="var-error-functions-list"><h3>error-functions-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of error functions for <a href="fastmath.classification.html#var-neural-net">neural-net</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">error-functions-list
;;=&gt; (:least-mean-squares :cross-entropy)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L396">view source</a></div></div><div class="public anchor" id="var-fld"><h3>fld</h3><div class="usage"><code>(fld x y)</code><code>(fld params x y)</code><code>(fld x y tx ty)</code><code>(fld {:keys [dimensionality tolerance], :or {dimensionality -1, tolerance 1.0E-4}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>fld classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (fld train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L334">view source</a></div></div><div class="public anchor" id="var-gradient-tree-boost"><h3>gradient-tree-boost</h3><div class="usage"><code>(gradient-tree-boost x y)</code><code>(gradient-tree-boost params x y)</code><code>(gradient-tree-boost x y tx ty)</code><code>(gradient-tree-boost {:keys [number-of-trees shrinkage max-nodes subsample], :or {number-of-trees 500, shrinkage 0.005, max-nodes 6, subsample 0.7}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>gradient-tree-boost classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (gradient-tree-boost train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L364">view source</a></div></div><div class="public anchor" id="var-knn"><h3>knn</h3><div class="usage"><code>(knn x y)</code><code>(knn params x y)</code><code>(knn x y tx ty)</code><code>(knn {:keys [distance k], :or {distance (EuclideanDistance.), k 1}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>knn classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (knn train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div><div><blockquote><p>Different distance</p></blockquote><pre><code class="hljs clojure">(let [cl (knn {:distance dist/cosine} train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([7.2 3 5.8 1.6]),
;;=&gt;            :prediction ("versicolor"),
;;=&gt;            :truth ("virginica")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L324">view source</a></div></div><div class="public anchor" id="var-lda"><h3>lda</h3><div class="usage"><code>(lda x y)</code><code>(lda params x y)</code><code>(lda x y tx ty)</code><code>(lda {:keys [priori tolerance], :or {priori nil, tolerance 1.0E-4}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>lda classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (lda train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 9,
;;=&gt;            :data ([7.2 3 5.8 1.6]
;;=&gt;                   [6.3 3.3 4.7 1.6]
;;=&gt;                   [7.7 2.6 6.9 2.3]
;;=&gt;                   [5.9 3.2 4.8 1.8]
;;=&gt;                   [6.3 2.5 5 1.9]
;;=&gt;                   [6.4 3.2 4.5 1.5]
;;=&gt;                   [6.7 3 5 1.7]
;;=&gt;                   [6.7 2.5 5.8 1.8]
;;=&gt;                   [5.9 3 4.2 1.5]),
;;=&gt;            :prediction ("versicolor"
;;=&gt;                         "virginica"
;;=&gt;                         "versicolor"
;;=&gt;                         "virginica"
;;=&gt;                         "versicolor"
;;=&gt;                         "virginica"
;;=&gt;                         "virginica"
;;=&gt;                         "versicolor"
;;=&gt;                         "virginica"),
;;=&gt;            :truth ("virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor")},
;;=&gt;  :stats {:accuracy 0.8}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L346">view source</a></div></div><div class="public anchor" id="var-liblinear"><h3>liblinear</h3><div class="usage"><code>(liblinear x y)</code><code>(liblinear params x y)</code><code>(liblinear x y tx ty)</code><code>(liblinear {:keys [solver bias C eps max-iters p weights], :or {solver :l2r-l2loss-svc-dual, bias -1, C 1.0, eps 0.01, max-iters 1000, p 0.1}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>liblinear classifier. Backend library: liblinear</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (liblinear train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([7.2 3 5.8 1.6] [5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("versicolor" "virginica"),
;;=&gt;            :truth ("virginica" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div><div><blockquote><p>Different solver</p></blockquote><pre><code class="hljs clojure">(let [cl (liblinear {:solver :l1r-lr, :C 0.5} train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 3,
;;=&gt;            :data ([7.2 3 5.8 1.6] [6.3 3.3 4.7 1.6] [5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("versicolor" "virginica" "virginica"),
;;=&gt;            :truth ("virginica" "versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9333333333333333}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L477">view source</a></div></div><div class="public anchor" id="var-liblinear-solver-list"><h3>liblinear-solver-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of <a href="fastmath.classification.html#var-liblinear">liblinear</a> solvers.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">liblinear-solver-list
;;=&gt; (:l2r-lr :l2r-l2loss-svc-dual
;;=&gt;          :l2r-l2loss-svc :l2r-l1loss-svc-dual
;;=&gt;          :mcsvm-cs :l1r-l2loss-svc
;;=&gt;          :l1r-lr :l2r-lr-dual)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L475">view source</a></div></div><div class="public anchor" id="var-logistic-regression"><h3>logistic-regression</h3><div class="usage"><code>(logistic-regression x y)</code><code>(logistic-regression params x y)</code><code>(logistic-regression x y tx ty)</code><code>(logistic-regression {:keys [lambda tolerance max-iterations], :or {lambda 0.0, tolerance 1.0E-5, max-iterations 500}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>logistic-regression classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (logistic-regression train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L371">view source</a></div></div><div class="public anchor" id="var-loocv"><h3>loocv</h3><div class="usage"><code>(loocv model)</code></div><div class="doc"><div class="markdown"><p>Leave-one-out cross validation of a classification model.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(loocv (knn train-data train-labels))
;;=&gt; {:accuracy 0.9523809523809524}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L524">view source</a></div></div><div class="public anchor" id="var-multiclass-strategies-list"><h3>multiclass-strategies-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of multiclass strategies for <a href="fastmath.classification.html#var-svm">svm</a></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">multiclass-strategies-list
;;=&gt; (:one-vs-one :one-vs-all)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L451">view source</a></div></div><div class="public anchor" id="var-naive-bayes"><h3>naive-bayes</h3><div class="usage"><code>(naive-bayes x y)</code><code>(naive-bayes params x y)</code><code>(naive-bayes x y tx ty)</code><code>(naive-bayes {:keys [model priori sigma], :or {model :bernoulli, sigma 1.0}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>naive-bayes classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (naive-bayes train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 34,
;;=&gt;            :data ([5.5 2.4 3.8 1.1]
;;=&gt;                   [5 2 3.5 1]
;;=&gt;                   [7.2 3 5.8 1.6]
;;=&gt;                   [6.5 3 5.2 2]
;;=&gt;                   [6.3 3.4 5.6 2.4]
;;=&gt;                   [6.5 3 5.8 2.2]
;;=&gt;                   [6.3 3.3 4.7 1.6]
;;=&gt;                   [5.5 2.4 3.7 1]
;;=&gt;                   [6.7 3.1 4.4 1.4]
;;=&gt;                   [7.7 2.6 6.9 2.3]
;;=&gt;                   [6.9 3.1 5.1 2.3]
;;=&gt;                   [5.6 2.7 4.2 1.3]
;;=&gt;                   [6.5 3.2 5.1 2]
;;=&gt;                   [7.7 3 6.1 2.3]
;;=&gt;                   [6.1 3 4.6 1.4]
;;=&gt;                   [5.9 3.2 4.8 1.8]
;;=&gt;                   [6.8 3 5.5 2.1]
;;=&gt;                   [6.3 2.5 5 1.9]
;;=&gt;                   [6.7 3.3 5.7 2.5]
;;=&gt;                   [5.6 3 4.1 1.3]
;;=&gt;                   [7.2 3.6 6.1 2.5]
;;=&gt;                   [5.5 2.3 4 1.3]
;;=&gt;                   [6.4 3.2 4.5 1.5]
;;=&gt;                   [7.6 3 6.6 2.1]
;;=&gt;                   [5.6 2.5 3.9 1.1]
;;=&gt;                   [6.4 2.8 5.6 2.1]
;;=&gt;                   [6.7 3 5 1.7]
;;=&gt;                   [6.8 3.2 5.9 2.3]
;;=&gt;                   [6.7 3.3 5.7 2.1]
;;=&gt;                   [6.6 2.9 4.6 1.3]
;;=&gt;                   [6.7 2.5 5.8 1.8]
;;=&gt;                   [5.9 3 4.2 1.5]
;;=&gt;                   [5.8 2.7 5.1 1.9]
;;=&gt;                   [4.9 2.4 3.3 1]),
;;=&gt;            :prediction ("setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"
;;=&gt;                         "setosa"),
;;=&gt;            :truth ("versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor"
;;=&gt;                    "virginica"
;;=&gt;                    "versicolor")},
;;=&gt;  :stats {:accuracy 0.24444444444444435}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L384">view source</a></div></div><div class="public anchor" id="var-neural-net"><h3>neural-net</h3><div class="usage"><code>(neural-net x y)</code><code>(neural-net params x y)</code><code>(neural-net x y tx ty)</code><code>(neural-net {:keys [error-function activation-function layers learning-rate momentum weight-decay number-of-epochs], :or {error-function :cross-entropy, learning-rate 0.1, momentum 0.0, weight-decay 0.0, number-of-epochs 25}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>neural-net classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (neural-net {:layers [100 100]} train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div><div><blockquote><p>Bad model</p></blockquote><pre><code class="hljs clojure">(let [cl (neural-net {:layers [3 3 3], :number-of-epochs 3}
                     train-data
                     train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 29,
;;=&gt;            :data ([4.8 3 1.4 0.1]
;;=&gt;                   [5.1 3.3 1.7 0.5]
;;=&gt;                   [5.1 3.7 1.5 0.4]
;;=&gt;                   [7.2 3 5.8 1.6]
;;=&gt;                   [6.5 3 5.2 2]
;;=&gt;                   [6.3 3.4 5.6 2.4]
;;=&gt;                   [6.5 3 5.8 2.2]
;;=&gt;                   [4.8 3.4 1.9 0.2]
;;=&gt;                   [5.7 4.4 1.5 0.4]
;;=&gt;                   [5.4 3.4 1.7 0.2]
;;=&gt;                   [7.7 2.6 6.9 2.3]
;;=&gt;                   [6.9 3.1 5.1 2.3]
;;=&gt;                   [6.5 3.2 5.1 2]
;;=&gt;                   [7.7 3 6.1 2.3]
;;=&gt;                   [5 3.5 1.3 0.3]
;;=&gt;                   [6.8 3 5.5 2.1]
;;=&gt;                   [6.3 2.5 5 1.9]
;;=&gt;                   [6.7 3.3 5.7 2.5]
;;=&gt;                   [7.2 3.6 6.1 2.5]
;;=&gt;                   [7.6 3 6.6 2.1]
;;=&gt;                   [6.4 2.8 5.6 2.1]
;;=&gt;                   [4.7 3.2 1.6 0.2]
;;=&gt;                   [6.8 3.2 5.9 2.3]
;;=&gt;                   [5 3.6 1.4 0.2]
;;=&gt;                   [6.7 3.3 5.7 2.1]
;;=&gt;                   [6.7 2.5 5.8 1.8]
;;=&gt;                   [5.8 2.7 5.1 1.9]
;;=&gt;                   [5 3.2 1.2 0.2]
;;=&gt;                   [5.4 3.4 1.5 0.4]),
;;=&gt;            :prediction ("versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"
;;=&gt;                         "versicolor"),
;;=&gt;            :truth ("setosa"
;;=&gt;                    "setosa"
;;=&gt;                    "setosa"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "setosa"
;;=&gt;                    "setosa"
;;=&gt;                    "setosa"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "setosa"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "setosa"
;;=&gt;                    "virginica"
;;=&gt;                    "setosa"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "virginica"
;;=&gt;                    "setosa"
;;=&gt;                    "setosa")},
;;=&gt;  :stats {:accuracy 0.3555555555555556}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L404">view source</a></div></div><div class="public anchor" id="var-qda"><h3>qda</h3><div class="usage"><code>(qda x y)</code><code>(qda params x y)</code><code>(qda x y tx ty)</code><code>(qda {:keys [priori tolerance], :or {priori nil, tolerance 1.0E-4}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>qda classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (qda train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L340">view source</a></div></div><div class="public anchor" id="var-random-forest"><h3>random-forest</h3><div class="usage"><code>(random-forest x y)</code><code>(random-forest params x y)</code><code>(random-forest x y tx ty)</code><code>(random-forest {:keys [number-of-trees split-rule mtry node-size max-nodes subsample], :or {number-of-trees 500, split-rule :gini, node-size 1, max-nodes 100, subsample 1.0}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>random-forest classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (random-forest train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L436">view source</a></div></div><div class="public anchor" id="var-rbf-network"><h3>rbf-network</h3><div class="usage"><code>(rbf-network x y)</code><code>(rbf-network params x y)</code><code>(rbf-network x y tx ty)</code><code>(rbf-network {:keys [distance rbf number-of-basis normalize?], :or {distance dist/euclidean, number-of-basis 10, normalize? false}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>rbf-network classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (rbf-network train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div><div><blockquote><p>Custom rbfs</p></blockquote><pre><code class="hljs clojure">(let [cl (rbf-network {:rbf (take 5
                                  (cycle [(rbf/rbf :linear)
                                          (rbf/rbf :wendland)]))}
                      train-data
                      train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L421">view source</a></div></div><div class="public anchor" id="var-rda"><h3>rda</h3><div class="usage"><code>(rda x y)</code><code>(rda params x y)</code><code>(rda x y tx ty)</code><code>(rda {:keys [alpha priori tolerance], :or {alpha 0.9, tolerance 1.0E-4}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>rda classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (rda train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L430">view source</a></div></div><div class="public anchor" id="var-split-rules"><h3>split-rules</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L352">view source</a></div></div><div class="public anchor" id="var-split-rules-list"><h3>split-rules-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of split rules for <a href="null">decision tree</a> and <a href="fastmath.classification.html#var-random-forest">random-forest</a></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Names</p></blockquote><pre><code class="hljs clojure">split-rules-list
;;=&gt; (:gini :entropy :classification-error)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L356">view source</a></div></div><div class="public anchor" id="var-svm"><h3>svm</h3><div class="usage"><code>(svm x y)</code><code>(svm params x y)</code><code>(svm x y tx ty)</code><code>(svm {:keys [kernel c-or-cp cn strategy-for-multiclass class-weights tolerance epochs], :or {kernel (mercer/kernel :linear), c-or-cp 1.0, cn 1.0, strategy-for-multiclass :one-vs-one, tolerance 0.001, epochs 2}, :as all} x y tx ty)</code></div><div class="doc"><div class="markdown"><p>svm classifier. Backend library: smile</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (svm train-data train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div><div><blockquote><p>Different kernel</p></blockquote><pre><code class="hljs clojure">(let [cl (svm {:kernel (mercer/kernel :gaussian 1), :epochs 10}
              train-data
              train-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :stats {:accuracy 0.9777777777777777}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L453">view source</a></div></div><div class="public anchor" id="var-validate"><h3>validate</h3><div class="usage"><code>(validate model)</code><code>(validate model tx ty)</code></div><div class="doc"><div class="markdown"><p>Validate data against trained classifier. Same as <a href="fastmath.classification.html#var-test">test</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Use data provided during training</p></blockquote><pre><code class="hljs clojure">(validate (qda train-data train-labels test-data test-labels))
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([5.9 3.2 4.8 1.8]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("versicolor")},
;;=&gt;  :prediction ("setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "versicolor"
;;=&gt;               "virginica"
;;=&gt;               "setosa"
;;=&gt;               "versicolor"
;;=&gt;               "setosa"),
;;=&gt;  :stats {:accuracy 0.9777777777777777},
;;=&gt;  :truth ("setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "versicolor"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "versicolor"
;;=&gt;          "virginica"
;;=&gt;          "setosa"
;;=&gt;          "versicolor"
;;=&gt;          "setosa")}</code></pre></div><div><blockquote><p>No test data provided</p></blockquote><pre><code class="hljs clojure">(validate (qda train-data train-labels))
;;=&gt; nil</code></pre></div><div><blockquote><p>Test other data</p></blockquote><pre><code class="hljs clojure">(validate (qda train-data train-labels)
          [[1 2 3 4] [6 4 3 2]]
          ["virginica" "setosa"])
;;=&gt; {:invalid {:count 1,
;;=&gt;            :data ([6 4 3 2]),
;;=&gt;            :prediction ("virginica"),
;;=&gt;            :truth ("setosa")},
;;=&gt;  :prediction ("virginica" "virginica"),
;;=&gt;  :stats {:accuracy 0.5},
;;=&gt;  :truth ["virginica" "setosa"]}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L493">view source</a></div></div><div class="public anchor" id="var-xgboost"><h3>xgboost</h3><div class="usage"><code>(xgboost x y)</code><code>(xgboost params x y)</code><code>(xgboost x y tx ty)</code><code>(xgboost xgboost-params x y tx ty)</code></div><div class="doc"><div class="markdown"><p>xgboost classifier. Backend library: xgboost</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [cl (xgboost train-data train-labels test-data test-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 2,
;;=&gt;            :data ([5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("virginica" "virginica"),
;;=&gt;            :truth ("versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9555555555555556}}
(let [cl (xgboost {:params {:eta 0.999,
                            :max_depth 1,
                            :grow_policy "lossguide",
                            :alpha 0.5},
                   :rounds 2}
                  train-data
                  train-labels
                  test-data
                  test-labels)]
  (select-keys (validate cl test-data test-labels) [:invalid :stats]))
;;=&gt; {:invalid {:count 3,
;;=&gt;            :data ([7.2 3 5.8 1.6] [5.9 3.2 4.8 1.8] [6.7 3 5 1.7]),
;;=&gt;            :prediction ("versicolor" "virginica" "virginica"),
;;=&gt;            :truth ("virginica" "versicolor" "versicolor")},
;;=&gt;  :stats {:accuracy 0.9333333333333333}}</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/classification.clj#L446">view source</a></div></div></div></body></html>