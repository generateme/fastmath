<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>fastmath.transform documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Fastmath</span> <span class="project-version">1.5.0-alpha1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fastmath</span></div></div></li><li class="depth-2 branch"><a href="fastmath.classification.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>classification</span></div></a></li><li class="depth-2 branch"><a href="fastmath.clustering.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clustering</span></div></a></li><li class="depth-2 branch"><a href="fastmath.complex.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complex</span></div></a></li><li class="depth-2 branch"><a href="fastmath.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="fastmath.distance.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>distance</span></div></a></li><li class="depth-2 branch"><a href="fastmath.easings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>easings</span></div></a></li><li class="depth-2 branch"><a href="fastmath.fields.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fields</span></div></a></li><li class="depth-2 branch"><a href="fastmath.grid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grid</span></div></a></li><li class="depth-2 branch"><a href="fastmath.interpolation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolation</span></div></a></li><li class="depth-2 branch"><a href="fastmath.kernel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kernel</span></div></a></li><li class="depth-2 branch"><a href="fastmath.optimization.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>optimization</span></div></a></li><li class="depth-2 branch"><a href="fastmath.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2 branch"><a href="fastmath.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-2 branch"><a href="fastmath.regression.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>regression</span></div></a></li><li class="depth-2 branch"><a href="fastmath.signal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal</span></div></a></li><li class="depth-2 branch"><a href="fastmath.stats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stats</span></div></a></li><li class="depth-2 branch current"><a href="fastmath.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2"><a href="fastmath.vector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="fastmath.transform.html#var-compress"><div class="inner"><span>compress</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-denoise"><div class="inner"><span>denoise</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-forward-1d"><div class="inner"><span>forward-1d</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-forward-2d"><div class="inner"><span>forward-2d</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-reverse-1d"><div class="inner"><span>reverse-1d</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-reverse-2d"><div class="inner"><span>reverse-2d</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-transformer"><div class="inner"><span>transformer</span></div></a></li><li class="depth-1"><a href="fastmath.transform.html#var-wavelets-list"><div class="inner"><span>wavelets-list</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">fastmath.transform</h1><div class="doc"><div class="markdown"><p>Transforms.</p>
<p>See <a href="fastmath.transform.html#var-transformer">transformer</a> and <a href="fastmath.protocols.html#var-TransformProto">TransformProto</a> for details.</p>
<h3><a href="#wavelet" name="wavelet"></a>Wavelet</h3>
<p>Based on <a href="https://github.com/cscheiblich/JWave/">JWave</a> library.</p>
<p>Be aware that some of the wavelet types doesnâ€™t work properly. <code>:battle-23</code>, <code>:cdf-53</code>, <code>:cdf-97</code>.</p>
<h3><a href="#cos-sin-hadamard" name="cos-sin-hadamard"></a>Cos/Sin/Hadamard</h3>
<p>Orthogonal or standard fast sine/cosine/hadamard 1d transforms.</p>
<h3><a href="#fourier" name="fourier"></a>Fourier</h3>
<p>DFT.</p></div><div class="markdown"><h4>Categories</h4><ul><li>Process: <a href="fastmath.transform.html#var-compress">compress</a> <a href="fastmath.transform.html#var-denoise">denoise</a></li><li>Transform: <a href="fastmath.transform.html#var-forward-1d">forward-1d</a> <a href="fastmath.transform.html#var-forward-2d">forward-2d</a> <a href="fastmath.transform.html#var-reverse-1d">reverse-1d</a> <a href="fastmath.transform.html#var-reverse-2d">reverse-2d</a> <a href="fastmath.transform.html#var-transformer">transformer</a> <a href="fastmath.transform.html#var-wavelets-list">wavelets-list</a></li></ul></div></div><div class="public anchor" id="var-compress"><h3>compress</h3><div class="usage"><code>(compress trans xs mag)</code><code>(compress xs mag)</code></div><div class="doc"><div class="markdown"><p>Compress transformed signal <code>xs</code> with given magnitude <code>mag</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Compress 1d - explicite usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :fast :symlet-5)]
  (seq (reverse-1d t (compress (forward-1d t [1 2 3 4]) 0.3))))
;;=&gt; (1.4193190842687744
;;=&gt;  1.5520720330586624
;;=&gt;  3.0147763185070553
;;=&gt;  4.013832564167568)</code></pre></div><div><blockquote><p>Compress 1d - implicit usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :fast :symlet-5)] (seq (compress t [1 2 3 4] 0.3)))
;;=&gt; (1.4193190842687744
;;=&gt;  1.5520720330586624
;;=&gt;  3.0147763185070553
;;=&gt;  4.013832564167568)</code></pre></div><div><blockquote><p>Compress 2d - explicit usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :fast :symlet-5)]
  (m/double-double-array-&gt;seq
   (reverse-2d t (compress (forward-2d t [[1 2] [3 4]]) 0.5))))
;;=&gt; ((1.4999999999976417 1.5000000000047216)
;;=&gt;  (3.499999999992923 3.5000000000094422))</code></pre></div><div><blockquote><p>Compress 2d - implicit usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :fast :symlet-5)]
  (m/double-double-array-&gt;seq (compress t [[1 2] [3 4]] 0.5)))
;;=&gt; ((1.4999999999976417 1.5000000000047216)
;;=&gt;  (3.499999999992923 3.5000000000094422))</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L195">view source</a></div></div><div class="public anchor" id="var-denoise"><h3>denoise</h3><div class="usage"><code>(denoise xs soft?)</code><code>(denoise trans xs soft?)</code><code>(denoise xs)</code></div><div class="doc"><div class="markdown"><p>Adaptive denoising of time series (1d).</p>
<p>Use on transformed sequences or call with transformer object.</p>
<p>SMILE implementation of WaveletShrinkage denoise function.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Denoise signal - implicit usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :packet :haar)]
  (v/approx (seq (denoise t [1 2 3 4 5 6.5 7.5 8] true))))
;;=&gt; (1.76 2.0 3.0 3.24 6.01 6.25 7.25 7.49)</code></pre></div><div><blockquote><p>Denoise signal - explicit usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :packet :haar)]
  (v/approx
   (vec (reverse-1d t
                    (denoise (forward-1d t [1 2 3 4 5 6.5 7.5 8])
                             true)))))
;;=&gt; [1.76 2.0 3.0 3.24 6.01 6.25 7.25 7.49]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L211">view source</a></div></div><div class="public anchor" id="var-forward-1d"><h3>forward-1d</h3><div class="usage"><code>(forward-1d t xs)</code></div><div class="doc"><div class="markdown"><p>Forward transform of sequence or array.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(seq (forward-1d (transformer :packet :haar-orthogonal) [-1 8 7 6]))
;;=&gt; (20.0 -6.0 -8.0 -10.0)
(seq (forward-1d (transformer :fast :haar-orthogonal) [-1 8 7 6]))
;;=&gt; (20.0 -6.0 -9.0 1.0)
(seq (forward-1d (transformer :decomposed-fast :haar-orthogonal)
                 [10 -1 8 7 6]))
;;=&gt; (24.0 -6.0 11.0 1.0 6.0)
(seq (forward-1d (transformer :orthogonal :sine) [0 -1 8 7]))
;;=&gt; (0.0 8.65685424949238 -5.65685424949238 -2.6568542494923815)
(seq (forward-1d (transformer :standard :hadamard) [-1 8 7 6]))
;;=&gt; (20.0 -8.0 -6.0 -10.0)
(seq (forward-1d (transformer :standard :dft) [-1 8 7 6]))
;;=&gt; (3.0 7.0 -3.9999999999999996 0.9999999999999996)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L173">view source</a></div></div><div class="public anchor" id="var-forward-2d"><h3>forward-2d</h3><div class="usage"><code>(forward-2d t xss)</code></div><div class="doc"><div class="markdown"><p>Forward transform of sequence or array.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(m/double-double-array-&gt;seq
 (forward-2d (transformer :packet :daubechies-6) [[-1 8] [7 6]]))
;;=&gt; ((9.999999999999998 -3.9999999999999987)
;;=&gt;  (-3.000000000000001 -4.999999999999999))
(m/double-double-array-&gt;seq
 (forward-2d (transformer :fast :daubechies-6) [[-1 8] [7 6]]))
;;=&gt; ((9.999999999999998 -3.9999999999999987)
;;=&gt;  (-3.000000000000001 -4.999999999999999))</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L183">view source</a></div></div><div class="public anchor" id="var-reverse-1d"><h3>reverse-1d</h3><div class="usage"><code>(reverse-1d t xs)</code></div><div class="doc"><div class="markdown"><p>Forward transform of sequence or array.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :packet :haar-orthogonal)]
  (seq (reverse-1d t (forward-1d t [-1 8 7 6]))))
;;=&gt; (-1.0 8.0 7.0 6.0)
(let [t (transformer :fast :haar-orthogonal)]
  (seq (reverse-1d t (forward-1d t [-1 8 7 6]))))
;;=&gt; (-1.0 8.0 7.0 6.0)
(let [t (transformer :decomposed-fast :haar-orthogonal)]
  (seq (reverse-1d t (forward-1d t [10 -1 8 7 6]))))
;;=&gt; (10.0 -1.0 8.0 7.0 6.0)
(let [t (transformer :orthogonal :sine)]
  (seq (reverse-1d t (forward-1d t [0 8 7 6]))))
;;=&gt; (0.0 8.0 7.000000000000002 6.0)
(let [t (transformer :standard :hadamard)]
  (seq (reverse-1d t (forward-1d t [-1 8 7 6]))))
;;=&gt; (-1.0 8.0 7.0 6.0)
(let [t (transformer :standard :dft)]
  (seq (reverse-1d t (forward-1d t [-1 8 7 6]))))
;;=&gt; (-0.9999999999999996 8.0 7.0 6.0)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L178">view source</a></div></div><div class="public anchor" id="var-reverse-2d"><h3>reverse-2d</h3><div class="usage"><code>(reverse-2d t xss)</code></div><div class="doc"><div class="markdown"><p>Forward transform of sequence or array.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [t (transformer :packet :daubechies-20)]
  (m/double-double-array-&gt;seq
   (reverse-2d t (forward-2d t [[-1 8] [7 6]]))))
;;=&gt; ((-0.9999999999999988 7.9999999999999964)
;;=&gt;  (6.999999999999999 5.999999999999997))
(let [t (transformer :fast :daubechies-20)]
  (m/double-double-array-&gt;seq
   (reverse-2d t (forward-2d t [[-1 8] [7 6]]))))
;;=&gt; ((-0.9999999999999988 7.9999999999999964)
;;=&gt;  (6.999999999999999 5.999999999999997))</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L188">view source</a></div></div><div class="public anchor" id="var-transformer"><h3>transformer</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Create transform object for given wavelet.</p>
<h4><a href="#wavelets" name="wavelets"></a>Wavelets</h4>
<ul>
  <li><code>:fast</code> for 1d or 2d Fast Wavelet Transform. Size of data should be power of <code>2</code>.</li>
  <li><code>:packet</code> for 1d or 2d Wavelet Packet Transform. Size of data should be power of <code>2</code>.</li>
  <li><code>:decomposed-fast</code> for 1d Fast Wavelet Transform. Data can have any size (Ancient Egyptian Decomposition is used).</li>
  <li><code>:decomposed-packet</code> for 1d Wavelet Packet Transform. Data can have any size (Ancient Egyptian Decomposition is used).</li>
</ul>
<p>Second argument is wavelet name as key. See <a href="fastmath.transform.html#var-wavelets-list">wavelets-list</a> for all supported names.</p>
<h4><a href="#sine-cosine-hadamard" name="sine-cosine-hadamard"></a>Sine/Cosine/Hadamard</h4>
<ul>
  <li><code>:standard</code> for 1d <code>:sine</code>, <code>:cosine</code>, <code>:hadamard</code>.</li>
  <li><code>:orthogonal</code> for 1d <code>:sine</code>, <code>:cosine</code>.</li>
</ul>
<p>Note that <code>:sine</code> and <code>:cosine</code> require first element to be equal <code>0</code>. Size of data should be power of 2.</p>
<h4><a href="#fourier" name="fourier"></a>Fourier</h4>
<ul>
  <li><code>:standard</code> <code>:dft</code> - 1d Discrete Fourier Transform - returns double-array where even elements are real part, odd elements are imaginary part.</li>
</ul></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(transformer :packet :discrete-mayer)
;;=&gt; jwave.transforms.WaveletPacketTransform@30573e40</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L121">view source</a></div></div><div class="public anchor" id="var-wavelets-list"><h3>wavelets-list</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of all possible wavelets.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of wavelets</p></blockquote><pre><code class="hljs clojure">(sort wavelets-list)
;;=&gt; (:battle-23
;;=&gt;  :biorthogonal-11 :biorthogonal-13
;;=&gt;  :biorthogonal-15 :biorthogonal-22
;;=&gt;  :biorthogonal-24 :biorthogonal-26
;;=&gt;  :biorthogonal-28 :biorthogonal-31
;;=&gt;  :biorthogonal-33 :biorthogonal-35
;;=&gt;  :biorthogonal-37 :biorthogonal-39
;;=&gt;  :biorthogonal-44 :biorthogonal-55
;;=&gt;  :biorthogonal-68 :cdf-53
;;=&gt;  :cdf-97 :coiflet-1
;;=&gt;  :coiflet-2 :coiflet-3
;;=&gt;  :coiflet-4 :coiflet-5
;;=&gt;  :daubechies-10 :daubechies-11
;;=&gt;  :daubechies-12 :daubechies-13
;;=&gt;  :daubechies-14 :daubechies-15
;;=&gt;  :daubechies-16 :daubechies-17
;;=&gt;  :daubechies-18 :daubechies-19
;;=&gt;  :daubechies-2 :daubechies-20
;;=&gt;  :daubechies-3 :daubechies-4
;;=&gt;  :daubechies-5 :daubechies-6
;;=&gt;  :daubechies-7 :daubechies-8
;;=&gt;  :daubechies-9 :discrete-mayer
;;=&gt;  :haar :haar-orthogonal
;;=&gt;  :legendre-1 :legendre-2
;;=&gt;  :legendre-3 :symlet-10
;;=&gt;  :symlet-11 :symlet-12
;;=&gt;  :symlet-13 :symlet-14
;;=&gt;  :symlet-15 :symlet-16
;;=&gt;  :symlet-17 :symlet-18
;;=&gt;  :symlet-19 :symlet-2
;;=&gt;  :symlet-20 :symlet-3
;;=&gt;  :symlet-4 :symlet-5
;;=&gt;  :symlet-6 :symlet-7
;;=&gt;  :symlet-8 :symlet-9)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/transform.clj#L117">view source</a></div></div></div></body></html>