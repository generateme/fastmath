<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Vectors and matrices â€“ Fastmath documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./complex_quaternions.html" rel="next">
<link href="./core.html" rel="prev">
<link href="./clay/resources/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-494121dfa8658343c03537e94414993d.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5080318e4e0fa5434adc66c5e0128d3e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./vector_matrix.html">Vectors and matrices</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fastmath documentation</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vector_matrix.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Vectors and matrices</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./complex_quaternions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Complex numbers and quaternions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Random</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./polynomials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polynomials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./special.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Special functions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calculus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpolation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interpolation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transforms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Machine Learning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./easings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Easings</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fields.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector fields</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./efloat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EFloat</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#vectors" id="toc-vectors" class="nav-link active" data-scroll-target="#vectors">Vectors</a>
  <ul>
  <li><a href="#vector-types" id="toc-vector-types" class="nav-link" data-scroll-target="#vector-types">Vector Types</a></li>
  <li><a href="#creation-and-conversion" id="toc-creation-and-conversion" class="nav-link" data-scroll-target="#creation-and-conversion">Creation and Conversion</a>
  <ul>
  <li><a href="#creation" id="toc-creation" class="nav-link" data-scroll-target="#creation">Creation</a></li>
  <li><a href="#conversion" id="toc-conversion" class="nav-link" data-scroll-target="#conversion">Conversion</a></li>
  </ul></li>
  <li><a href="#interoperability" id="toc-interoperability" class="nav-link" data-scroll-target="#interoperability">Interoperability</a></li>
  <li><a href="#vector-arithmetic-and-operations" id="toc-vector-arithmetic-and-operations" class="nav-link" data-scroll-target="#vector-arithmetic-and-operations">Vector Arithmetic and Operations</a>
  <ul>
  <li><a href="#basic-operations" id="toc-basic-operations" class="nav-link" data-scroll-target="#basic-operations">Basic operations</a></li>
  <li><a href="#comparison-and-equality" id="toc-comparison-and-equality" class="nav-link" data-scroll-target="#comparison-and-equality">Comparison and Equality</a></li>
  <li><a href="#interpolation-and-clamping" id="toc-interpolation-and-clamping" class="nav-link" data-scroll-target="#interpolation-and-clamping">Interpolation and Clamping</a></li>
  <li><a href="#element-wise-functions" id="toc-element-wise-functions" class="nav-link" data-scroll-target="#element-wise-functions">Element-wise Functions</a></li>
  </ul></li>
  <li><a href="#geometric-properties-and-operations" id="toc-geometric-properties-and-operations" class="nav-link" data-scroll-target="#geometric-properties-and-operations">Geometric Properties and Operations</a></li>
  <li><a href="#distances-and-similarities" id="toc-distances-and-similarities" class="nav-link" data-scroll-target="#distances-and-similarities">Distances and Similarities</a></li>
  <li><a href="#advanced-and-specific-operations" id="toc-advanced-and-specific-operations" class="nav-link" data-scroll-target="#advanced-and-specific-operations">Advanced and Specific Operations</a></li>
  </ul></li>
  <li><a href="#matrices" id="toc-matrices" class="nav-link" data-scroll-target="#matrices">Matrices</a>
  <ul>
  <li><a href="#supported-matrix-types" id="toc-supported-matrix-types" class="nav-link" data-scroll-target="#supported-matrix-types">Supported Matrix Types</a></li>
  <li><a href="#creation-and-conversion-1" id="toc-creation-and-conversion-1" class="nav-link" data-scroll-target="#creation-and-conversion-1">Creation and Conversion</a>
  <ul>
  <li><a href="#creating-fixed-size-matrices" id="toc-creating-fixed-size-matrices" class="nav-link" data-scroll-target="#creating-fixed-size-matrices">Creating Fixed-Size Matrices</a></li>
  <li><a href="#creating-arbitrary-size-matrices" id="toc-creating-arbitrary-size-matrices" class="nav-link" data-scroll-target="#creating-arbitrary-size-matrices">Creating Arbitrary-Size Matrices</a></li>
  <li><a href="#generic-creation" id="toc-generic-creation" class="nav-link" data-scroll-target="#generic-creation">Generic Creation</a></li>
  <li><a href="#conversion-tofrom-arrays-and-sequences" id="toc-conversion-tofrom-arrays-and-sequences" class="nav-link" data-scroll-target="#conversion-tofrom-arrays-and-sequences">Conversion to/from Arrays and Sequences</a></li>
  <li><a href="#special-matrices" id="toc-special-matrices" class="nav-link" data-scroll-target="#special-matrices">Special Matrices</a></li>
  </ul></li>
  <li><a href="#interoperability-1" id="toc-interoperability-1" class="nav-link" data-scroll-target="#interoperability-1">Interoperability</a></li>
  <li><a href="#accessing-elements-and-properties" id="toc-accessing-elements-and-properties" class="nav-link" data-scroll-target="#accessing-elements-and-properties">Accessing Elements and Properties</a>
  <ul>
  <li><a href="#element-row-and-column-access" id="toc-element-row-and-column-access" class="nav-link" data-scroll-target="#element-row-and-column-access">Element, Row, and Column Access</a></li>
  <li><a href="#size-and-shape" id="toc-size-and-shape" class="nav-link" data-scroll-target="#size-and-shape">Size and Shape</a></li>
  <li><a href="#properties" id="toc-properties" class="nav-link" data-scroll-target="#properties">Properties</a></li>
  </ul></li>
  <li><a href="#matrix-arithmetic-and-operations" id="toc-matrix-arithmetic-and-operations" class="nav-link" data-scroll-target="#matrix-arithmetic-and-operations">Matrix Arithmetic and Operations</a>
  <ul>
  <li><a href="#basic-arithmetic" id="toc-basic-arithmetic" class="nav-link" data-scroll-target="#basic-arithmetic">Basic Arithmetic</a></li>
  <li><a href="#matrix-multiplication" id="toc-matrix-multiplication" class="nav-link" data-scroll-target="#matrix-multiplication">Matrix Multiplication</a></li>
  <li><a href="#element-wise-operations" id="toc-element-wise-operations" class="nav-link" data-scroll-target="#element-wise-operations">Element-wise Operations</a></li>
  <li><a href="#rows-and-columns-operations" id="toc-rows-and-columns-operations" class="nav-link" data-scroll-target="#rows-and-columns-operations">Rows and Columns Operations</a></li>
  </ul></li>
  <li><a href="#geometric-transformations" id="toc-geometric-transformations" class="nav-link" data-scroll-target="#geometric-transformations">Geometric Transformations</a>
  <ul>
  <li><a href="#d-rotation" id="toc-d-rotation" class="nav-link" data-scroll-target="#d-rotation">2D Rotation</a></li>
  <li><a href="#d-rotations" id="toc-d-rotations" class="nav-link" data-scroll-target="#d-rotations">3D Rotations</a></li>
  </ul></li>
  <li><a href="#matrix-decompositions" id="toc-matrix-decompositions" class="nav-link" data-scroll-target="#matrix-decompositions">Matrix Decompositions</a>
  <ul>
  <li><a href="#qr" id="toc-qr" class="nav-link" data-scroll-target="#qr">QR</a></li>
  <li><a href="#rrqr" id="toc-rrqr" class="nav-link" data-scroll-target="#rrqr">RRQR</a></li>
  <li><a href="#cholesky" id="toc-cholesky" class="nav-link" data-scroll-target="#cholesky">Cholesky</a></li>
  <li><a href="#svd" id="toc-svd" class="nav-link" data-scroll-target="#svd">SVD</a></li>
  <li><a href="#lu" id="toc-lu" class="nav-link" data-scroll-target="#lu">LU</a></li>
  <li><a href="#eigen" id="toc-eigen" class="nav-link" data-scroll-target="#eigen">Eigen</a></li>
  </ul></li>
  <li><a href="#solving-linear-systems" id="toc-solving-linear-systems" class="nav-link" data-scroll-target="#solving-linear-systems">Solving Linear Systems</a></li>
  <li><a href="#eigenvalues-and-singular-values" id="toc-eigenvalues-and-singular-values" class="nav-link" data-scroll-target="#eigenvalues-and-singular-values">Eigenvalues and Singular Values</a></li>
  <li><a href="#matrix-norms-and-condition-number" id="toc-matrix-norms-and-condition-number" class="nav-link" data-scroll-target="#matrix-norms-and-condition-number">Matrix Norms and Condition Number</a></li>
  </ul></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a>
  <ul>
  <li><a href="#fastmath.vector" id="toc-fastmath.vector" class="nav-link" data-scroll-target="#fastmath.vector">fastmath.vector</a>
  <ul>
  <li><a href="#arrayvec" id="toc-arrayvec" class="nav-link" data-scroll-target="#arrayvec">-&gt;ArrayVec</a></li>
  <li><a href="#vec2" id="toc-vec2" class="nav-link" data-scroll-target="#vec2">-&gt;Vec2</a></li>
  <li><a href="#vec3" id="toc-vec3" class="nav-link" data-scroll-target="#vec3">-&gt;Vec3</a></li>
  <li><a href="#vec4" id="toc-vec4" class="nav-link" data-scroll-target="#vec4">-&gt;Vec4</a></li>
  <li><a href="#abs" id="toc-abs" class="nav-link" data-scroll-target="#abs">abs</a></li>
  <li><a href="#acos" id="toc-acos" class="nav-link" data-scroll-target="#acos">acos</a></li>
  <li><a href="#acosh" id="toc-acosh" class="nav-link" data-scroll-target="#acosh">acosh</a></li>
  <li><a href="#acot" id="toc-acot" class="nav-link" data-scroll-target="#acot">acot</a></li>
  <li><a href="#acoth" id="toc-acoth" class="nav-link" data-scroll-target="#acoth">acoth</a></li>
  <li><a href="#acsc" id="toc-acsc" class="nav-link" data-scroll-target="#acsc">acsc</a></li>
  <li><a href="#acsch" id="toc-acsch" class="nav-link" data-scroll-target="#acsch">acsch</a></li>
  <li><a href="#add" id="toc-add" class="nav-link" data-scroll-target="#add">add</a></li>
  <li><a href="#aligned" id="toc-aligned" class="nav-link" data-scroll-target="#aligned">aligned?</a></li>
  <li><a href="#angle-between" id="toc-angle-between" class="nav-link" data-scroll-target="#angle-between">angle-between</a></li>
  <li><a href="#applyf-deprecated" id="toc-applyf-deprecated" class="nav-link" data-scroll-target="#applyf-deprecated">applyf <sup><sub>DEPRECATED</sub></sup></a></li>
  <li><a href="#approx" id="toc-approx" class="nav-link" data-scroll-target="#approx">approx</a></li>
  <li><a href="#array-vec2" id="toc-array-vec2" class="nav-link" data-scroll-target="#array-vec2">array-&gt;vec2</a></li>
  <li><a href="#array-vec3" id="toc-array-vec3" class="nav-link" data-scroll-target="#array-vec3">array-&gt;vec3</a></li>
  <li><a href="#array-vec4" id="toc-array-vec4" class="nav-link" data-scroll-target="#array-vec4">array-&gt;vec4</a></li>
  <li><a href="#array-vec" id="toc-array-vec" class="nav-link" data-scroll-target="#array-vec">array-vec</a></li>
  <li><a href="#as-vec" id="toc-as-vec" class="nav-link" data-scroll-target="#as-vec">as-vec</a></li>
  <li><a href="#asec" id="toc-asec" class="nav-link" data-scroll-target="#asec">asec</a></li>
  <li><a href="#asech" id="toc-asech" class="nav-link" data-scroll-target="#asech">asech</a></li>
  <li><a href="#asin" id="toc-asin" class="nav-link" data-scroll-target="#asin">asin</a></li>
  <li><a href="#asinh" id="toc-asinh" class="nav-link" data-scroll-target="#asinh">asinh</a></li>
  <li><a href="#atan" id="toc-atan" class="nav-link" data-scroll-target="#atan">atan</a></li>
  <li><a href="#atanh" id="toc-atanh" class="nav-link" data-scroll-target="#atanh">atanh</a></li>
  <li><a href="#average" id="toc-average" class="nav-link" data-scroll-target="#average">average</a></li>
  <li><a href="#average-vectors" id="toc-average-vectors" class="nav-link" data-scroll-target="#average-vectors">average-vectors</a></li>
  <li><a href="#axis-rotate" id="toc-axis-rotate" class="nav-link" data-scroll-target="#axis-rotate">axis-rotate</a></li>
  <li><a href="#base-from" id="toc-base-from" class="nav-link" data-scroll-target="#base-from">base-from</a></li>
  <li><a href="#cb" id="toc-cb" class="nav-link" data-scroll-target="#cb">cb</a></li>
  <li><a href="#cbrt" id="toc-cbrt" class="nav-link" data-scroll-target="#cbrt">cbrt</a></li>
  <li><a href="#ceil" id="toc-ceil" class="nav-link" data-scroll-target="#ceil">ceil</a></li>
  <li><a href="#clamp" id="toc-clamp" class="nav-link" data-scroll-target="#clamp">clamp</a></li>
  <li><a href="#cos" id="toc-cos" class="nav-link" data-scroll-target="#cos">cos</a></li>
  <li><a href="#cosh" id="toc-cosh" class="nav-link" data-scroll-target="#cosh">cosh</a></li>
  <li><a href="#cot" id="toc-cot" class="nav-link" data-scroll-target="#cot">cot</a></li>
  <li><a href="#coth" id="toc-coth" class="nav-link" data-scroll-target="#coth">coth</a></li>
  <li><a href="#cross" id="toc-cross" class="nav-link" data-scroll-target="#cross">cross</a></li>
  <li><a href="#csc" id="toc-csc" class="nav-link" data-scroll-target="#csc">csc</a></li>
  <li><a href="#csch" id="toc-csch" class="nav-link" data-scroll-target="#csch">csch</a></li>
  <li><a href="#degrees" id="toc-degrees" class="nav-link" data-scroll-target="#degrees">degrees</a></li>
  <li><a href="#delta-eq" id="toc-delta-eq" class="nav-link" data-scroll-target="#delta-eq">delta-eq</a></li>
  <li><a href="#dhash-code" id="toc-dhash-code" class="nav-link" data-scroll-target="#dhash-code">dhash-code</a></li>
  <li><a href="#dist" id="toc-dist" class="nav-link" data-scroll-target="#dist">dist</a></li>
  <li><a href="#dist-abs" id="toc-dist-abs" class="nav-link" data-scroll-target="#dist-abs">dist-abs</a></li>
  <li><a href="#dist-ang" id="toc-dist-ang" class="nav-link" data-scroll-target="#dist-ang">dist-ang</a></li>
  <li><a href="#dist-canberra" id="toc-dist-canberra" class="nav-link" data-scroll-target="#dist-canberra">dist-canberra</a></li>
  <li><a href="#dist-cheb" id="toc-dist-cheb" class="nav-link" data-scroll-target="#dist-cheb">dist-cheb</a></li>
  <li><a href="#dist-discrete" id="toc-dist-discrete" class="nav-link" data-scroll-target="#dist-discrete">dist-discrete</a></li>
  <li><a href="#dist-emd" id="toc-dist-emd" class="nav-link" data-scroll-target="#dist-emd">dist-emd</a></li>
  <li><a href="#dist-sq" id="toc-dist-sq" class="nav-link" data-scroll-target="#dist-sq">dist-sq</a></li>
  <li><a href="#distances" id="toc-distances" class="nav-link" data-scroll-target="#distances">distances</a></li>
  <li><a href="#div" id="toc-div" class="nav-link" data-scroll-target="#div">div</a></li>
  <li><a href="#dot" id="toc-dot" class="nav-link" data-scroll-target="#dot">dot</a></li>
  <li><a href="#econstrain" id="toc-econstrain" class="nav-link" data-scroll-target="#econstrain">econstrain</a></li>
  <li><a href="#edelta-eq" id="toc-edelta-eq" class="nav-link" data-scroll-target="#edelta-eq">edelta-eq</a></li>
  <li><a href="#ediv" id="toc-ediv" class="nav-link" data-scroll-target="#ediv">ediv</a></li>
  <li><a href="#einterpolate" id="toc-einterpolate" class="nav-link" data-scroll-target="#einterpolate">einterpolate</a></li>
  <li><a href="#emn" id="toc-emn" class="nav-link" data-scroll-target="#emn">emn</a></li>
  <li><a href="#emult" id="toc-emult" class="nav-link" data-scroll-target="#emult">emult</a></li>
  <li><a href="#emx" id="toc-emx" class="nav-link" data-scroll-target="#emx">emx</a></li>
  <li><a href="#exp" id="toc-exp" class="nav-link" data-scroll-target="#exp">exp</a></li>
  <li><a href="#expm1" id="toc-expm1" class="nav-link" data-scroll-target="#expm1">expm1</a></li>
  <li><a href="#faceforward" id="toc-faceforward" class="nav-link" data-scroll-target="#faceforward">faceforward</a></li>
  <li><a href="#floor" id="toc-floor" class="nav-link" data-scroll-target="#floor">floor</a></li>
  <li><a href="#fmap" id="toc-fmap" class="nav-link" data-scroll-target="#fmap">fmap</a></li>
  <li><a href="#frac" id="toc-frac" class="nav-link" data-scroll-target="#frac">frac</a></li>
  <li><a href="#from-polar" id="toc-from-polar" class="nav-link" data-scroll-target="#from-polar">from-polar</a></li>
  <li><a href="#generate-vec2" id="toc-generate-vec2" class="nav-link" data-scroll-target="#generate-vec2">generate-vec2</a></li>
  <li><a href="#generate-vec3" id="toc-generate-vec3" class="nav-link" data-scroll-target="#generate-vec3">generate-vec3</a></li>
  <li><a href="#generate-vec4" id="toc-generate-vec4" class="nav-link" data-scroll-target="#generate-vec4">generate-vec4</a></li>
  <li><a href="#heading" id="toc-heading" class="nav-link" data-scroll-target="#heading">heading</a></li>
  <li><a href="#interpolate" id="toc-interpolate" class="nav-link" data-scroll-target="#interpolate">interpolate</a></li>
  <li><a href="#is-near-zero" id="toc-is-near-zero" class="nav-link" data-scroll-target="#is-near-zero">is-near-zero?</a></li>
  <li><a href="#is-zero" id="toc-is-zero" class="nav-link" data-scroll-target="#is-zero">is-zero?</a></li>
  <li><a href="#lerp" id="toc-lerp" class="nav-link" data-scroll-target="#lerp">lerp</a></li>
  <li><a href="#limit" id="toc-limit" class="nav-link" data-scroll-target="#limit">limit</a></li>
  <li><a href="#ln" id="toc-ln" class="nav-link" data-scroll-target="#ln">ln</a></li>
  <li><a href="#log" id="toc-log" class="nav-link" data-scroll-target="#log">log</a></li>
  <li><a href="#log10" id="toc-log10" class="nav-link" data-scroll-target="#log10">log10</a></li>
  <li><a href="#log1mexp" id="toc-log1mexp" class="nav-link" data-scroll-target="#log1mexp">log1mexp</a></li>
  <li><a href="#log1p" id="toc-log1p" class="nav-link" data-scroll-target="#log1p">log1p</a></li>
  <li><a href="#log1pexp" id="toc-log1pexp" class="nav-link" data-scroll-target="#log1pexp">log1pexp</a></li>
  <li><a href="#log1pmx" id="toc-log1pmx" class="nav-link" data-scroll-target="#log1pmx">log1pmx</a></li>
  <li><a href="#log1psq" id="toc-log1psq" class="nav-link" data-scroll-target="#log1psq">log1psq</a></li>
  <li><a href="#log2" id="toc-log2" class="nav-link" data-scroll-target="#log2">log2</a></li>
  <li><a href="#logexpm1" id="toc-logexpm1" class="nav-link" data-scroll-target="#logexpm1">logexpm1</a></li>
  <li><a href="#logit" id="toc-logit" class="nav-link" data-scroll-target="#logit">logit</a></li>
  <li><a href="#logmeanexp" id="toc-logmeanexp" class="nav-link" data-scroll-target="#logmeanexp">logmeanexp</a></li>
  <li><a href="#logmxp1" id="toc-logmxp1" class="nav-link" data-scroll-target="#logmxp1">logmxp1</a></li>
  <li><a href="#logsoftmax" id="toc-logsoftmax" class="nav-link" data-scroll-target="#logsoftmax">logsoftmax</a></li>
  <li><a href="#logsumexp" id="toc-logsumexp" class="nav-link" data-scroll-target="#logsumexp">logsumexp</a></li>
  <li><a href="#mag" id="toc-mag" class="nav-link" data-scroll-target="#mag">mag</a></li>
  <li><a href="#magsq" id="toc-magsq" class="nav-link" data-scroll-target="#magsq">magsq</a></li>
  <li><a href="#make-vector" id="toc-make-vector" class="nav-link" data-scroll-target="#make-vector">make-vector</a></li>
  <li><a href="#maxdim" id="toc-maxdim" class="nav-link" data-scroll-target="#maxdim">maxdim</a></li>
  <li><a href="#mindim" id="toc-mindim" class="nav-link" data-scroll-target="#mindim">mindim</a></li>
  <li><a href="#mn" id="toc-mn" class="nav-link" data-scroll-target="#mn">mn</a></li>
  <li><a href="#mult" id="toc-mult" class="nav-link" data-scroll-target="#mult">mult</a></li>
  <li><a href="#mx" id="toc-mx" class="nav-link" data-scroll-target="#mx">mx</a></li>
  <li><a href="#near-zero" id="toc-near-zero" class="nav-link" data-scroll-target="#near-zero">near-zero?</a></li>
  <li><a href="#nonzero-count" id="toc-nonzero-count" class="nav-link" data-scroll-target="#nonzero-count">nonzero-count</a></li>
  <li><a href="#normalize" id="toc-normalize" class="nav-link" data-scroll-target="#normalize">normalize</a></li>
  <li><a href="#orthogonal-polynomials" id="toc-orthogonal-polynomials" class="nav-link" data-scroll-target="#orthogonal-polynomials">orthogonal-polynomials</a></li>
  <li><a href="#orthonormal-polynomials" id="toc-orthonormal-polynomials" class="nav-link" data-scroll-target="#orthonormal-polynomials">orthonormal-polynomials</a></li>
  <li><a href="#permute" id="toc-permute" class="nav-link" data-scroll-target="#permute">permute</a></li>
  <li><a href="#perpendicular" id="toc-perpendicular" class="nav-link" data-scroll-target="#perpendicular">perpendicular</a></li>
  <li><a href="#pow" id="toc-pow" class="nav-link" data-scroll-target="#pow">pow</a></li>
  <li><a href="#prod" id="toc-prod" class="nav-link" data-scroll-target="#prod">prod</a></li>
  <li><a href="#project" id="toc-project" class="nav-link" data-scroll-target="#project">project</a></li>
  <li><a href="#radians" id="toc-radians" class="nav-link" data-scroll-target="#radians">radians</a></li>
  <li><a href="#real-vector" id="toc-real-vector" class="nav-link" data-scroll-target="#real-vector">real-vector</a></li>
  <li><a href="#reciprocal" id="toc-reciprocal" class="nav-link" data-scroll-target="#reciprocal">reciprocal</a></li>
  <li><a href="#relative-angle-between" id="toc-relative-angle-between" class="nav-link" data-scroll-target="#relative-angle-between">relative-angle-between</a></li>
  <li><a href="#rint" id="toc-rint" class="nav-link" data-scroll-target="#rint">rint</a></li>
  <li><a href="#rotate" id="toc-rotate" class="nav-link" data-scroll-target="#rotate">rotate</a></li>
  <li><a href="#round" id="toc-round" class="nav-link" data-scroll-target="#round">round</a></li>
  <li><a href="#safe-sqrt" id="toc-safe-sqrt" class="nav-link" data-scroll-target="#safe-sqrt">safe-sqrt</a></li>
  <li><a href="#sec" id="toc-sec" class="nav-link" data-scroll-target="#sec">sec</a></li>
  <li><a href="#sech" id="toc-sech" class="nav-link" data-scroll-target="#sech">sech</a></li>
  <li><a href="#seq-vec2" id="toc-seq-vec2" class="nav-link" data-scroll-target="#seq-vec2">seq-&gt;vec2</a></li>
  <li><a href="#seq-vec3" id="toc-seq-vec3" class="nav-link" data-scroll-target="#seq-vec3">seq-&gt;vec3</a></li>
  <li><a href="#seq-vec4" id="toc-seq-vec4" class="nav-link" data-scroll-target="#seq-vec4">seq-&gt;vec4</a></li>
  <li><a href="#set-mag" id="toc-set-mag" class="nav-link" data-scroll-target="#set-mag">set-mag</a></li>
  <li><a href="#sfrac" id="toc-sfrac" class="nav-link" data-scroll-target="#sfrac">sfrac</a></li>
  <li><a href="#sgn" id="toc-sgn" class="nav-link" data-scroll-target="#sgn">sgn</a></li>
  <li><a href="#shift" id="toc-shift" class="nav-link" data-scroll-target="#shift">shift</a></li>
  <li><a href="#sigmoid" id="toc-sigmoid" class="nav-link" data-scroll-target="#sigmoid">sigmoid</a></li>
  <li><a href="#signum" id="toc-signum" class="nav-link" data-scroll-target="#signum">signum</a></li>
  <li><a href="#sim-cos" id="toc-sim-cos" class="nav-link" data-scroll-target="#sim-cos">sim-cos</a></li>
  <li><a href="#sin" id="toc-sin" class="nav-link" data-scroll-target="#sin">sin</a></li>
  <li><a href="#sinc" id="toc-sinc" class="nav-link" data-scroll-target="#sinc">sinc</a></li>
  <li><a href="#sinh" id="toc-sinh" class="nav-link" data-scroll-target="#sinh">sinh</a></li>
  <li><a href="#size" id="toc-size" class="nav-link" data-scroll-target="#size">size</a></li>
  <li><a href="#softmax" id="toc-softmax" class="nav-link" data-scroll-target="#softmax">softmax</a></li>
  <li><a href="#sq" id="toc-sq" class="nav-link" data-scroll-target="#sq">sq</a></li>
  <li><a href="#sqrt" id="toc-sqrt" class="nav-link" data-scroll-target="#sqrt">sqrt</a></li>
  <li><a href="#sub" id="toc-sub" class="nav-link" data-scroll-target="#sub">sub</a></li>
  <li><a href="#sum" id="toc-sum" class="nav-link" data-scroll-target="#sum">sum</a></li>
  <li><a href="#tan" id="toc-tan" class="nav-link" data-scroll-target="#tan">tan</a></li>
  <li><a href="#tanh" id="toc-tanh" class="nav-link" data-scroll-target="#tanh">tanh</a></li>
  <li><a href="#to-polar" id="toc-to-polar" class="nav-link" data-scroll-target="#to-polar">to-polar</a></li>
  <li><a href="#to-vec-deprecated" id="toc-to-vec-deprecated" class="nav-link" data-scroll-target="#to-vec-deprecated">to-vec <sup><sub>DEPRECATED</sub></sup></a></li>
  <li><a href="#transform" id="toc-transform" class="nav-link" data-scroll-target="#transform">transform</a></li>
  <li><a href="#triple-product" id="toc-triple-product" class="nav-link" data-scroll-target="#triple-product">triple-product</a></li>
  <li><a href="#trunc" id="toc-trunc" class="nav-link" data-scroll-target="#trunc">trunc</a></li>
  <li><a href="#vec-realvector" id="toc-vec-realvector" class="nav-link" data-scroll-target="#vec-realvector">vec-&gt;RealVector</a></li>
  <li><a href="#vec-vec" id="toc-vec-vec" class="nav-link" data-scroll-target="#vec-vec">vec-&gt;Vec</a></li>
  <li><a href="#vec-array" id="toc-vec-array" class="nav-link" data-scroll-target="#vec-array">vec-&gt;array</a></li>
  <li><a href="#vec-seq" id="toc-vec-seq" class="nav-link" data-scroll-target="#vec-seq">vec-&gt;seq</a></li>
  <li><a href="#vec2-1" id="toc-vec2-1" class="nav-link" data-scroll-target="#vec2-1">vec2</a></li>
  <li><a href="#vec3-1" id="toc-vec3-1" class="nav-link" data-scroll-target="#vec3-1">vec3</a></li>
  <li><a href="#vec4-1" id="toc-vec4-1" class="nav-link" data-scroll-target="#vec4-1">vec4</a></li>
  <li><a href="#xlogx" id="toc-xlogx" class="nav-link" data-scroll-target="#xlogx">xlogx</a></li>
  <li><a href="#zero-count" id="toc-zero-count" class="nav-link" data-scroll-target="#zero-count">zero-count</a></li>
  <li><a href="#zero" id="toc-zero" class="nav-link" data-scroll-target="#zero">zero?</a></li>
  </ul></li>
  <li><a href="#fastmath.matrix" id="toc-fastmath.matrix" class="nav-link" data-scroll-target="#fastmath.matrix">fastmath.matrix</a>
  <ul>
  <li><a href="#mat2x2" id="toc-mat2x2" class="nav-link" data-scroll-target="#mat2x2">-&gt;Mat2x2</a></li>
  <li><a href="#mat3x3" id="toc-mat3x3" class="nav-link" data-scroll-target="#mat3x3">-&gt;Mat3x3</a></li>
  <li><a href="#mat4x4" id="toc-mat4x4" class="nav-link" data-scroll-target="#mat4x4">-&gt;Mat4x4</a></li>
  <li><a href="#matrixdecomposition" id="toc-matrixdecomposition" class="nav-link" data-scroll-target="#matrixdecomposition">-&gt;MatrixDecomposition</a></li>
  <li><a href="#acos-1" id="toc-acos-1" class="nav-link" data-scroll-target="#acos-1">acos</a></li>
  <li><a href="#acosh-1" id="toc-acosh-1" class="nav-link" data-scroll-target="#acosh-1">acosh</a></li>
  <li><a href="#acot-1" id="toc-acot-1" class="nav-link" data-scroll-target="#acot-1">acot</a></li>
  <li><a href="#acoth-1" id="toc-acoth-1" class="nav-link" data-scroll-target="#acoth-1">acoth</a></li>
  <li><a href="#acsc-1" id="toc-acsc-1" class="nav-link" data-scroll-target="#acsc-1">acsc</a></li>
  <li><a href="#acsch-1" id="toc-acsch-1" class="nav-link" data-scroll-target="#acsch-1">acsch</a></li>
  <li><a href="#add-1" id="toc-add-1" class="nav-link" data-scroll-target="#add-1">add</a></li>
  <li><a href="#adds" id="toc-adds" class="nav-link" data-scroll-target="#adds">adds</a></li>
  <li><a href="#array2d-realmatrix" id="toc-array2d-realmatrix" class="nav-link" data-scroll-target="#array2d-realmatrix">array2d-&gt;RealMatrix</a></li>
  <li><a href="#array2d-mat2x2" id="toc-array2d-mat2x2" class="nav-link" data-scroll-target="#array2d-mat2x2">array2d-&gt;mat2x2</a></li>
  <li><a href="#array2d-mat3x3" id="toc-array2d-mat3x3" class="nav-link" data-scroll-target="#array2d-mat3x3">array2d-&gt;mat3x3</a></li>
  <li><a href="#array2d-mat4x4" id="toc-array2d-mat4x4" class="nav-link" data-scroll-target="#array2d-mat4x4">array2d-&gt;mat4x4</a></li>
  <li><a href="#asec-1" id="toc-asec-1" class="nav-link" data-scroll-target="#asec-1">asec</a></li>
  <li><a href="#asech-1" id="toc-asech-1" class="nav-link" data-scroll-target="#asech-1">asech</a></li>
  <li><a href="#asin-1" id="toc-asin-1" class="nav-link" data-scroll-target="#asin-1">asin</a></li>
  <li><a href="#asinh-1" id="toc-asinh-1" class="nav-link" data-scroll-target="#asinh-1">asinh</a></li>
  <li><a href="#atan-1" id="toc-atan-1" class="nav-link" data-scroll-target="#atan-1">atan</a></li>
  <li><a href="#atanh-1" id="toc-atanh-1" class="nav-link" data-scroll-target="#atanh-1">atanh</a></li>
  <li><a href="#cb-1" id="toc-cb-1" class="nav-link" data-scroll-target="#cb-1">cb</a></li>
  <li><a href="#cbrt-1" id="toc-cbrt-1" class="nav-link" data-scroll-target="#cbrt-1">cbrt</a></li>
  <li><a href="#ceil-1" id="toc-ceil-1" class="nav-link" data-scroll-target="#ceil-1">ceil</a></li>
  <li><a href="#cholesky-deprecated" id="toc-cholesky-deprecated" class="nav-link" data-scroll-target="#cholesky-deprecated">cholesky <sup><sub>DEPRECATED</sub></sup></a></li>
  <li><a href="#cholesky-decomposition" id="toc-cholesky-decomposition" class="nav-link" data-scroll-target="#cholesky-decomposition">cholesky-decomposition</a></li>
  <li><a href="#col" id="toc-col" class="nav-link" data-scroll-target="#col">col</a></li>
  <li><a href="#cols" id="toc-cols" class="nav-link" data-scroll-target="#cols">cols</a></li>
  <li><a href="#cols-realmatrix" id="toc-cols-realmatrix" class="nav-link" data-scroll-target="#cols-realmatrix">cols-&gt;RealMatrix</a></li>
  <li><a href="#cols-mat" id="toc-cols-mat" class="nav-link" data-scroll-target="#cols-mat">cols-&gt;mat</a></li>
  <li><a href="#cols-mat2x2" id="toc-cols-mat2x2" class="nav-link" data-scroll-target="#cols-mat2x2">cols-&gt;mat2x2</a></li>
  <li><a href="#cols-mat3x3" id="toc-cols-mat3x3" class="nav-link" data-scroll-target="#cols-mat3x3">cols-&gt;mat3x3</a></li>
  <li><a href="#cols-mat4x4" id="toc-cols-mat4x4" class="nav-link" data-scroll-target="#cols-mat4x4">cols-&gt;mat4x4</a></li>
  <li><a href="#condition" id="toc-condition" class="nav-link" data-scroll-target="#condition">condition</a></li>
  <li><a href="#cos-1" id="toc-cos-1" class="nav-link" data-scroll-target="#cos-1">cos</a></li>
  <li><a href="#cosh-1" id="toc-cosh-1" class="nav-link" data-scroll-target="#cosh-1">cosh</a></li>
  <li><a href="#cot-1" id="toc-cot-1" class="nav-link" data-scroll-target="#cot-1">cot</a></li>
  <li><a href="#coth-1" id="toc-coth-1" class="nav-link" data-scroll-target="#coth-1">coth</a></li>
  <li><a href="#csc-1" id="toc-csc-1" class="nav-link" data-scroll-target="#csc-1">csc</a></li>
  <li><a href="#csch-1" id="toc-csch-1" class="nav-link" data-scroll-target="#csch-1">csch</a></li>
  <li><a href="#decomposition-component" id="toc-decomposition-component" class="nav-link" data-scroll-target="#decomposition-component">decomposition-component</a></li>
  <li><a href="#degrees-1" id="toc-degrees-1" class="nav-link" data-scroll-target="#degrees-1">degrees</a></li>
  <li><a href="#demean" id="toc-demean" class="nav-link" data-scroll-target="#demean">demean</a></li>
  <li><a href="#det" id="toc-det" class="nav-link" data-scroll-target="#det">det</a></li>
  <li><a href="#diag" id="toc-diag" class="nav-link" data-scroll-target="#diag">diag</a></li>
  <li><a href="#diag-mat2x2" id="toc-diag-mat2x2" class="nav-link" data-scroll-target="#diag-mat2x2">diag-&gt;mat2x2</a></li>
  <li><a href="#diag-mat3x3" id="toc-diag-mat3x3" class="nav-link" data-scroll-target="#diag-mat3x3">diag-&gt;mat3x3</a></li>
  <li><a href="#diag-mat4x4" id="toc-diag-mat4x4" class="nav-link" data-scroll-target="#diag-mat4x4">diag-&gt;mat4x4</a></li>
  <li><a href="#diagonal" id="toc-diagonal" class="nav-link" data-scroll-target="#diagonal">diagonal</a></li>
  <li><a href="#eigen-decomposition" id="toc-eigen-decomposition" class="nav-link" data-scroll-target="#eigen-decomposition">eigen-decomposition</a></li>
  <li><a href="#eigenvalues" id="toc-eigenvalues" class="nav-link" data-scroll-target="#eigenvalues">eigenvalues</a></li>
  <li><a href="#eigenvalues-matrix" id="toc-eigenvalues-matrix" class="nav-link" data-scroll-target="#eigenvalues-matrix">eigenvalues-matrix</a></li>
  <li><a href="#eigenvectors" id="toc-eigenvectors" class="nav-link" data-scroll-target="#eigenvectors">eigenvectors</a></li>
  <li><a href="#emulm" id="toc-emulm" class="nav-link" data-scroll-target="#emulm">emulm</a></li>
  <li><a href="#entry" id="toc-entry" class="nav-link" data-scroll-target="#entry">entry</a></li>
  <li><a href="#exp-1" id="toc-exp-1" class="nav-link" data-scroll-target="#exp-1">exp</a></li>
  <li><a href="#expm1-1" id="toc-expm1-1" class="nav-link" data-scroll-target="#expm1-1">expm1</a></li>
  <li><a href="#eye" id="toc-eye" class="nav-link" data-scroll-target="#eye">eye</a></li>
  <li><a href="#floor-1" id="toc-floor-1" class="nav-link" data-scroll-target="#floor-1">floor</a></li>
  <li><a href="#fmap-1" id="toc-fmap-1" class="nav-link" data-scroll-target="#fmap-1">fmap</a></li>
  <li><a href="#frac-1" id="toc-frac-1" class="nav-link" data-scroll-target="#frac-1">frac</a></li>
  <li><a href="#inverse" id="toc-inverse" class="nav-link" data-scroll-target="#inverse">inverse</a></li>
  <li><a href="#kronecker" id="toc-kronecker" class="nav-link" data-scroll-target="#kronecker">kronecker</a></li>
  <li><a href="#ln-1" id="toc-ln-1" class="nav-link" data-scroll-target="#ln-1">ln</a></li>
  <li><a href="#log-1" id="toc-log-1" class="nav-link" data-scroll-target="#log-1">log</a></li>
  <li><a href="#log10-1" id="toc-log10-1" class="nav-link" data-scroll-target="#log10-1">log10</a></li>
  <li><a href="#log1mexp-1" id="toc-log1mexp-1" class="nav-link" data-scroll-target="#log1mexp-1">log1mexp</a></li>
  <li><a href="#log1p-1" id="toc-log1p-1" class="nav-link" data-scroll-target="#log1p-1">log1p</a></li>
  <li><a href="#log1pexp-1" id="toc-log1pexp-1" class="nav-link" data-scroll-target="#log1pexp-1">log1pexp</a></li>
  <li><a href="#log1pmx-1" id="toc-log1pmx-1" class="nav-link" data-scroll-target="#log1pmx-1">log1pmx</a></li>
  <li><a href="#log1psq-1" id="toc-log1psq-1" class="nav-link" data-scroll-target="#log1psq-1">log1psq</a></li>
  <li><a href="#log2-1" id="toc-log2-1" class="nav-link" data-scroll-target="#log2-1">log2</a></li>
  <li><a href="#logexpm1-1" id="toc-logexpm1-1" class="nav-link" data-scroll-target="#logexpm1-1">logexpm1</a></li>
  <li><a href="#logit-1" id="toc-logit-1" class="nav-link" data-scroll-target="#logit-1">logit</a></li>
  <li><a href="#logmxp1-1" id="toc-logmxp1-1" class="nav-link" data-scroll-target="#logmxp1-1">logmxp1</a></li>
  <li><a href="#lu-decomposition" id="toc-lu-decomposition" class="nav-link" data-scroll-target="#lu-decomposition">lu-decomposition</a></li>
  <li><a href="#map-matrixdecomposition" id="toc-map-matrixdecomposition" class="nav-link" data-scroll-target="#map-matrixdecomposition">map-&gt;MatrixDecomposition</a></li>
  <li><a href="#map-cols" id="toc-map-cols" class="nav-link" data-scroll-target="#map-cols">map-cols</a></li>
  <li><a href="#map-rows" id="toc-map-rows" class="nav-link" data-scroll-target="#map-rows">map-rows</a></li>
  <li><a href="#mat" id="toc-mat" class="nav-link" data-scroll-target="#mat">mat</a></li>
  <li><a href="#mat-realmatrix" id="toc-mat-realmatrix" class="nav-link" data-scroll-target="#mat-realmatrix">mat-&gt;RealMatrix</a></li>
  <li><a href="#mat-array" id="toc-mat-array" class="nav-link" data-scroll-target="#mat-array">mat-&gt;array</a></li>
  <li><a href="#mat-array2d" id="toc-mat-array2d" class="nav-link" data-scroll-target="#mat-array2d">mat-&gt;array2d</a></li>
  <li><a href="#mat-float-array" id="toc-mat-float-array" class="nav-link" data-scroll-target="#mat-float-array">mat-&gt;float-array</a></li>
  <li><a href="#mat-float-array2d" id="toc-mat-float-array2d" class="nav-link" data-scroll-target="#mat-float-array2d">mat-&gt;float-array2d</a></li>
  <li><a href="#mat-seq" id="toc-mat-seq" class="nav-link" data-scroll-target="#mat-seq">mat-&gt;seq</a></li>
  <li><a href="#mat2x2-1" id="toc-mat2x2-1" class="nav-link" data-scroll-target="#mat2x2-1">mat2x2</a></li>
  <li><a href="#mat3x3-1" id="toc-mat3x3-1" class="nav-link" data-scroll-target="#mat3x3-1">mat3x3</a></li>
  <li><a href="#mat4x4-1" id="toc-mat4x4-1" class="nav-link" data-scroll-target="#mat4x4-1">mat4x4</a></li>
  <li><a href="#mulm" id="toc-mulm" class="nav-link" data-scroll-target="#mulm">mulm</a></li>
  <li><a href="#mulmt" id="toc-mulmt" class="nav-link" data-scroll-target="#mulmt">mulmt</a></li>
  <li><a href="#muls" id="toc-muls" class="nav-link" data-scroll-target="#muls">muls</a></li>
  <li><a href="#mulv" id="toc-mulv" class="nav-link" data-scroll-target="#mulv">mulv</a></li>
  <li><a href="#ncol" id="toc-ncol" class="nav-link" data-scroll-target="#ncol">ncol</a></li>
  <li><a href="#negate" id="toc-negate" class="nav-link" data-scroll-target="#negate">negate</a></li>
  <li><a href="#norm" id="toc-norm" class="nav-link" data-scroll-target="#norm">norm</a></li>
  <li><a href="#normalize-1" id="toc-normalize-1" class="nav-link" data-scroll-target="#normalize-1">normalize</a></li>
  <li><a href="#nrow" id="toc-nrow" class="nav-link" data-scroll-target="#nrow">nrow</a></li>
  <li><a href="#outer" id="toc-outer" class="nav-link" data-scroll-target="#outer">outer</a></li>
  <li><a href="#pow-1" id="toc-pow-1" class="nav-link" data-scroll-target="#pow-1">pow</a></li>
  <li><a href="#qr-decomposition" id="toc-qr-decomposition" class="nav-link" data-scroll-target="#qr-decomposition">qr-decomposition</a></li>
  <li><a href="#radians-1" id="toc-radians-1" class="nav-link" data-scroll-target="#radians-1">radians</a></li>
  <li><a href="#real-matrix" id="toc-real-matrix" class="nav-link" data-scroll-target="#real-matrix">real-matrix</a></li>
  <li><a href="#rint-1" id="toc-rint-1" class="nav-link" data-scroll-target="#rint-1">rint</a></li>
  <li><a href="#rotation-matrix-2d" id="toc-rotation-matrix-2d" class="nav-link" data-scroll-target="#rotation-matrix-2d">rotation-matrix-2d</a></li>
  <li><a href="#rotation-matrix-3d" id="toc-rotation-matrix-3d" class="nav-link" data-scroll-target="#rotation-matrix-3d">rotation-matrix-3d</a></li>
  <li><a href="#rotation-matrix-3d-x" id="toc-rotation-matrix-3d-x" class="nav-link" data-scroll-target="#rotation-matrix-3d-x">rotation-matrix-3d-x</a></li>
  <li><a href="#rotation-matrix-3d-y" id="toc-rotation-matrix-3d-y" class="nav-link" data-scroll-target="#rotation-matrix-3d-y">rotation-matrix-3d-y</a></li>
  <li><a href="#rotation-matrix-3d-z" id="toc-rotation-matrix-3d-z" class="nav-link" data-scroll-target="#rotation-matrix-3d-z">rotation-matrix-3d-z</a></li>
  <li><a href="#rotation-matrix-axis-3d" id="toc-rotation-matrix-axis-3d" class="nav-link" data-scroll-target="#rotation-matrix-axis-3d">rotation-matrix-axis-3d</a></li>
  <li><a href="#round-1" id="toc-round-1" class="nav-link" data-scroll-target="#round-1">round</a></li>
  <li><a href="#row" id="toc-row" class="nav-link" data-scroll-target="#row">row</a></li>
  <li><a href="#rows" id="toc-rows" class="nav-link" data-scroll-target="#rows">rows</a></li>
  <li><a href="#rows-realmatrix" id="toc-rows-realmatrix" class="nav-link" data-scroll-target="#rows-realmatrix">rows-&gt;RealMatrix</a></li>
  <li><a href="#rows-mat" id="toc-rows-mat" class="nav-link" data-scroll-target="#rows-mat">rows-&gt;mat</a></li>
  <li><a href="#rows-mat2x2" id="toc-rows-mat2x2" class="nav-link" data-scroll-target="#rows-mat2x2">rows-&gt;mat2x2</a></li>
  <li><a href="#rows-mat3x3" id="toc-rows-mat3x3" class="nav-link" data-scroll-target="#rows-mat3x3">rows-&gt;mat3x3</a></li>
  <li><a href="#rows-mat4x4" id="toc-rows-mat4x4" class="nav-link" data-scroll-target="#rows-mat4x4">rows-&gt;mat4x4</a></li>
  <li><a href="#rrqr-decomposition" id="toc-rrqr-decomposition" class="nav-link" data-scroll-target="#rrqr-decomposition">rrqr-decomposition</a></li>
  <li><a href="#safe-sqrt-1" id="toc-safe-sqrt-1" class="nav-link" data-scroll-target="#safe-sqrt-1">safe-sqrt</a></li>
  <li><a href="#scale-cols" id="toc-scale-cols" class="nav-link" data-scroll-target="#scale-cols">scale-cols</a></li>
  <li><a href="#scale-rows" id="toc-scale-rows" class="nav-link" data-scroll-target="#scale-rows">scale-rows</a></li>
  <li><a href="#sec-1" id="toc-sec-1" class="nav-link" data-scroll-target="#sec-1">sec</a></li>
  <li><a href="#sech-1" id="toc-sech-1" class="nav-link" data-scroll-target="#sech-1">sech</a></li>
  <li><a href="#sfrac-1" id="toc-sfrac-1" class="nav-link" data-scroll-target="#sfrac-1">sfrac</a></li>
  <li><a href="#sgn-1" id="toc-sgn-1" class="nav-link" data-scroll-target="#sgn-1">sgn</a></li>
  <li><a href="#shape" id="toc-shape" class="nav-link" data-scroll-target="#shape">shape</a></li>
  <li><a href="#shift-cols" id="toc-shift-cols" class="nav-link" data-scroll-target="#shift-cols">shift-cols</a></li>
  <li><a href="#shift-rows" id="toc-shift-rows" class="nav-link" data-scroll-target="#shift-rows">shift-rows</a></li>
  <li><a href="#sigmoid-1" id="toc-sigmoid-1" class="nav-link" data-scroll-target="#sigmoid-1">sigmoid</a></li>
  <li><a href="#signum-1" id="toc-signum-1" class="nav-link" data-scroll-target="#signum-1">signum</a></li>
  <li><a href="#sin-1" id="toc-sin-1" class="nav-link" data-scroll-target="#sin-1">sin</a></li>
  <li><a href="#sinc-1" id="toc-sinc-1" class="nav-link" data-scroll-target="#sinc-1">sinc</a></li>
  <li><a href="#singular-values" id="toc-singular-values" class="nav-link" data-scroll-target="#singular-values">singular-values</a></li>
  <li><a href="#singular" id="toc-singular" class="nav-link" data-scroll-target="#singular">singular?</a></li>
  <li><a href="#sinh-1" id="toc-sinh-1" class="nav-link" data-scroll-target="#sinh-1">sinh</a></li>
  <li><a href="#solve" id="toc-solve" class="nav-link" data-scroll-target="#solve">solve</a></li>
  <li><a href="#sq-1" id="toc-sq-1" class="nav-link" data-scroll-target="#sq-1">sq</a></li>
  <li><a href="#sqrt-1" id="toc-sqrt-1" class="nav-link" data-scroll-target="#sqrt-1">sqrt</a></li>
  <li><a href="#standardize" id="toc-standardize" class="nav-link" data-scroll-target="#standardize">standardize</a></li>
  <li><a href="#sub-1" id="toc-sub-1" class="nav-link" data-scroll-target="#sub-1">sub</a></li>
  <li><a href="#sv-decomposition" id="toc-sv-decomposition" class="nav-link" data-scroll-target="#sv-decomposition">sv-decomposition</a></li>
  <li><a href="#symmetric" id="toc-symmetric" class="nav-link" data-scroll-target="#symmetric">symmetric?</a></li>
  <li><a href="#tan-1" id="toc-tan-1" class="nav-link" data-scroll-target="#tan-1">tan</a></li>
  <li><a href="#tanh-1" id="toc-tanh-1" class="nav-link" data-scroll-target="#tanh-1">tanh</a></li>
  <li><a href="#tmulm" id="toc-tmulm" class="nav-link" data-scroll-target="#tmulm">tmulm</a></li>
  <li><a href="#tmulmt" id="toc-tmulmt" class="nav-link" data-scroll-target="#tmulmt">tmulmt</a></li>
  <li><a href="#trace" id="toc-trace" class="nav-link" data-scroll-target="#trace">trace</a></li>
  <li><a href="#transpose" id="toc-transpose" class="nav-link" data-scroll-target="#transpose">transpose</a></li>
  <li><a href="#trunc-1" id="toc-trunc-1" class="nav-link" data-scroll-target="#trunc-1">trunc</a></li>
  <li><a href="#vtmul" id="toc-vtmul" class="nav-link" data-scroll-target="#vtmul">vtmul</a></li>
  <li><a href="#xlogx-1" id="toc-xlogx-1" class="nav-link" data-scroll-target="#xlogx-1">xlogx</a></li>
  <li><a href="#zero-1" id="toc-zero-1" class="nav-link" data-scroll-target="#zero-1">zero</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Vectors and matrices</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style></style>
<style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style>
<style>.clay-limit-image-width .clay-image {max-width: 100%}
.clay-side-by-side .sourceCode {margin: 0}
.clay-side-by-side {margin: 1em 0}
</style>
<script src="vector_matrix_files/md-default0.js" type="text/javascript"></script>
<script src="vector_matrix_files/md-default1.js" type="text/javascript"></script>
<script src="vector_matrix_files/plotly2.js" type="text/javascript"></script>
<div class="sourceClojure">
<div class="sourceCode" id="cb1"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">ns</span> vector-matrix</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  (<span class="at">:require</span> [fastmath.<span class="kw">vector</span> <span class="at">:as</span> v]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            [fastmath.matrix <span class="at">:as</span> mat]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            [fastmath.dev.codox <span class="at">:as</span> codox]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            [fastmath.dev.clay <span class="at">:as</span> utls]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            [fastmath.dev.plotly <span class="at">:as</span> plt]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            [fastmath.core <span class="at">:as</span> m]</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            [scicloj.kindly.v4.kind <span class="at">:as</span> kind]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            [fastmath.dev.ggplot <span class="at">:as</span> gg]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            [fastmath.stats <span class="at">:as</span> stats])</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  (<span class="at">:import</span> [fastmath.<span class="kw">vector</span> Vec2 Vec3 Vec4]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>           [fastmath.matrix Mat2x2 Mat3x3 Mat4x4]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="vectors" class="level2">
<h2 class="anchored" data-anchor-id="vectors">Vectors</h2>
<p>The <code>fastmath.vector</code> namespace provides a comprehensive set of utilities for working with N-dimensional mathematical vectors in Clojure. It supports various vector representations, including custom fixed-size types (<code>Vec2</code>, <code>Vec3</code>, <code>Vec4</code>), Clojure persistent vectors and sequences, Java double arrays, and Apache Commons Math <code>ArrayRealVector</code>, all unified under the <code>fastmath.protocols/VectorProto</code>.</p>
<section id="vector-types" class="level3">
<h3 class="anchored" data-anchor-id="vector-types">Vector Types</h3>
<p><code>fastmath.vector</code> supports several underlying representations for vectors, providing flexibility and performance trade-offs. The <code>VectorProto</code> ensures that most operations work consistently across these types.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Supported Types">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Supported Types
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>A number (1D vector)</li>
<li><code>Vec2</code> (2D vector, custom type)</li>
<li><code>Vec3</code> (3D vector, custom type)</li>
<li><code>Vec4</code> (4D vector, custom type)</li>
<li><code>ArrayVec</code> (N-dimensional, wrapper around double array, deprecated)</li>
<li><code>double[]</code> (Java double array, N-dimensional)</li>
<li>Clojure <code>IPersistentVector</code> (<code>[]</code>, N-dimensional)</li>
<li>Clojure <code>ISeq</code> (any sequence, N-dimensional)</li>
<li>Apache Commons Math <code>ArrayRealVector</code> (N-dimensional)</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>ArrayVec</code> type should be considered as deprecated. This is just a <code>double-array</code> wrapper. <code>double-array</code> itself is instrumented in <code>VectorProto</code> functions and can be used directly.</p>
</div>
</div>
<p>Letâ€™s define fixed size vectors to use in examples:</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb2"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> V2 </span>(Vec2. -<span class="dv">1</span> <span class="fl">2.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb3"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> V3 </span>(Vec3. -<span class="dv">1</span> <span class="fl">2.5</span> -<span class="fl">3.25</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb4"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> V4 </span>(Vec4. -<span class="dv">1</span> <span class="fl">0.0</span> -<span class="fl">3.25</span> <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb5"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>V2 <span class="co">;; =&gt; #vec2 [-1.0, 2.5]</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>V3 <span class="co">;; =&gt; #vec3 [-1.0, 2.5, -3.25]</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>V4 <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.25, 4.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="creation-and-conversion" class="level3">
<h3 class="anchored" data-anchor-id="creation-and-conversion">Creation and Conversion</h3>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>vec2</code>, <code>vec3</code>, <code>vec4</code></li>
<li><code>array-vec</code></li>
<li><code>make-vector</code></li>
<li><code>generate-vec2</code>, <code>generate-vec3</code>, <code>generate-vec4</code></li>
<li><code>array-&gt;vec2</code>, <code>array-&gt;vec3</code>, <code>array-&gt;vec4</code></li>
<li><code>seq-&gt;vec2</code>, <code>seq-&gt;vec3</code>, <code>seq-&gt;vec4</code></li>
<li><code>vec-&gt;array</code>, <code>vec-&gt;seq</code>, <code>vec-&gt;RealVector</code>, <code>real-vector</code>, <code>vec-&gt;Vec</code></li>
<li><code>as-vec</code></li>
</ul>
</div>
</div>
<section id="creation" class="level4">
<h4 class="anchored" data-anchor-id="creation">Creation</h4>
<ul>
<li><strong>Fixed-size constructors</strong>: <code>vec2</code>, <code>vec3</code>, and <code>vec4</code> create vectors with 2, 3, and 4 dimensions, respectively. They can be called with no arguments for a zero vector, or with explicit components.</li>
<li><strong>Arbitrary-size constructor</strong>: <code>array-vec</code> takes a sequence and creates an <code>ArrayVec</code> wrapping a <code>double</code> array.</li>
<li><strong>Generic constructor</strong>: <code>make-vector</code> takes a dimension and optionally a sequence of values. It automatically selects the appropriate fixed-size type (<code>Vec2</code>, <code>Vec3</code>, <code>Vec4</code>) for dimensions 2, 3, or 4, or creates an <code>ArrayVec</code> for other positive dimensions.</li>
<li><strong>Generator functions</strong>: <code>generate-vec2</code>, <code>generate-vec3</code>, and <code>generate-vec4</code> create vectors whose components are generated by one or more provided functions.</li>
<li><strong>Conversion functions</strong>: <code>array-&gt;vec2/3/4</code> and <code>seq-&gt;vec2/3/4</code> provide convenience for converting <code>double</code> arrays or arbitrary sequences into the fixed-size types.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb6"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>(v/vec2) <span class="co">;; =&gt; #vec2 [0.0, 0.0]</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>(v/vec2 <span class="dv">1</span> <span class="dv">2</span>) <span class="co">;; =&gt; #vec2 [1.0, 2.0]</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">class</span> (v/vec2)) <span class="co">;; =&gt; fastmath.vector.Vec2</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>(v/vec3) <span class="co">;; =&gt; #vec3 [0.0, 0.0, 0.0]</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>(v/vec3 V2 <span class="dv">3</span>) <span class="co">;; =&gt; #vec3 [-1.0, 2.5, 3.0]</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>(v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>) <span class="co">;; =&gt; #vec3 [1.0, 2.0, 3.0]</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>(<span class="kw">class</span> (v/vec3)) <span class="co">;; =&gt; fastmath.vector.Vec3</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>(v/vec4) <span class="co">;; =&gt; #vec4 [0.0, 0.0, 0.0, 0.0]</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>(v/vec4 V2 <span class="dv">3</span> <span class="dv">4</span>) <span class="co">;; =&gt; #vec4 [-1.0, 2.5, 3.0, 4.0]</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>(v/vec4 V3 <span class="dv">4</span>) <span class="co">;; =&gt; #vec4 [-1.0, 2.5, -3.25, 4.0]</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>(v/vec4 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>) <span class="co">;; =&gt; #vec4 [1.0, 2.0, 3.0, 4.0]</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>(<span class="kw">class</span> (v/vec4)) <span class="co">;; =&gt; fastmath.vector.Vec4</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>(v/array-vec [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>]) <span class="co">;; =&gt; [1.0 2.0 3.0 4.0 5.0]</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>(v/make-vector <span class="dv">1</span>) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>(v/make-vector <span class="dv">2</span>) <span class="co">;; =&gt; #vec2 [0.0, 0.0]</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>(v/make-vector <span class="dv">3</span>) <span class="co">;; =&gt; #vec3 [0.0, 0.0, 0.0]</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>(v/make-vector <span class="dv">4</span>) <span class="co">;; =&gt; #vec4 [0.0, 0.0, 0.0, 0.0]</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>(v/make-vector <span class="dv">5</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">8</span>]) <span class="co">;; =&gt; [1.0 2.0 3.0 4.0 5.0]</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>(<span class="kw">class</span> (v/make-vector <span class="dv">5</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">8</span>])) <span class="co">;; =&gt; fastmath.vector.ArrayVec</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>(v/generate-vec2 <span class="kw">rand</span>) <span class="co">;; =&gt; #vec2 [0.5703869815688357, 0.6485673453839519]</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>(v/generate-vec3 (<span class="kw">constantly</span> <span class="dv">4</span>)) <span class="co">;; =&gt; #vec3 [4.0, 4.0, 4.0]</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>(v/generate-vec4 (<span class="kw">comp</span> m/sin <span class="kw">rand</span>)) <span class="co">;; =&gt; #vec4 [0.7183927005523126, 0.27697293919166044, 0.15770185653888744, 0.7933000970612148]</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>(v/array-&gt;vec2 (<span class="kw">double-array</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>])) <span class="co">;; =&gt; #vec2 [1.0, 2.0]</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>(v/array-&gt;vec3 (<span class="kw">double-array</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>])) <span class="co">;; =&gt; #vec3 [1.0, 2.0, 3.0]</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>(v/array-&gt;vec4 (<span class="kw">double-array</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>])) <span class="co">;; =&gt; #vec4 [1.0, 2.0, 3.0, 4.0]</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>(v/seq-&gt;vec2 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>]) <span class="co">;; =&gt; #vec2 [1.0, 2.0]</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>(v/seq-&gt;vec3 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>]) <span class="co">;; =&gt; #vec3 [1.0, 2.0, 3.0]</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>(v/seq-&gt;vec4 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>]) <span class="co">;; =&gt; #vec4 [1.0, 2.0, 3.0, 4.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="conversion" class="level4">
<h4 class="anchored" data-anchor-id="conversion">Conversion</h4>
<p><code>fastmath.vector</code> provides several functions to convert vectors between the supported types and representations, facilitating integration with other libraries or specific processing needs.</p>
<ul>
<li><code>vec-&gt;array</code>: Converts any vector type to a <code>double</code> array (<code>[D</code>).</li>
<li><code>vec-&gt;seq</code>: Returns a standard Clojure lazy sequence representation of the vector. Note that all <code>fastmath.vector</code> types already implement <code>clojure.lang.Seqable</code> and <code>clojure.lang.Sequential</code>, so you can use the built-in <code>seq</code> function or treat them as sequences directly.</li>
<li><code>real-vector</code> or<code>vec-&gt;RealVector</code>: Converts any vector type into an Apache Commons Math <code>RealVector</code> object, specifically an <code>ArrayRealVector</code>.</li>
<li><code>vec-&gt;Vec</code>: Converts any vector type into a Clojure primitive vector (<code>Vec</code>), which is an optimized implementation of persistent vectors for numerical data.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb7"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;array V2) <span class="co">;; =&gt; #object["[D" 0xf0c8db "[D@f0c8db"]</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;seq V2) <span class="co">;; =&gt; (-1.0 2.5)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;RealVector V2) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x5ea8aabb "{-1; 2.5}"]</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;Vec V2) <span class="co">;; =&gt; [-1.0 2.5]</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>(<span class="kw">class</span> (v/vec-&gt;Vec V2)) <span class="co">;; =&gt; clojure.core.Vec</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;array [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #object["[D" 0x4e730125 "[D@4e730125"]</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;seq [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; (1 2 3)</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;RealVector [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x48c3be20 "{1; 2; 3}"]</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>(v/real-vector [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x410429d5 "{1; 2; 3}"]</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>(v/real-vector (<span class="kw">double-array</span> <span class="dv">4</span>)) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x5a62ae3c "{0; 0; 0; 0}"]</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>(v/real-vector (<span class="kw">seq</span> (v/vec2 <span class="dv">9</span> <span class="dv">8</span>))) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0xc4ee67c "{9; 8}"]</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>(v/vec-&gt;Vec [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; [1.0 2.0 3.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><code>as-vec</code> creates a new vector of a specific type using elements from <code>xs</code> sequence. If the sequence is shorter than the target vectorâ€™s dimension, the remaining elements are filled with <code>0.0</code>. The first argument specifies the target type (by providing an instance of that type). In short: <code>as-vec</code> ensures a type and size of the first argument with the content of the second argument.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb8"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(v/as-vec (<span class="kw">list</span> <span class="dv">3</span>) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; (1)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>(v/as-vec (<span class="kw">list</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; (1 2 3)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>(v/as-vec (<span class="kw">list</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; (1 2 3 0.0)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>(v/as-vec (v/vec2) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #vec2 [1.0, 2.0]</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>(v/as-vec (v/vec3) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #vec3 [1.0, 2.0, 3.0]</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>(v/as-vec (v/vec4) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #vec4 [1.0, 2.0, 3.0, 0.0]</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> (v/as-vec (<span class="kw">double-array</span> <span class="dv">6</span>) [<span class="dv">1</span>])) <span class="co">;; =&gt; (1.0 0.0 0.0 0.0 0.0 0.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="interoperability" class="level3">
<h3 class="anchored" data-anchor-id="interoperability">Interoperability</h3>
<p>The core idea behind <code>fastmath.vector</code>â€™s flexibility is the <code>fastmath.protocols/VectorProto</code> protocol. This protocol defines the common set of operations (addition, multiplication, dot product, magnitude, etc.) that all supported vector types must implement. By relying on this protocol, functions in <code>fastmath.vector</code> can work seamlessly with <code>Vec2</code>, <code>Vec3</code>, <code>Vec4</code>, <code>ArrayVec</code>, Clojure vectors, <code>double</code> arrays, and even Apache Commons Math <code>RealVector</code> instances. This protocol-oriented design allows for easy interoperability between different vector representations. Several functions are provided to facilitate conversions between these types:</p>
<p>Fixed-size vector types like <code>Vec2</code>, <code>Vec3</code>, and <code>Vec4</code>, as well as <code>ArrayVec</code>, also implement several standard Clojure and Java interfaces, allowing them to be used similarly to built-in Clojure persistent vectors:</p>
<ul>
<li><code>clojure.lang.Seqable</code>: Enables treating the vector as a sequence for functions like <code>seq</code>, <code>map</code>, <code>filter</code>, etc.</li>
<li><code>clojure.lang.Reversible</code>: Enables reversing a vector with <code>rseq</code></li>
<li><code>clojure.lang.Sequential</code>: Marks that the vector is sequential, ie. sequence is linear and order is persistent</li>
<li><code>clojure.lang.Indexed</code>: Allows efficient access to elements by integer index using <code>nth</code>.</li>
<li><code>clojure.lang.ILookup</code>: Enables lookup of elements by index using the function call syntax <code>(v index)</code> or <code>get</code>.</li>
<li><code>clojure.lang.Counted</code>: Provides the <code>count</code> function to get the dimension of the vector.</li>
<li><code>clojure.lang.IFn</code>: Allows the vector itself to be invoked as a function to retrieve elements by index, e.g., <code>(v 0)</code>.</li>
<li><code>clojure.lang.Associative</code>: Supports <code>assoc</code>, <code>containsKey</code>, and <code>entryAt</code>, allowing index-based association (updating elements). Note that <code>assoc</code> returns a new vector instance.</li>
<li><code>clojure.lang.IReduce</code>/<code>IReduceInit</code>: Allows using <code>reduce</code> directly on the vectorâ€™s elements.</li>
<li><code>clojure.lang.IPersistentVector</code>: Implements basic persistent vector behavior.</li>
<li><code>clojure.lang.IPersistentCollection</code>: Implements <code>equiv</code> for efficient structural equality checks.</li>
<li><code>clojure.lang.IPersistentStack</code>: Implements <code>pop</code> and <code>peek</code></li>
<li><code>java.lang.Object</code>: Standard Java methods like <code>equals</code>, <code>hashCode</code>, and <code>toString</code>.</li>
<li><code>clojure.lang.IHashEq</code>: Provides <code>hasheq</code> for efficient hashing, especially important when using vectors as keys in hash maps or sets.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>Seqable</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb9"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> V2) <span class="co">;; =&gt; (-1.0 2.5)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> V3) <span class="co">;; =&gt; (-1.0 2.5 -3.25)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> V4) <span class="co">;; =&gt; (-1.0 0.0 -3.25 4.0)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">map</span> <span class="kw">inc</span> V4) <span class="co">;; =&gt; (0.0 1.0 -2.25 5.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Reversible</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb10"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> V2) <span class="co">;; =&gt; (2.5 -1.0)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> V3) <span class="co">;; =&gt; (-3.25 2.5 -1.0)</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> V4) <span class="co">;; =&gt; (4.0 -3.25 0.0 -1.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Indexed</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb11"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">nth</span> V4 <span class="dv">0</span>) <span class="co">;; =&gt; -1.0</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">try</span> (<span class="kw">nth</span> V4 <span class="dv">5</span>) (<span class="kw">catch</span> Exception <span class="kw">e</span> (.getMessage <span class="kw">e</span>))) <span class="co">;; =&gt; "Index 5 out of bounds for length 4"</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">nth</span> V4 <span class="dv">5</span> <span class="at">##</span>NaN) <span class="co">;; =&gt; ##NaN</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>ILookup</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb12"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> V4 <span class="dv">3</span>) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> V4 <span class="dv">5</span>) <span class="co">;; =&gt; nil</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Counted</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb13"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> V2) <span class="co">;; =&gt; 2</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> V3) <span class="co">;; =&gt; 3</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> V4) <span class="co">;; =&gt; 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IFn</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb14"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(V2 <span class="dv">0</span>) <span class="co">;; =&gt; -1.0</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>(V3 <span class="dv">1</span>) <span class="co">;; =&gt; 2.5</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>(V4 <span class="dv">2</span>) <span class="co">;; =&gt; -3.25</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">try</span> (V4 <span class="dv">5</span>) (<span class="kw">catch</span> Exception <span class="kw">e</span> (.getMessage <span class="kw">e</span>))) <span class="co">;; =&gt; "Index 5 out of bounds for length 2"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Associative</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb15"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">contains?</span> V4 <span class="dv">0</span>) <span class="co">;; =&gt; true</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">contains?</span> V4 <span class="dv">5</span>) <span class="co">;; =&gt; false</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">assoc</span> V4 <span class="dv">3</span> <span class="dv">100</span>) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.25, 100.0]</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">find</span> V4 <span class="dv">3</span>) <span class="co">;; =&gt; [3 4.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IReduce/IReduceInit</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb16"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">reduce</span> <span class="kw">*</span> V4) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">reduce</span> <span class="kw">*</span> <span class="dv">100</span> V4) <span class="co">;; =&gt; 0.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IPersistentVector</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb17"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">conj</span> V2 <span class="dv">100</span>) <span class="co">;; =&gt; #vec3 [-1.0, 2.5, 100.0]</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">conj</span> V3 <span class="dv">100</span>) <span class="co">;; =&gt; #vec4 [-1.0, 2.5, -3.25, 100.0]</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">conj</span> V4 <span class="dv">100</span>) <span class="co">;; =&gt; [-1.0 0.0 -3.25 4.0 100]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IPersistentStack</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb18"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">peek</span> V2) <span class="co">;; =&gt; 2.5</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">pop</span> V2) <span class="co">;; =&gt; [-1.0]</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">peek</span> V3) <span class="co">;; =&gt; -3.25</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">pop</span> V3) <span class="co">;; =&gt; #vec2 [-1.0, 2.5]</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>(<span class="kw">peek</span> V4) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>(<span class="kw">pop</span> V4) <span class="co">;; =&gt; #vec3 [-1.0, 0.0, -3.25]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IPersistentCollection</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb19"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">=</span> V2 (v/vec2 -<span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; false</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">=</span> V2 V3) <span class="co">;; =&gt; false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IHashEq</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb20"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">hash</span> V2) <span class="co">;; =&gt; 969236348</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">hash</span> V3) <span class="co">;; =&gt; 1071439709</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">hash</span> V4) <span class="co">;; =&gt; 663401910</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Object</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb21"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">str</span> V2) <span class="co">;; =&gt; "#vec2 [-1.0, 2.5]"</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>(.equals V2 (v/vec2 -<span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; false</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>(.hashCode V2) <span class="co">;; =&gt; 969236348</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="vector-arithmetic-and-operations" class="level3">
<h3 class="anchored" data-anchor-id="vector-arithmetic-and-operations">Vector Arithmetic and Operations</h3>
<p><code>fastmath.vector</code> provides a comprehensive suite of functions for performing standard vector arithmetic and element-wise mathematical operations. These operations are designed to work efficiently and consistently across all supported vector types, leveraging the <code>VectorProto</code> protocol.</p>
<section id="basic-operations" class="level4">
<h4 class="anchored" data-anchor-id="basic-operations">Basic operations</h4>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>add</code>, <code>sub</code>, <code>shift</code>, <code>mult</code>, <code>div</code>, <code>reciprocal</code>, <code>emult</code>, <code>ediv</code></li>
<li><code>abs</code></li>
<li><code>mn</code>, <code>mx</code>, <code>emn</code>, <code>emx</code>, <code>mindim</code>, <code>maxdim</code></li>
<li><code>approx</code></li>
<li><code>sum</code>, <code>prod</code>, <code>average</code>, <code>logsumexp</code>, <code>logmeanexp</code></li>
<li><code>zero-count</code>, <code>nonzero-count</code>, <code>size</code></li>
<li><code>permute</code></li>
<li><code>fmap</code></li>
</ul>
</div>
</div>
<ul>
<li><strong>Basic Arithmetic</strong>:
<ul>
<li><code>add</code>: Vector addition. Takes one or two vectors. <span class="math inline">\(\mathbf{u} + \mathbf{v} = [u_1+v_1, u_2+v_2, \dots, u_n+v_n]\)</span>.</li>
<li><code>sub</code>: Vector subtraction. Takes one (negation) or two vectors. <span class="math inline">\(\mathbf{u} - \mathbf{v} = [u_1-v_1, u_2-v_2, \dots, u_n-v_n]\)</span>.</li>
<li><code>shift</code>: Adds a scalar value to each element of a vector. <span class="math inline">\(\mathbf{v} + c = [v_1+c, v_2+c, \dots, v_n+c]\)</span>.</li>
<li><code>mult</code>: Scalar multiplication of a vector. <span class="math inline">\(c \mathbf{v} = [c v_1, c v_2, \dots, c v_n]\)</span>.</li>
<li><code>div</code>: Scalar division of a vector (<code>v1 / v</code>) or element-wise reciprocal (<code>v1</code>). <span class="math inline">\(\mathbf{v} / c = [v_1/c, v_2/c, \dots, v_n/c]\)</span> or <span class="math inline">\(1/\mathbf{v} = [1/v_1, 1/v_2, \dots, 1/v_n]\)</span>.</li>
<li><code>reciprocal</code>: Element-wise reciprocal. <span class="math inline">\(1/\mathbf{v} = [1/v_1, 1/v_2, \dots, 1/v_n]\)</span>.</li>
<li><code>emult</code>: Element-wise multiplication (Hadamard product). <span class="math inline">\(\mathbf{u} \odot \mathbf{v} = [u_1 v_1, u_2 v_2, \dots, u_n v_n]\)</span>.</li>
<li><code>ediv</code>: Element-wise division. <span class="math inline">\(\mathbf{u} \oslash \mathbf{v} = [u_1/v_1, u_2/v_2, \dots, u_n/v_n]\)</span>.</li>
</ul></li>
<li><strong>Element-wise Functions</strong>:
<ul>
<li><code>abs</code>: Element-wise absolute value. <span class="math inline">\(|\mathbf{v}| = [|v_1|, |v_2|, \dots, |v_n|]\)</span>.</li>
<li><code>fmap</code>: Applies a function to each element of the vector, returning a new vector of the same type. <span class="math inline">\(f(\mathbf{v}) = [f(v_1), f(v_2), \dots, f(v_n)]\)</span>.</li>
</ul></li>
<li><strong>Statistical/Aggregate Functions</strong>:
<ul>
<li><code>mn</code>: Minimum value among elements.</li>
<li><code>mx</code>: Maximum value among elements.</li>
<li><code>emn</code>: Element-wise minimum of two vectors.</li>
<li><code>emx</code>: Element-wise maximum of two vectors.</li>
<li><code>mindim</code>: Index of the minimum value.</li>
<li><code>maxdim</code>: Index of the maximum value.</li>
<li><code>sum</code>: Sum of all elements. <span class="math inline">\(\sum \mathbf{v} = \sum_{i=1}^n v_i\)</span>.</li>
<li><code>prod</code>: Product of all elements. <span class="math inline">\(\prod \mathbf{v} = \prod_{i=1}^n v_i\)</span>.</li>
<li><code>average</code>: Mean or weighted average of elements. <span class="math inline">\(\text{mean}(\mathbf{v}) = \frac{1}{n} \sum_{i=1}^n v_i\)</span>.</li>
<li><code>logsumexp</code>: Numerically stable computation of <span class="math inline">\(\log(\sum \exp(v_i))\)</span>.</li>
<li><code>logmeanexp</code>: Numerically stable computation of <span class="math inline">\(\log(\frac{1}{n} \sum \exp(v_i))\)</span>.</li>
</ul></li>
<li><strong>Utility Functions</strong>:
<ul>
<li><code>approx</code>: Rounds elements to a specified number of decimal places.</li>
<li><code>zero-count</code>: Counts how many elements are approximately zero.</li>
<li><code>nonzero-count</code>: Counts how many elements are not approximately zero.</li>
<li><code>size</code>: Returns the dimension (number of elements) of the vector. Same as <code>count</code>.</li>
<li><code>permute</code>: Rearranges vector elements according to a list of indices.</li>
</ul></li>
</ul>
<p>Most binary operations (<code>add</code>, <code>sub</code>, <code>emult</code>, <code>ediv</code>, <code>emn</code>, <code>emx</code>) require the input vectors to have the same dimension and type. Scalar operations (<code>shift</code>, <code>mult</code>, <code>div</code>) work with a vector and a number.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb22"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(v/add V2 (v/vec2 <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec2 [0.0, 3.5]</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>(v/sub V3 (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [-2.0, 1.5, -4.25]</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>(v/shift V4 <span class="fl">10.0</span>) <span class="co">;; =&gt; #vec4 [9.0, 10.0, 6.75, 14.0]</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>(v/mult V3 <span class="fl">0.5</span>) <span class="co">;; =&gt; #vec3 [-0.5, 1.25, -1.625]</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>(v/div V4 <span class="fl">2.0</span>) <span class="co">;; =&gt; #vec4 [-0.5, 0.0, -1.625, 2.0]</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>(v/div V3) <span class="co">;; =&gt; #vec3 [-1.0, 0.4, -0.3076923076923077]</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>(v/reciprocal V3) <span class="co">;; =&gt; #vec3 [-1.0, 0.4, -0.3076923076923077]</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>(v/emult V2 (v/vec2 <span class="dv">2</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [-2.0, 5.0]</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>(v/ediv V2 (v/vec2 <span class="dv">2</span> <span class="dv">10</span>)) <span class="co">;; =&gt; #vec2 [-0.5, 0.25]</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>(v/abs V4) <span class="co">;; =&gt; #vec4 [1.0, 0.0, 3.25, 4.0]</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>(v/mn V3) <span class="co">;; =&gt; -3.25</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>(v/mx V4) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>(v/emn V3 (v/vec3 <span class="dv">0</span> <span class="dv">3</span> -<span class="dv">4</span>)) <span class="co">;; =&gt; #vec3 [-1.0, 2.5, -4.0]</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>(v/emx V4 (v/vec4 -<span class="dv">2</span> <span class="dv">1</span> -<span class="dv">3</span> <span class="dv">5</span>)) <span class="co">;; =&gt; #vec4 [-1.0, 1.0, -3.0, 5.0]</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>(v/mindim V4) <span class="co">;; =&gt; 2</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>(v/maxdim V4) <span class="co">;; =&gt; 3</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>(v/sum) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>(v/sum V2) <span class="co">;; =&gt; 1.5</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>(v/prod) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>(v/prod V3) <span class="co">;; =&gt; 8.125</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>(v/average V4) <span class="co">;; =&gt; -0.0625</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>(v/average V4 (v/vec4 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">10</span> <span class="dv">1</span>)) <span class="co">;; =&gt; -2.269230769230769</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>(v/approx (v/vec4 <span class="fl">1.2345</span> <span class="fl">6.789</span> <span class="fl">0.123</span> <span class="fl">4.567</span>)) <span class="co">;; =&gt; #vec4 [1.23, 6.79, 0.12, 4.57]</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>(v/approx (v/vec4 <span class="fl">1.2345</span> <span class="fl">6.789</span> <span class="fl">0.123</span> <span class="fl">4.567</span>) <span class="dv">1</span>) <span class="co">;; =&gt; #vec4 [1.2, 6.8, 0.1, 4.6]</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>(v/zero-count V4) <span class="co">;; =&gt; 1</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>(v/nonzero-count V4) <span class="co">;; =&gt; 3</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>(v/size V3) <span class="co">;; =&gt; 3</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> V3) <span class="co">;; =&gt; 3</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>(v/permute V4 [<span class="dv">3</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">2</span>]) <span class="co">;; =&gt; #vec4 [4.0, 0.0, -1.0, -3.25]</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>(v/permute V4 [<span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">3</span>]) <span class="co">;; =&gt; #vec4 [-1.0, -1.0, -1.0, 4.0]</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>(v/fmap V3 m/cos) <span class="co">;; =&gt; #vec3 [0.5403023058681398, -0.8011436155469337, -0.9941296760805461]</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>(v/logsumexp [-<span class="dv">10</span> <span class="dv">10</span> <span class="dv">20</span> <span class="dv">30</span> <span class="dv">40</span>]) <span class="co">;; =&gt; 40.00004540096037</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>(v/logmeanexp [-<span class="dv">10</span> <span class="dv">10</span> <span class="dv">20</span> <span class="dv">30</span> <span class="dv">40</span>]) <span class="co">;; =&gt; 38.39060748852627</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="comparison-and-equality" class="level4">
<h4 class="anchored" data-anchor-id="comparison-and-equality">Comparison and Equality</h4>
<p>Functions for comparing vectors, including approximate equality checks. These functions are essential for robust numerical comparisons, especially when dealing with floating-point numbers where exact equality (<code>=</code>) can be unreliable due to precision issues.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>is-zero?</code>, <code>zero?</code>, <code>is-near-zero?</code>, <code>near-zero?</code></li>
<li><code>delta-eq</code>, <code>edelta-eq</code></li>
<li><code>aligned?</code></li>
</ul>
</div>
</div>
<ul>
<li><strong>Zero Check</strong>:
<ul>
<li><code>is-zero?</code> / <code>zero?</code>: Checks if all elements of the vector are exactly zero. Returns <code>true</code> if <span class="math inline">\(\mathbf{v} = [0, 0, \dots, 0]\)</span>.</li>
<li><code>is-near-zero?</code> / <code>near-zero?</code>: Checks if the vectorâ€™s magnitude is close to zero within a specified absolute or relative tolerance. Returns <code>true</code> if <span class="math inline">\(\Vert \mathbf{v} \Vert \approx 0\)</span>.</li>
</ul></li>
<li><strong>Equality Check</strong>:
<ul>
<li><code>delta-eq</code>: Checks if the Euclidean distance between two vectors is within a given absolute and/or relative tolerance. Returns <code>true</code> if <span class="math inline">\(\Vert \mathbf{u} - \mathbf{v} \Vert \approx 0\)</span>.</li>
<li><code>edelta-eq</code>: Performs an element-wise approximate equality check between two vectors. Returns <code>true</code> if <span class="math inline">\(|u_i - v_i| \approx 0\)</span> for all elements <span class="math inline">\(i\)</span>, considering tolerance.</li>
</ul></li>
<li><strong>Alignment Check</strong>:
<ul>
<li><code>aligned?</code>: Checks if the angle between two vectors is less than a specified tolerance, indicating they point in approximately the same direction. Returns <code>true</code> if Angle<span class="math inline">\((\mathbf{u}, \mathbf{v}) &lt; \text{tolerance}\)</span>.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb23"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(v/is-zero? (v/vec2)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>(v/zero? (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>(v/is-zero? V2) <span class="co">;; =&gt; false</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>(v/near-zero? (v/vec4 <span class="fl">1.0E-9</span> <span class="dv">0</span> <span class="dv">0</span> -<span class="fl">1.0E-9</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>(v/near-zero? (v/vec4 <span class="fl">1.0E-5</span> <span class="dv">0</span> <span class="dv">0</span> -<span class="fl">1.0E-5</span>) <span class="fl">1.0E-6</span>) <span class="co">;; =&gt; false</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>(v/near-zero? (v/vec4 <span class="fl">1.0E-5</span> <span class="dv">0</span> <span class="dv">0</span> -<span class="fl">1.0E-5</span>) <span class="fl">1.0E-4</span>) <span class="co">;; =&gt; true</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>(v/delta-eq V2 (v/vec2 -<span class="fl">1.0</span> <span class="fl">2.5</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>(v/delta-eq V2 (v/vec2 -<span class="fl">1.0000001</span> <span class="fl">2.5000001</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>(v/delta-eq V2 (v/vec2 -<span class="fl">1.000001</span> <span class="fl">2.500001</span>) <span class="fl">1.0E-6</span>) <span class="co">;; =&gt; false</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>(v/edelta-eq V2 (v/vec2 -<span class="fl">1.0</span> <span class="fl">2.5</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>(v/edelta-eq V2 (v/vec2 -<span class="fl">1.0000001</span> <span class="fl">2.5000001</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>(v/edelta-eq V2 (v/vec2 -<span class="fl">1.000001</span> <span class="fl">2.500001</span>) <span class="fl">1.0E-6</span>) <span class="co">;; =&gt; false</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>(v/aligned? (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">1</span> <span class="fl">1.0E-7</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>(v/aligned? (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">1</span> <span class="fl">1.0E-5</span>)) <span class="co">;; =&gt; false</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>(v/aligned? (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">1</span> <span class="fl">1.0E-5</span>) <span class="fl">1.0E-4</span>) <span class="co">;; =&gt; true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="interpolation-and-clamping" class="level4">
<h4 class="anchored" data-anchor-id="interpolation-and-clamping">Interpolation and Clamping</h4>
<p>Functions for blending vectors and bounding element values.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>interpolate</code>, <code>einterpolate</code>, <code>lerp</code></li>
<li><code>econstrain</code>, <code>clamp</code></li>
</ul>
</div>
</div>
<p>These functions provide tools for combining vectors based on a parameter (interpolation) or ensuring that vector elements stay within specified bounds (clamping and constraining).</p>
<ul>
<li><strong>Interpolation</strong>:
<ul>
<li><code>interpolate</code>: Blends two vectors <code>v1</code> and <code>v2</code> based on a scalar parameter <code>t</code>. The default interpolation function is linear interpolation (<code>lerp</code>).</li>
<li><code>einterpolate</code>: Performs element-wise interpolation between vectors <code>v1</code> and <code>v2</code>, using corresponding elements from a third vector <code>v</code> as the interpolation parameters <code>t</code>.</li>
<li><code>lerp</code>: Performs linear interpolation between two vectors <span class="math inline">\(\mathbf{v}_1\)</span> and <span class="math inline">\(\mathbf{v}_2\)</span>. The resulting vector is <span class="math inline">\(\mathbf{v}_1 + t (\mathbf{v}_2 - \mathbf{v}_1)\)</span>. This is a specific case of <code>interpolate</code> using the standard <code>fastmath.core/lerp</code> function.</li>
</ul></li>
<li><strong>Clamping/Constraining</strong>:
<ul>
<li><code>econstrain</code>: Clamps each element of a vector <code>v</code> between a minimum value <code>val1</code> and a maximum value <code>val2</code> element-wise.</li>
<li><code>clamp</code>: A convenience function that uses <code>econstrain</code>. It clamps elements between 0.0 and <code>Double/MAX_VALUE</code> when called with one argument <code>[v]</code>, or between <code>mn</code> and <code>mx</code> when called with three arguments <code>[v mn mx]</code>.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb24"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(v/lerp (v/vec2) (v/vec2 <span class="dv">10</span> -<span class="dv">10</span>) <span class="fl">0.5</span>) <span class="co">;; =&gt; #vec2 [5.0, -5.0]</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>(v/interpolate (v/vec4) (v/vec4 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) <span class="fl">0.75</span>) <span class="co">;; =&gt; #vec4 [0.75, 0.75, 0.75, 0.75]</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>(v/interpolate (v/vec4) (v/vec4 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) <span class="fl">0.75</span> m/smoothstep) <span class="co">;; =&gt; #vec4 [0.84375, 0.84375, 0.84375, 0.84375]</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>(v/einterpolate (v/vec2) (v/vec2 <span class="dv">10</span> -<span class="dv">10</span>) (v/vec2 <span class="fl">0.2</span> <span class="fl">0.8</span>)) <span class="co">;; =&gt; #vec2 [2.0, -8.0]</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>(v/einterpolate (v/vec4) (v/vec4 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) (v/vec4 <span class="dv">0</span> <span class="fl">0.2</span> <span class="fl">0.8</span> <span class="dv">1</span>) m/smoothstep) <span class="co">;; =&gt; #vec4 [0.0, 0.10400000000000002, 0.8960000000000001, 1.0]</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>(v/econstrain (v/vec4 -<span class="dv">2</span> <span class="fl">0.5</span> <span class="dv">5</span> <span class="fl">1.2</span>) <span class="fl">0.0</span> <span class="fl">1.0</span>) <span class="co">;; =&gt; #vec4 [0.0, 0.5, 1.0, 1.0]</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>(v/clamp (v/vec3 -<span class="dv">5</span> <span class="dv">10</span> <span class="fl">0.5</span>) <span class="dv">0</span> <span class="dv">1</span>) <span class="co">;; =&gt; #vec3 [0.0, 1.0, 0.5]</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>(v/clamp (v/vec3 -<span class="dv">5</span> <span class="dv">10</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec3 [0.0, 10.0, 0.5]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="element-wise-functions" class="level4">
<h4 class="anchored" data-anchor-id="element-wise-functions">Element-wise Functions</h4>
<p>Applying common mathematical functions from <code>fastmath.core</code> element-wise.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>sin</code>, <code>cos</code>, <code>tan</code>, <code>asin</code>, <code>acos</code>, <code>atan</code></li>
<li><code>sinh</code>, <code>cosh</code>, <code>tanh</code>, <code>asinh</code>, <code>acosh</code>, <code>atanh</code></li>
<li><code>cot</code>, <code>sec</code>, <code>csc</code>, <code>acot</code>, <code>asec</code>, <code>acsc</code></li>
<li><code>coth</code>, <code>sech</code>, <code>csch</code>, <code>acoth</code>, <code>asech</code>, <code>acsch</code></li>
<li><code>sq</code>, <code>cb</code>, <code>safe-sqrt</code>, <code>sqrt</code>, <code>cbrt</code>, <code>pow</code></li>
<li><code>exp</code>, <code>log</code>, <code>log10</code>, <code>log2</code>, <code>ln</code>, <code>log1p</code>, <code>expm1</code></li>
<li><code>log1pexp</code>, <code>log1mexp</code>, <code>log1psq</code>, <code>log1pmx</code>, <code>logmxp1</code>, <code>logexpm1</code></li>
<li><code>radians</code>, <code>degrees</code>, <code>sinc</code>, <code>sigmoid</code>, <code>logit</code>, <code>xlogx</code></li>
<li><code>floor</code>, <code>ceil</code>, <code>round</code>, <code>rint</code>, <code>trunc</code>, <code>frac</code>, <code>sfrac</code>, <code>signum</code>, <code>sgn</code></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<p>Trigonometry</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb25"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(v/sin V2) <span class="co">;; =&gt; #vec2 [-0.8414709848078964, 0.5984721441039565]</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>(v/cos V2) <span class="co">;; =&gt; #vec2 [0.5403023058681398, -0.8011436155469337]</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>(v/tan V2) <span class="co">;; =&gt; #vec2 [-1.5574077246549018, -0.7470222972386602]</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>(v/cot V2) <span class="co">;; =&gt; #vec2 [-0.6420926159343309, -1.3386481283041516]</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>(v/sec V2) <span class="co">;; =&gt; #vec2 [1.8508157176809255, -1.2482156514688179]</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>(v/csc V2) <span class="co">;; =&gt; #vec2 [-1.1883951057781215, 1.6709215455586797]</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>(v/asin (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [-0.5235987755982989, 0.5235987755982989]</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>(v/acos (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [2.0943951023931957, 1.0471975511965976]</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>(v/atan (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [-0.4636476090008061, 0.4636476090008061]</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>(v/acot (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [2.0344439357957027, 1.1071487177940904]</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>(v/asec (v/vec2 <span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [0.0, 1.0471975511965976]</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>(v/acsc (v/vec2 <span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [1.5707963267948966, 0.5235987755982989]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hyperbolic</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb26"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(v/sinh V2) <span class="co">;; =&gt; #vec2 [-1.1752011936438016, 6.0502044810397875]</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>(v/cosh V2) <span class="co">;; =&gt; #vec2 [1.543080634815244, 6.132289479663686]</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>(v/tanh V2) <span class="co">;; =&gt; #vec2 [-0.7615941559557649, 0.9866142981514303]</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>(v/coth V2) <span class="co">;; =&gt; #vec2 [-1.3130352854993315, 1.0135673098126083]</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>(v/sech V2) <span class="co">;; =&gt; #vec2 [0.6480542736638853, 0.16307123192997783]</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>(v/csch V2) <span class="co">;; =&gt; #vec2 [-0.8509181282393214, 0.16528366985509557]</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>(v/asinh (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [-0.48121182505960347, 0.48121182505960347]</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>(v/acosh (v/vec2 <span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [0.0, 1.3169578969248166]</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>(v/atanh (v/vec2 -<span class="fl">0.5</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [-0.5493061443340548, 0.5493061443340548]</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>(v/acoth (v/vec2 <span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [Infinity, 0.5493061443340548]</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>(v/asech (v/vec2 <span class="dv">1</span> <span class="fl">0.5</span>)) <span class="co">;; =&gt; #vec2 [0.0, 1.3169578969248166]</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>(v/acsch (v/vec2 <span class="dv">1</span> <span class="dv">2</span>)) <span class="co">;; =&gt; #vec2 [0.8813735870195429, 0.48121182505960347]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Powers</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb27"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>(v/sq V3) <span class="co">;; =&gt; #vec3 [1.0, 6.25, 10.5625]</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>(v/cb V3) <span class="co">;; =&gt; #vec3 [-1.0, 15.625, -34.328125]</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>(v/safe-sqrt V3) <span class="co">;; =&gt; #vec3 [0.0, 1.5811388300841898, 0.0]</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>(v/sqrt V3) <span class="co">;; =&gt; #vec3 [NaN, 1.5811388300841898, NaN]</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>(v/cbrt V3) <span class="co">;; =&gt; #vec3 [-1.0, 1.3572088082974534, -1.4812480342036853]</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>(v/pow V3 <span class="dv">5</span>) <span class="co">;; =&gt; #vec3 [-1.0, 97.65625, -362.5908203125]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Exp and logarithm</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb28"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(v/exp V3) <span class="co">;; =&gt; #vec3 [0.36787944117144233, 12.182493960703473, 0.03877420783172201]</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>(v/expm1 V3) <span class="co">;; =&gt; #vec3 [-0.6321205588285577, 11.182493960703473, -0.961225792168278]</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>(v/log (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.0, 0.9162907318741551, 1.1786549963416462]</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>(v/ln (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.0, 0.9162907318741551, 1.1786549963416462]</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>(v/log10 (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.0, 0.3979400086720376, 0.5118833609788743]</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>(v/log2 (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.0, 1.3219280948873624, 1.7004397181410922]</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>(v/log1p (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.6931471805599453, 1.252762968495368, 1.4469189829363254]</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>(v/log1pexp V3) <span class="co">;; =&gt; #vec3 [0.31326168751822303, 2.578889734292549, 0.03804137168778312]</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>(v/log1mexp V3) <span class="co">;; =&gt; #vec3 [-0.458675145387082, NaN, -0.039545942179498944]</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>(v/log1psq V3) <span class="co">;; =&gt; #vec3 [0.6931471805599453, 1.9810014688665833, 2.4477671028385433]</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>(v/log1pmx V3) <span class="co">;; =&gt; #vec3 [-Infinity, -1.247237031504632, NaN]</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>(v/logmxp1 V3) <span class="co">;; =&gt; #vec3 [NaN, -0.5837092681258449, NaN]</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>(v/logexpm1 V3) <span class="co">;; =&gt; #vec3 [NaN, 2.414349516257962, NaN]</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>(v/xlogx (v/abs V3)) <span class="co">;; =&gt; #vec3 [0.0, 2.2907268296853878, 3.83062873811035]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sign</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb29"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>(v/signum V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -1.0, 1.0]</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>(v/sgn V4) <span class="co">;; =&gt; #vec4 [-1.0, 1.0, -1.0, 1.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Rounding</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb30"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>(v/floor V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -4.0, 4.0]</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>(v/ceil V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.0, 4.0]</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>(v/round V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.0, 4.0]</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>(v/rint V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.0, 4.0]</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>(v/trunc V4) <span class="co">;; =&gt; #vec4 [-1.0, 0.0, -3.0, 4.0]</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>(v/frac V4) <span class="co">;; =&gt; #vec4 [0.0, 0.0, 0.25, 0.0]</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>(v/sfrac V4) <span class="co">;; =&gt; #vec4 [0.0, 0.0, -0.25, 0.0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Other</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb31"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>(v/radians V3) <span class="co">;; =&gt; #vec3 [-0.017453292519943295, 0.04363323129985824, -0.05672320068981571]</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>(v/degrees V3) <span class="co">;; =&gt; #vec3 [-57.29577951308232, 143.2394487827058, -186.21128341751756]</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>(v/sinc V3) <span class="co">;; =&gt; #vec3 [3.898171832295186E-17, 0.12732395447351627, -0.06925510124285433]</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>(v/sigmoid V3) <span class="co">;; =&gt; #vec3 [0.2689414213699951, 0.9241418199787566, 0.03732688734412946]</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>(v/logit (v/vec3 <span class="fl">0.1</span> <span class="fl">0.5</span> <span class="fl">0.9</span>)) <span class="co">;; =&gt; #vec3 [-2.197224577336219, 0.0, 2.1972245773362196]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="geometric-properties-and-operations" class="level3">
<h3 class="anchored" data-anchor-id="geometric-properties-and-operations">Geometric Properties and Operations</h3>
<p>Functions related to the length, direction, and orientation of vectors.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>mag</code>, <code>magsq</code></li>
<li><code>normalize</code>, <code>set-mag</code>, <code>limit</code></li>
<li><code>heading</code>, <code>angle-between</code>, <code>relative-angle-between</code></li>
<li><code>perpendicular</code>, <code>base-from</code>, <code>faceforward</code>, <code>project</code></li>
<li><code>transform</code></li>
<li><code>average-vectors</code></li>
<li><code>dot</code>, <code>cross</code>, <code>triple-product</code></li>
<li><code>rotate</code>, <code>axis-rotate</code></li>
<li><code>to-polar</code>, <code>from-polar</code></li>
</ul>
</div>
</div>
<p>These functions allow you to compute vector lengths, angles between vectors, project one vector onto another, normalize vectors, perform rotations, and work with different coordinate representations.</p>
<ul>
<li><strong>Magnitude and Length</strong>:
<ul>
<li><code>magsq</code>: Computes the squared Euclidean magnitude (length) of a vector. <span class="math inline">\(\Vert \mathbf{v} \Vert^2 = \sum_{i=1}^n v_i^2\)</span>. Useful for comparisons as it avoids the expensive square root calculation.</li>
<li><code>mag</code>: Computes the Euclidean magnitude (length) of a vector. <span class="math inline">\(\Vert \mathbf{v} \Vert = \sqrt{\sum_{i=1}^n v_i^2}\)</span>.</li>
</ul></li>
<li><strong>Normalization and Scaling</strong>:
<ul>
<li><code>normalize</code>: Returns a unit vector (magnitude 1) with the same direction as the input vector. <span class="math inline">\(\hat{\mathbf{v}} = \mathbf{v} / \Vert \mathbf{v} \Vert\)</span>. Returns a zero vector if the input is a zero vector.</li>
<li><code>set-mag</code>: Returns a new vector with the same direction as the input vector but a specified magnitude. <span class="math inline">\(\mathbf{v}' = \text{len} \cdot \hat{\mathbf{v}}\)</span>.</li>
<li><code>limit</code>: Returns a new vector with the same direction as the input, but limits its magnitude to a maximum value. If the current magnitude is less than the limit, the original vector is returned.</li>
</ul></li>
<li><strong>Angles and Direction</strong>:
<ul>
<li><code>heading</code>: For 2D vectors, returns the angle (in radians) relative to the positive x-axis. For 3D/4D vectors, it returns the angle between the vector and the positive x-axis (<code>[1,0,...]</code>).</li>
<li><code>angle-between</code>: Computes the angle (in radians, <span class="math inline">\(0 \le \theta \le \pi\)</span>) between two vectors. <span class="math inline">\(\theta = \operatorname{acos}(\frac{\mathbf{u} \cdot \mathbf{v}}{\Vert \mathbf{u} \Vert \Vert \mathbf{v} \Vert})\)</span>. Returns 0 if either vector is zero.</li>
<li><code>relative-angle-between</code>: Computes the difference between the <code>heading</code> of two vectors. Primarily useful for 2D vectors to find the signed angle difference. Returns a value from <span class="math inline">\(-2\pi\)</span> to <span class="math inline">\(2\pi\)</span>.</li>
</ul></li>
<li><strong>Projections and Basis</strong>:
<ul>
<li><code>project</code>: Computes the vector projection of <code>v1</code> onto <code>v2</code>. This is the component of <code>v1</code> that lies along the direction of <code>v2</code>. <span class="math inline">\(\text{proj}_{\mathbf{v}_2} \mathbf{v}_1 = \frac{\mathbf{v}_1 \cdot \mathbf{v}_2}{\Vert \mathbf{v}_2 \Vert^2} \mathbf{v}_2\)</span>.</li>
<li><code>perpendicular</code>: For 2D vectors, returns a vector perpendicular to the input (<code>[-y, x]</code>). For 3D vectors, <code>perpendicular(v1, v2)</code> computes a vector perpendicular to both <code>v1</code> and <code>v2</code> (their normalized cross product). Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
<li><code>base-from</code>: Computes an orthogonal basis starting from the input vector. For <code>Vec2</code>, returns <code>[v, perpendicular(v)]</code>. For <code>Vec3</code>, returns <code>[v, v', v'']</code> where <code>v'</code> and <code>v''</code> are orthogonal to <code>v</code> and each other. Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
<li><code>faceforward</code>: Returns vector <code>n</code> or <code>-n</code> such that it faces the same general direction as <code>v</code>. Specifically, if <span class="math inline">\(\mathbf{n} \cdot \mathbf{v} &lt; 0\)</span>, returns <span class="math inline">\(-\mathbf{n}\)</span>; otherwise, returns <span class="math inline">\(\mathbf{n}\)</span>. Useful for ensuring normals face outwards or towards a view direction.</li>
</ul></li>
<li><strong>Transformations</strong>:
<ul>
<li><code>transform</code>: Transforms a point (represented by a vector <code>v</code>) from one coordinate system to another defined by an origin <code>o</code> and basis vectors (<code>vx</code>, <code>vy</code>, <code>vz</code>). Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
</ul></li>
<li><strong>Aggregate/Statistical (Geometric Context)</strong>:
<ul>
<li><code>average-vectors</code>: Computes the centroid (average position) of a collection of vectors.</li>
</ul></li>
<li><strong>Vector Products</strong>:
<ul>
<li><code>dot</code>: Computes the dot product of two vectors. <span class="math inline">\(\mathbf{u} \cdot \mathbf{v} = \sum_{i=1}^n u_i v_i\)</span>. Returns a scalar value.</li>
<li><code>cross</code>: Computes the cross product of two 3D vectors. <span class="math inline">\(\mathbf{u} \times \mathbf{v} = [u_y v_z - u_z v_y, u_z v_x - u_x v_z, u_x v_y - u_y v_x]\)</span>. Returns a vector perpendicular to both inputs. Only defined for <code>Vec3</code>.</li>
<li><code>triple-product</code>: Computes the scalar triple product of three 3D vectors: <span class="math inline">\(\mathbf{a} \cdot (\mathbf{b} \times \mathbf{c})\)</span>. Returns a scalar value equal to the signed volume of the parallelepiped spanned by the vectors. Only defined for <code>Vec3</code>.</li>
</ul></li>
<li><strong>Rotations</strong>:
<ul>
<li><code>rotate</code>: Rotates a 2D vector by a given angle around the origin. Rotates a 3D vector around the origin by specified angles around the x, y, and z axes (intrinsic ZYX rotation). Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
<li><code>axis-rotate</code>: Rotates a 3D vector around a specified axis by a given angle. Can also specify an optional pivot point. Only defined for <code>Vec3</code>.</li>
</ul></li>
<li><strong>Coordinate Systems</strong>:
<ul>
<li><code>to-polar</code>: Converts a 2D vector (<code>[x, y]</code>) to polar coordinates (<code>[r, \theta]</code>) or a 3D vector (<code>[x, y, z]</code>) to spherical coordinates (<code>[r, \theta, \phi]</code>), where <code>r</code> is magnitude, <code>\theta</code> is the angle from the positive z-axis (for 3D) or x-axis (for 2D), and <code>\phi</code> is the azimuthal angle in the xy-plane (for 3D). Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
<li><code>from-polar</code>: Converts a vector from polar (2D) or spherical (3D) coordinates back to Cartesian coordinates. Assumes input elements represent <code>[r, \theta]</code> for 2D or <code>[r, \theta, \phi]</code> for 3D. Only defined for <code>Vec2</code> and <code>Vec3</code>.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb32"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(v/magsq V3) <span class="co">;; =&gt; 17.8125</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>(v/mag V3) <span class="co">;; =&gt; 4.220485754033533</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>(v/normalize V3) <span class="co">;; =&gt; #vec3 [-0.23693955110363693, 0.5923488777590923, -0.77005354108682]</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>(v/set-mag V3 <span class="fl">10.0</span>) <span class="co">;; =&gt; #vec3 [-2.369395511036369, 5.923488777590923, -7.7005354108682]</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>(v/limit V3 <span class="fl">2.0</span>) <span class="co">;; =&gt; #vec3 [-0.47387910220727386, 1.1846977555181846, -1.54010708217364]</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>(v/heading V2) <span class="co">;; =&gt; 1.9513027039072615</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>(v/angle-between (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 1.5707963267948966</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>(v/relative-angle-between (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 1.5707963267948966</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>(v/project V3 (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [-0.5833333333333334, -0.5833333333333334, -0.5833333333333334]</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>(v/project (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) V3) <span class="co">;; =&gt; #vec3 [0.09824561403508772, -0.24561403508771928, 0.3192982456140351]</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>(v/perpendicular (v/vec2 <span class="dv">1</span> <span class="dv">0</span>)) <span class="co">;; =&gt; #vec2 [-0.0, 1.0]</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>(v/perpendicular V3 (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [0.9284766908852593, 0.3713906763541037, -0.0]</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>(v/base-from V2) <span class="co">;; =&gt; [#vec2 [-1.0, 2.5] #vec2 [-0.9284766908852593, -0.3713906763541037]]</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>(v/base-from V3) <span class="co">;; =&gt; [#vec3 [-1.0, 2.5, -3.25] #vec3 [0.0, -0.7926239891046, -0.6097107608496923] #vec3 [-4.100304866714181, -0.6097107608496923, 0.7926239891046]]</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>(v/faceforward (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> -<span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [-0.0, -0.0, -1.0]</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>(v/faceforward (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [0.0, 0.0, 1.0]</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>(v/transform (v/vec2 <span class="dv">1</span> <span class="dv">1</span>) (v/vec2 <span class="dv">10</span> <span class="dv">10</span>) (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec2 [11.0, 11.0]</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>(v/transform (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) (v/vec3 <span class="dv">10</span> <span class="dv">10</span> <span class="dv">10</span>) (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec3 [11.0, 11.0, 11.0]</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>(v/average-vectors [V2 (v/vec2 <span class="dv">1</span> <span class="dv">1</span>) (v/vec2 -<span class="dv">2</span> -<span class="dv">2</span>)]) <span class="co">;; =&gt; #vec2 [-0.6666666666666666, 0.5]</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>(v/dot V3 (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; -1.75</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>(v/dot V3 (v/perpendicular V3 (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>))) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>(v/cross (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span>)) <span class="co">;; =&gt; #vec3 [0.0, 0.0, 1.0]</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>(v/triple-product (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>(v/rotate V2 m/HALF_PI) <span class="co">;; =&gt; #vec2 [-2.5, -0.9999999999999999]</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>(v/rotate V3 m/HALF_PI <span class="dv">0</span> <span class="dv">0</span>) <span class="co">;; =&gt; #vec3 [-1.0, 3.25, 2.5]</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>(v/axis-rotate V3 m/HALF_PI (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; #vec3 [-1.0, 3.25, 2.5]</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>(v/axis-rotate (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) m/HALF_PI (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; #vec3 [-0.9999999999999999, 1.0, 1.0]</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>(v/axis-rotate (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>) m/HALF_PI (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>) (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span>)) <span class="co">;; =&gt; #vec3 [1.0, 1.0, 1.0]</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>(v/to-polar V2) <span class="co">;; =&gt; #vec2 [2.692582403567252, 1.9513027039072615]</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>(v/from-polar (v/vec2 (v/mag V2) (v/heading V2))) <span class="co">;; =&gt; #vec2 [-0.9999999999999997, 2.5]</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>(v/to-polar V3) <span class="co">;; =&gt; #vec3 [4.220485754033533, 2.4497213971395904, 1.9513027039072615]</span></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>(v/from-polar (v/vec3 (v/mag V3) <span class="fl">2.45</span> <span class="fl">1.95</span>)) <span class="co">;; =&gt; #vec3 [-0.9964071702802869, 2.500459349968364, -3.250750035018045]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="distances-and-similarities" class="level3">
<h3 class="anchored" data-anchor-id="distances-and-similarities">Distances and Similarities</h3>
<p>Functions for measuring the distance or similarity between vectors using various metrics.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>dist</code>, <code>dist-sq</code></li>
<li><code>dist-abs</code>, <code>dist-cheb</code></li>
<li><code>dist-discrete</code></li>
<li><code>dist-canberra</code>, <code>dist-emd</code></li>
<li><code>dist-ang</code>, <code>sim-cos</code></li>
<li><code>distances</code></li>
</ul>
</div>
</div>
<p>These functions provide ways to quantify how â€œfar apartâ€ two vectors are (distance) or how similar their directions are (similarity), based on different mathematical definitions.</p>
<ul>
<li><strong>Euclidean Distance</strong>:
<ul>
<li><code>dist</code>: Computes the standard Euclidean distance between two vectors. <span class="math inline">\(\Vert \mathbf{u} - \mathbf{v} \Vert = \sqrt{\sum_{i=1}^n (u_i - v_i)^2}\)</span>.</li>
<li><code>dist-sq</code>: Computes the squared Euclidean distance. <span class="math inline">\(\Vert \mathbf{u} - \mathbf{v} \Vert^2 = \sum_{i=1}^n (u_i - v_i)^2\)</span>. Faster than <code>dist</code> if only comparing distances.</li>
</ul></li>
<li><strong>Other Common Distances</strong>:
<ul>
<li><code>dist-abs</code>: Computes the Manhattan distance (L1 norm of the difference). <span class="math inline">\(\sum_{i=1}^n |u_i - v_i|\)</span>.</li>
<li><code>dist-cheb</code>: Computes the Chebyshev distance (L-infinity norm of the difference). <span class="math inline">\(\max_{i} |u_i - v_i|\)</span>.</li>
<li><code>dist-discrete</code>: Computes the discrete distance (Hamming distance for numerical vectors), counting the number of elements that are approximately different. <span class="math inline">\(\sum_{i=1}^n \mathbb{I}(|u_i - v_i| &gt; \epsilon)\)</span>.</li>
<li><code>dist-canberra</code>: Computes the Canberra distance. <span class="math inline">\(\sum_{i=1}^n \frac{|u_i - v_i|}{|u_i| + |v_i|}\)</span>, handles division by zero by treating <span class="math inline">\(\frac{0}{0}\)</span> as 0.</li>
<li><code>dist-emd</code>: Computes the 1D Earth Moverâ€™s Distance (Wasserstein distance) between two vectors treated as 1D distributions. It is calculated as the sum of absolute differences of their cumulative sums. <span class="math inline">\(\sum_{i=1}^n \left| \sum_{j=1}^i u_j - \sum_{j=1}^i v_j \right|\)</span>.</li>
</ul></li>
<li><strong>Angular Metrics</strong>:
<ul>
<li><code>dist-ang</code>: Computes the angular distance, which is the angle between normalized vectors, scaled to the range <span class="math inline">\([0, 1]\)</span> by dividing by <span class="math inline">\(\pi\)</span>. <span class="math inline">\(\frac{1}{\pi} \operatorname{acos}(\frac{\mathbf{u} \cdot \mathbf{v}}{\Vert \mathbf{u} \Vert \Vert \mathbf{v} \Vert})\)</span>.</li>
<li><code>sim-cos</code>: Computes the cosine similarity between two vectors. This is the cosine of the angle between them. <span class="math inline">\(\frac{\mathbf{u} \cdot \mathbf{v}}{\Vert \mathbf{u} \Vert \Vert \mathbf{v} \Vert}\)</span>. A value of 1 indicates identical direction, -1 opposite, and 0 orthogonality.</li>
</ul></li>
<li><strong>Distance Map</strong>:
<ul>
<li><code>distances</code>: A map where keys are keywords (e.g., <code>:euclid</code>, <code>:abs</code>) and values are the corresponding distance functions. Useful for selecting metrics programmatically.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb33"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>(v/dist V2 (v/vec2 <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; 2.692582403567252</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>(v/dist V3 (v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)) <span class="co">;; =&gt; 6.5812232905440915</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>(v/dist-sq V2 (v/vec2 <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; 7.25</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>(v/dist-sq V3 (v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)) <span class="co">;; =&gt; 43.3125</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>(v/dist-abs V4 (v/vec4 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; 8.25</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>(v/dist-abs V4 (v/vec4 -<span class="dv">1</span> <span class="dv">1</span> -<span class="dv">3</span> <span class="dv">5</span>)) <span class="co">;; =&gt; 2.25</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>(v/dist-cheb V4 (v/vec4 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>)) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>(v/dist-cheb V4 (v/vec4 -<span class="dv">1</span> <span class="dv">1</span> -<span class="dv">3</span> <span class="dv">5</span>)) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>(v/dist-discrete V3 (v/vec3 -<span class="dv">1</span> <span class="fl">2.5</span> -<span class="fl">3.25</span>)) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>(v/dist-discrete V3 (v/vec3 -<span class="dv">1</span> <span class="fl">2.5</span> -<span class="fl">3.251</span>) <span class="fl">1.0E-4</span>) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>(v/dist-discrete V3 (v/vec3 -<span class="dv">1</span> <span class="fl">2.5</span> -<span class="fl">3.251</span>) <span class="fl">0.001</span>) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>(v/dist-discrete V3 (v/vec3 -<span class="dv">1</span> <span class="dv">0</span> -<span class="fl">3.25</span>)) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>(v/dist-canberra V3 (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 2.428571428571429</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>(v/dist-canberra (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span>) (v/vec3 <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span>)) <span class="co">;; =&gt; 3.0</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>(v/dist-emd (v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>) (v/vec3 <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>(v/dist-ang (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 0.5</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>(v/dist-ang (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>) (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 0.5</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>(v/sim-cos (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 <span class="dv">0</span> <span class="dv">1</span>)) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>(v/sim-cos (v/vec2 <span class="dv">1</span> <span class="dv">0</span>) (v/vec2 -<span class="dv">1</span> <span class="dv">0</span>)) <span class="co">;; =&gt; -1.0</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>((v/distances <span class="at">:euclid</span>) V3 (v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)) <span class="co">;; =&gt; 6.5812232905440915</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>((v/distances <span class="at">:abs</span>) V4 (v/vec4 -<span class="dv">1</span> <span class="dv">1</span> -<span class="dv">3</span> <span class="dv">5</span>)) <span class="co">;; =&gt; 2.25</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb34"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">keys</span> v/distances)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb35"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">:euclid</span> <span class="at">:euclid-sq</span> <span class="at">:abs</span> <span class="at">:cheb</span> <span class="at">:canberra</span> <span class="at">:emd</span> <span class="at">:angular</span> <span class="at">:discrete</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="advanced-and-specific-operations" class="level3">
<h3 class="anchored" data-anchor-id="advanced-and-specific-operations">Advanced and Specific Operations</h3>
<p>Other utility and more specialized vector operations.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined Functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined Functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>orthogonal-polynomials</code>, <code>orthonormal-polynomials</code></li>
<li><code>softmax</code>, <code>logsoftmax</code></li>
</ul>
</div>
</div>
<p>This section covers advanced operations that are useful in specific mathematical or statistical contexts, such as generating orthogonal bases for polynomial fitting or numerical stability functions common in machine learning.</p>
<ul>
<li><strong>Polynomial Bases</strong>:
<ul>
<li><code>orthogonal-polynomials</code>: Generates a sequence of vectors representing orthogonal polynomials evaluated at the points in the input sequence <code>xs</code>. Orthogonality is with respect to the discrete inner product <span class="math inline">\(\sum_i p_k(x_i) p_j(x_i) = 0\)</span> for <span class="math inline">\(k \ne j\)</span>. The sequence includes vectors up to degree <code>(count xs) - 1</code>.</li>
<li><code>orthonormal-polynomials</code>: Similar to <code>orthogonal-polynomials</code>, but normalizes each resulting vector to have unit magnitude. This creates an orthonormal basis.</li>
</ul></li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb36"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(v/orthogonal-polynomials [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb37"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>([-<span class="fl">2.0</span> -<span class="fl">1.0</span> <span class="fl">0.0</span> <span class="fl">1.0</span> <span class="fl">2.0</span>]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a> [<span class="fl">2.0</span> -<span class="fl">1.0</span> -<span class="fl">2.0</span> -<span class="fl">1.0</span> <span class="fl">2.0</span>]</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a> [-<span class="fl">1.2000000000000002</span> <span class="fl">2.4</span> -<span class="fl">0.0</span> -<span class="fl">2.4</span> <span class="fl">1.2000000000000002</span>]</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a> [<span class="fl">0.3428571428571425</span> -<span class="fl">1.3714285714285703</span> <span class="fl">2.0571428571428574</span> -<span class="fl">1.371428571428572</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.3428571428571434</span>]</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a> [<span class="fl">1.1102230246251565E-16</span> <span class="fl">1.1102230246251565E-15</span> -<span class="fl">2.7406648379318155E-15</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fl">6.661338147750939E-16</span> <span class="fl">7.771561172376096E-16</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb38"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(v/orthonormal-polynomials [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb39"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>([-<span class="fl">0.6324555320336759</span> -<span class="fl">0.31622776601683794</span> <span class="fl">0.0</span> <span class="fl">0.31622776601683794</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.6324555320336759</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a> [<span class="fl">0.5345224838248488</span> -<span class="fl">0.2672612419124244</span> -<span class="fl">0.5345224838248488</span> -<span class="fl">0.2672612419124244</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.5345224838248488</span>]</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a> [-<span class="fl">0.31622776601683794</span> <span class="fl">0.6324555320336758</span> -<span class="fl">0.0</span> -<span class="fl">0.6324555320336758</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.31622776601683794</span>]</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a> [<span class="fl">0.11952286093343926</span> -<span class="fl">0.4780914437337571</span> <span class="fl">0.7171371656006363</span> -<span class="fl">0.4780914437337577</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.11952286093343957</span>]</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a> [<span class="fl">0.0354577718339618</span> <span class="fl">0.35457771833961804</span> -<span class="fl">0.8753004247012286</span> <span class="fl">0.2127466310037708</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fl">0.2482044028377326</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Softmax and Log-Softmax</strong>:
<ul>
<li><code>softmax</code>: Applies the softmax function element-wise to a vector, converting arbitrary real values into a probability distribution. <span class="math inline">\(\operatorname{softmax}(\mathbf{v})_i = \frac{\exp(v_i)}{\sum_j \exp(v_j)}\)</span>. Supports an optional temperature parameter <code>t</code>: <span class="math inline">\(\operatorname{softmax}(\mathbf{v}, t)_i = \frac{\exp(v_i/t)}{\sum_j \exp(v_j/t)}\)</span>. It uses a numerically stable implementation.</li>
<li><code>logsoftmax</code>: Computes the element-wise natural logarithm of the softmax function in a numerically stable way. <span class="math inline">\(\operatorname{logsoftmax}(\mathbf{v})_i = \log(\operatorname{softmax}(\mathbf{v})_i) = v_i - \log(\sum_j \exp(v_j))\)</span>. Also supports a temperature parameter <code>t</code>.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb40"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>(v/softmax [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; [0.09003057317038045 0.2447284710547976 0.6652409557748218]</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>(v/softmax [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>] <span class="fl">0.5</span>) <span class="co">;; =&gt; [0.015876239976466765 0.11731042782619838 0.8668133321973349]</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>(v/logsoftmax [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]) <span class="co">;; =&gt; [-2.4076059644443806 -1.4076059644443804 -0.4076059644443804]</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>(v/logsoftmax [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>] <span class="fl">2.0</span>) <span class="co">;; =&gt; [-1.6802696706417346 -1.1802696706417346 -0.6802696706417346]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="matrices" class="level2">
<h2 class="anchored" data-anchor-id="matrices">Matrices</h2>
<p>The <code>fastmath.matrix</code> namespace provides tools for working with 2x2, 3x3, 4x4 fixed-size matrices and arbitrary-sized matrices represented as Java <code>double[][]</code> arrays or Apache Commons Math <code>RealMatrix</code>. It is designed to provide efficient mathematical operations for linear algebra, geometric transformations, and data preprocessing.</p>
<section id="supported-matrix-types" class="level3">
<h3 class="anchored" data-anchor-id="supported-matrix-types">Supported Matrix Types</h3>
<p><code>fastmath.matrix</code> works with several matrix representations, balancing convenience, performance, and compatibility.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Supported Types">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Supported Types
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>Mat2x2</code> (2x2 matrix, custom type)</li>
<li><code>Mat3x3</code> (3x3 matrix, custom type)</li>
<li><code>Mat4x4</code> (4x4 matrix, custom type)</li>
<li><code>double[][]</code> (Java 2D double array, N x M)</li>
<li><code>org.apache.commons.math3.linear.RealMatrix</code> (N x M)</li>
</ul>
</div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb41"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> M2x2 </span>(Mat2x2. <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb42"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> M3x3 </span>(Mat3x3. <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> -<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span> -<span class="dv">8</span> <span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb43"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> M4x4 </span>(Mat4x4. <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> <span class="dv">11</span> <span class="dv">12</span> <span class="dv">13</span> <span class="dv">14</span> <span class="dv">15</span> <span class="dv">16</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb44"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> RealMat </span>(mat/real-matrix [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>] [<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb45"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>M2x2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb46"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb47"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>M3x3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb48"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, -<span class="fl">8.0</span>, <span class="fl">7.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb49"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>M4x4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb50"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">10.0</span>, <span class="fl">11.0</span>, <span class="fl">12.0</span>]</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">13.0</span>, <span class="fl">14.0</span>, <span class="fl">15.0</span>, <span class="fl">16.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb51"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>RealMat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb52"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x61f98b82</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0},{4.0,5.0,6.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creation-and-conversion-1" class="level3">
<h3 class="anchored" data-anchor-id="creation-and-conversion-1">Creation and Conversion</h3>
<p>Functions for generating new matrices or converting between the supported types and standard Clojure/Java representations.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>mat2x2</code>, <code>mat3x3</code>, <code>mat4x4</code></li>
<li><code>rows-&gt;mat2x2</code>, <code>rows-&gt;mat3x3</code>, <code>rows-&gt;mat4x4</code></li>
<li><code>cols-&gt;mat2x2</code>, <code>cols-&gt;mat3x3</code>, <code>cols-&gt;mat4x4</code></li>
<li><code>diag-&gt;mat2x2</code>, <code>diag-&gt;mat3x3</code>, <code>diag-&gt;mat4x4</code></li>
<li><code>real-matrix</code>, <code>rows-&gt;RealMatrix</code>, <code>cols-&gt;RealMatrix</code></li>
<li><code>mat</code>, <code>rows-&gt;mat</code>, <code>cols-&gt;mat</code></li>
<li><code>array2d-&gt;mat2x2</code>, <code>array2d-&gt;mat3x3</code>, <code>array2d-&gt;mat4x4</code>, <code>array2d-&gt;RealMatrix</code></li>
<li><code>mat-&gt;seq</code>, <code>mat-&gt;array2d</code>, <code>mat-&gt;float-array2d</code>, <code>mat-&gt;array</code>, <code>mat-&gt;float-array</code>, <code>mat-&gt;RealMatrix</code></li>
<li><code>eye</code>, <code>zero</code>, <code>diagonal</code></li>
</ul>
</div>
</div>
<section id="creating-fixed-size-matrices" class="level4">
<h4 class="anchored" data-anchor-id="creating-fixed-size-matrices">Creating Fixed-Size Matrices</h4>
<p>Use <code>mat2x2</code>, <code>mat3x3</code>, <code>mat4x4</code> for creating small, performance-optimized matrices.</p>
<div class="grid">
<div class="g-col-4">
<p><strong>Single value</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb53"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>(mat/mat2x2 <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb54"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb55"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(mat/mat3x3 <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb56"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">2.0</span>, <span class="fl">2.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">2.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">2.0</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb57"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(mat/mat4x4 <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb58"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>, <span class="fl">3.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Diagonal</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb59"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>(mat/mat2x2 <span class="dv">2</span> -<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb60"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">2.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb61"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>(mat/mat3x3 <span class="dv">2</span> -<span class="dv">2</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb62"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">2.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">2.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb63"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>(mat/mat4x4 <span class="dv">2</span> -<span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb64"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">2.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">2.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Full matrix</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb65"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>(mat/mat2x2 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb66"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb67"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>(mat/mat3x3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb68"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">7.0</span>, <span class="fl">8.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb69"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>(mat/mat4x4 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb70"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Additionally you can use specialized creation functions from rows, cols or diagonals.</p>
<div class="grid">
<div class="g-col-6">
<p><strong>Matrices from rows</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb71"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat2x2 [<span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb72"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb73"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat3x3 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb74"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">7.0</span>, <span class="fl">8.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb75"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat4x4 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb76"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Matrices from columns</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb77"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat2x2 [<span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb78"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">5.0</span>]</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb79"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat3x3 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb80"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">4.0</span>, <span class="fl">7.0</span>]</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">5.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">6.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb81"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat4x4 [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>                  [<span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb82"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">5.0</span>, <span class="fl">9.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">6.0</span>, <span class="fl">0.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">7.0</span>, <span class="fl">1.0</span>, <span class="fl">5.0</span>]</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">8.0</span>, <span class="fl">2.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="grid">
<div class="g-col-6">
<p><strong>Single value diagonal</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb83"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat2x2 <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb84"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb85"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat3x3 <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb86"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb87"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat4x4 <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb88"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Full diagonals</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb89"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat2x2 <span class="dv">1</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb90"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb91"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat3x3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb92"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb93"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>(mat/diag-&gt;mat4x4 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb94"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="creating-arbitrary-size-matrices" class="level4">
<h4 class="anchored" data-anchor-id="creating-arbitrary-size-matrices">Creating Arbitrary-Size Matrices</h4>
<p>Use <code>real-matrix</code>, <code>rows-&gt;RealMatrix</code>, <code>cols-&gt;RealMatrix</code> for N x M matrices backed by Apache Commons Math.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb95"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>(mat/real-matrix [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>] [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb96"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0xb64e004</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0,4.0},{5.0,6.0,7.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb97"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;RealMatrix [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>] [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb98"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x68e6ce0e</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0,4.0},{5.0,6.0,7.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb99"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;RealMatrix [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>] [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb100"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x21c330ce</span> <span class="st">"Array2DRowRealMatrix{{1.0,5.0},{2.0,6.0},{3.0,7.0},{4.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generic-creation" class="level4">
<h4 class="anchored" data-anchor-id="generic-creation">Generic Creation</h4>
<p>The <code>mat</code>, <code>rows-&gt;mat</code>, and <code>cols-&gt;mat</code> functions provide convenient constructors that automatically choose the fixed-size type for 2x2, 3x3, or 4x4 inputs, or default to <code>RealMatrix</code> for others.</p>
<div class="grid">
<div class="g-col-4">
<p><strong>Matrices from values</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb101"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>(mat/mat <span class="dv">1</span> <span class="dv">2</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>         <span class="dv">3</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb102"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb103"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>(mat/mat <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>         <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>         <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb104"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">7.0</span>, <span class="fl">8.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb105"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>(mat/mat <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>         <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>         <span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>         <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb106"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb107"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>(mat/mat [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>          [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb108"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x69de77e2</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0,4.0},{5.0,6.0,7.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Matrices from rows</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb109"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat [<span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb110"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb111"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb112"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">7.0</span>, <span class="fl">8.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb113"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb114"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb115"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>(mat/rows-&gt;mat [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>                [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb116"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x2b45d24f</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0,4.0},{5.0,6.0,7.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Matrices from columns</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb117"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat [<span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb118"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">5.0</span>]</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb119"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>]</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb120"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">4.0</span>, <span class="fl">7.0</span>]</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">5.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">6.0</span>, <span class="fl">9.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb121"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span>]</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb122"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">5.0</span>, <span class="fl">9.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.0</span>, <span class="fl">6.0</span>, <span class="fl">0.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">7.0</span>, <span class="fl">1.0</span>, <span class="fl">5.0</span>]</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">8.0</span>, <span class="fl">2.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="sourceClojure">
<div class="sourceCode" id="cb123"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>(mat/cols-&gt;mat [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>]</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>                [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb124"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x6a452b68</span> <span class="st">"Array2DRowRealMatrix{{1.0,5.0},{2.0,6.0},{3.0,7.0},{4.0,8.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="conversion-tofrom-arrays-and-sequences" class="level4">
<h4 class="anchored" data-anchor-id="conversion-tofrom-arrays-and-sequences">Conversion to/from Arrays and Sequences</h4>
<p>Functions like <code>array2d-&gt;mat2x2</code>, <code>mat-&gt;seq</code>, <code>mat-&gt;array2d</code>, etc., facilitate conversions between <code>fastmath.matrix</code> types and primitive arrays or Clojure sequences.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb125"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> dda </span>(m/seq-&gt;double-double-array [[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>] [<span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>] [<span class="dv">9</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span>] [<span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>]]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb126"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>dda</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb127"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>[[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>], [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>], [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>], [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="grid">
<div class="g-col-6">
<div class="sourceClojure">
<div class="sourceCode" id="cb128"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>(mat/array2d-&gt;mat2x2 dda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb129"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<div class="sourceClojure">
<div class="sourceCode" id="cb130"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>(mat/array2d-&gt;mat3x3 dda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb131"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>]</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<div class="sourceClojure">
<div class="sourceCode" id="cb132"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>(mat/array2d-&gt;mat4x4 dda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb133"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.0</span>, <span class="fl">7.0</span>, <span class="fl">8.0</span>]</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<div class="sourceClojure">
<div class="sourceCode" id="cb134"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>(mat/array2d-&gt;RealMatrix dda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb135"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x514ca0b4</span> <span class="st">"Array2DRowRealMatrix{{1.0,2.0,3.0,4.0},{5.0,6.0,7.0,8.0},{9.0,0.0,1.0,2.0},{3.0,4.0,5.0,6.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb136"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;seq M3x3) <span class="co">;; =&gt; (1.0 2.0 3.0 -4.0 5.0 6.0 9.0 -8.0 7.0)</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;array M2x2) <span class="co">;; =&gt; #object["[D" 0x4ad62875 "[D@4ad62875"]</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;array2d M2x2) <span class="co">;; =&gt; #object["[[D" 0x1c62f8ab "[[D@1c62f8ab"]</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;RealMatrix M2x2) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.Array2DRowRealMatrix 0x23cfa102 "Array2DRowRealMatrix{{1.0,2.0},{3.0,4.0}}"]</span></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;float-array M2x2) <span class="co">;; =&gt; #object["[F" 0x47862366 "[F@47862366"]</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>(mat/mat-&gt;float-array2d M2x2) <span class="co">;; =&gt; #object["[[F" 0x37c42ef5 "[[F@37c42ef5"]</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> (mat/mat-&gt;array M2x2)) <span class="co">;; =&gt; (1.0 2.0 3.0 4.0)</span></span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>(m/double-double-array-&gt;seq (mat/mat-&gt;array2d M2x2)) <span class="co">;; =&gt; ((1.0 2.0) (3.0 4.0))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="special-matrices" class="level4">
<h4 class="anchored" data-anchor-id="special-matrices">Special Matrices</h4>
<ul>
<li><code>eye</code> creates an identity matrix. When argument is between 2 and 4, creates fixed size types unless <code>real-matrix</code> is set to <code>true</code>.</li>
<li><code>zero</code> creates a zero matrix. When argument is between 2 and 4, creates fixed size types unless <code>real-matrix</code> is set to <code>true</code>.</li>
<li><code>diagonal</code> creates a diagonal matrix from a vector or sequence of values.</li>
</ul>
<div class="grid">
<div class="g-col-4">
<p><strong>Identity matrix</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb137"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>(mat/eye <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb138"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb139"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>(mat/eye <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb140"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb141"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>(mat/eye <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb142"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb143"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>(mat/eye <span class="dv">2</span> <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb144"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x33512a4e</span> <span class="st">"Array2DRowRealMatrix{{1.0,0.0},{0.0,1.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Zero</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb145"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb146"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb147"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb148"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb149"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb150"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb151"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">2</span> <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb152"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x3af6b6bd</span> <span class="st">"Array2DRowRealMatrix{{0.0,0.0},{0.0,0.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb153"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">2</span> <span class="dv">2</span> <span class="va">false</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb154"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb155"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>(mat/zero <span class="dv">2</span> <span class="dv">2</span> <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb156"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x72a0e33b</span> <span class="st">"Array2DRowRealMatrix{{0.0,0.0},{0.0,0.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<p><strong>Diagonal</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb157"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>(mat/diagonal <span class="dv">1</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb158"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb159"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>(mat/diagonal <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb160"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb161"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>(mat/diagonal <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb162"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">3.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb163"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>(mat/diagonal [<span class="dv">1</span> <span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb164"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x5057360e</span> <span class="st">"Array2DRowRealMatrix{{1.0,0.0},{0.0,2.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="interoperability-1" class="level3">
<h3 class="anchored" data-anchor-id="interoperability-1">Interoperability</h3>
<p>Like vectors, the <code>fastmath.matrix</code> types (<code>Mat2x2</code>, <code>Mat3x3</code>, <code>Mat4x4</code>) implement several standard Clojure and Java interfaces. This allows them to be treated as collections of numbers, integrating smoothly with built-in Clojure functions and providing familiar access patterns. This interoperability complements the type-specific and protocol-based operations defined in <code>fastmath.matrix</code>.</p>
<ul>
<li><code>java.lang.Object</code>: Standard Java methods like <code>equals</code>, <code>hashCode</code>, and <code>toString</code>.</li>
<li><code>clojure.lang.IHashEq</code>: Provides <code>hasheq</code> for efficient hashing, enabling use as keys in hash maps or elements in sets.</li>
<li><code>clojure.lang.Seqable</code>: Enables treating the matrix elements (in row-major order) as a sequence for functions like <code>seq</code>, <code>map</code>, <code>filter</code>, etc.</li>
<li><code>clojure.lang.Reversible</code>: Allows reversing the sequence of elements with <code>rseq</code>.</li>
<li><code>clojure.lang.Counted</code>: Provides the <code>count</code> function to get the total number of elements (<code>rows * cols</code>).</li>
<li><code>clojure.lang.ILookup</code>: Enables lookup of elements by linear index using <code>get</code> or function call syntax <code>(m index)</code>. Also supports lookup by a <code>[row col]</code> tuple.</li>
<li><code>clojure.lang.IFn</code>: Allows the matrix itself to be invoked as a function to retrieve elements by <code>[row col]</code> tuple <code>(m [row col])</code> or two arguments <code>(m row col)</code>.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>Seqable</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb165"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> M2x2) <span class="co">;; =&gt; (1.0 2.0 3.0 4.0)</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> M3x3) <span class="co">;; =&gt; (1.0 2.0 3.0 -4.0 5.0 6.0 9.0 -8.0 7.0)</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">seq</span> M4x4) <span class="co">;; =&gt; (1.0 2.0 3.0 4.0 5.0 6.0 7.0 8.0 9.0 10.0 11.0 12.0 13.0 14.0 15.0 16.0)</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">map</span> <span class="kw">inc</span> M4x4) <span class="co">;; =&gt; (2.0 3.0 4.0 5.0 6.0 7.0 8.0 9.0 10.0 11.0 12.0 13.0 14.0 15.0 16.0 17.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Reversible</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb166"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> M2x2) <span class="co">;; =&gt; (4.0 3.0 2.0 1.0)</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> M3x3) <span class="co">;; =&gt; (7.0 -8.0 9.0 6.0 5.0 -4.0 3.0 2.0 1.0)</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">rseq</span> M4x4) <span class="co">;; =&gt; (16.0 15.0 14.0 13.0 12.0 11.0 10.0 9.0 8.0 7.0 6.0 5.0 4.0 3.0 2.0 1.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Counted</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb167"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> M2x2) <span class="co">;; =&gt; 4</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> M3x3) <span class="co">;; =&gt; 9</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">count</span> M4x4) <span class="co">;; =&gt; 16</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>ILookup</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb168"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> M4x4 [<span class="dv">0</span> <span class="dv">0</span>]) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> M4x4 [<span class="dv">3</span> <span class="dv">3</span>]) <span class="co">;; =&gt; 16.0</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> M4x4 [<span class="dv">5</span> <span class="dv">5</span>]) <span class="co">;; =&gt; nil</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IFn</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb169"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>(M2x2 [<span class="dv">0</span> <span class="dv">0</span>]) <span class="co">;; =&gt; 1.0</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>(M3x3 [<span class="dv">1</span> <span class="dv">2</span>]) <span class="co">;; =&gt; 6.0</span></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>(M4x4 [<span class="dv">3</span> <span class="dv">3</span>]) <span class="co">;; =&gt; 16.0</span></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">try</span> (M4x4 [<span class="dv">5</span> <span class="dv">5</span>]) (<span class="kw">catch</span> Exception <span class="kw">e</span> (.getMessage <span class="kw">e</span>))) <span class="co">;; =&gt; "Index [5 5] out of bounds for mat4x4"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>IHashEq</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb170"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>(.hashCode M3x3) <span class="co">;; =&gt; -1942507899</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">hash</span> M3x3) <span class="co">;; =&gt; -1942507899</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>Object</code></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb171"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">str</span> M2x2) <span class="co">;; =&gt; "#mat2x2 [[1.0, 2.0]\n         [3.0, 4.0]]"</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>(.equals M2x2 (mat/mat2x2 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>)) <span class="co">;; =&gt; true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="accessing-elements-and-properties" class="level3">
<h3 class="anchored" data-anchor-id="accessing-elements-and-properties">Accessing Elements and Properties</h3>
<p>Functions to retrieve matrix elements, rows, or columns, and to query matrix properties like size, shape, symmetry, determinant, and trace.</p>
<section id="element-row-and-column-access" class="level4">
<h4 class="anchored" data-anchor-id="element-row-and-column-access">Element, Row, and Column Access</h4>
<p>Functions to retrieve individual matrix elements or extract entire rows or columns as vectors. These are fundamental for inspecting and manipulating matrix data.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>entry</code>, <code>row</code>, <code>col</code></li>
<li><code>cols</code>, <code>rows</code></li>
</ul>
</div>
</div>
<ul>
<li><strong><code>entry</code></strong>: Retrieves the element at a specific <code>[row col]</code> index.</li>
<li><strong><code>row</code></strong>: Extracts a specified row as a vector.</li>
<li><strong><code>col</code></strong>: Extracts a specified column as a vector.</li>
<li><strong><code>rows</code></strong>: Returns sequence of rows</li>
<li><strong><code>cols</code></strong>: Returns sequence of columns</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb172"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>(mat/entry M3x3 <span class="dv">0</span> <span class="dv">2</span>) <span class="co">;; =&gt; 3.0</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>(mat/row M4x4 <span class="dv">2</span>) <span class="co">;; =&gt; #vec4 [9.0, 10.0, 11.0, 12.0]</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>(mat/col RealMat <span class="dv">1</span>) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x16f2673c "{2; 5}"]</span></span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>(mat/rows M2x2) <span class="co">;; =&gt; [#vec2 [1.0, 2.0] #vec2 [3.0, 4.0]]</span></span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>(mat/cols RealMat) <span class="co">;; =&gt; (#object[org.apache.commons.math3.linear.ArrayRealVector 0x16528fa0 "{1; 4}"] #object[org.apache.commons.math3.linear.ArrayRealVector 0x476ee51c "{2; 5}"] #object[org.apache.commons.math3.linear.ArrayRealVector 0x11b8531c "{3; 6}"])</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="size-and-shape" class="level4">
<h4 class="anchored" data-anchor-id="size-and-shape">Size and Shape</h4>
<p><code>nrow</code>, <code>ncol</code>, and <code>shape</code> provide the dimensions of the matrix.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>nrow</code>, <code>ncol</code>, <code>shape</code></li>
</ul>
</div>
</div>
<ul>
<li><strong><code>nrow</code></strong>: Returns the number of rows in the matrix.</li>
<li><strong><code>ncol</code></strong>: Returns the number of columns in the matrix.</li>
<li><strong><code>shape</code></strong>: Returns a vector or list containing the number of rows and columns, respectively, as a <code>[rows, cols]</code> pair.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb173"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>(mat/nrow M2x2) <span class="co">;; =&gt; 2</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>(mat/ncol M3x3) <span class="co">;; =&gt; 3</span></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>(mat/shape M2x2) <span class="co">;; =&gt; [2 2]</span></span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>(mat/shape M3x3) <span class="co">;; =&gt; [3 3]</span></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>(mat/shape M4x4) <span class="co">;; =&gt; [4 4]</span></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>(mat/shape RealMat) <span class="co">;; =&gt; [2 3]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="properties" class="level4">
<h4 class="anchored" data-anchor-id="properties">Properties</h4>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>symmetric?</code></li>
<li><code>diag</code></li>
<li><code>det</code></li>
<li><code>singular?</code></li>
<li><code>trace</code></li>
</ul>
</div>
</div>
<ul>
<li><strong>Symmetry</strong>:
<ul>
<li><code>symmetric?</code>: Checks if the matrix <code>A</code> is symmetric, meaning <span class="math inline">\(A = A^T\)</span>. For a square matrix <span class="math inline">\(A\)</span>, this holds if <span class="math inline">\(a_{ij} = a_{ji}\)</span> for all indices <span class="math inline">\(i, j\)</span>. Can optionally take a tolerance parameter for approximate symmetry checks with floating-point numbers.</li>
</ul></li>
<li><strong>Diagonal</strong>:
<ul>
<li><code>diag</code>: Returns the main diagonal elements of a square matrix as a vector. For a matrix <span class="math inline">\(A\)</span>, the diagonal vector is <span class="math inline">\([a_{11}, a_{22}, \dots, a_{nn}]\)</span>.</li>
</ul></li>
<li><strong>Determinant</strong>:
<ul>
<li><code>det</code>: Computes the determinant of a square matrix <span class="math inline">\(A\)</span>, denoted as <span class="math inline">\(|A|\)</span> or <span class="math inline">\(\det(A)\)</span>. The determinant is a scalar value that provides information about the matrixâ€™s properties, such as invertibility.</li>
</ul></li>
<li><strong>Singularity</strong>:
<ul>
<li><code>singular?</code>: Checks if a square matrix <span class="math inline">\(A\)</span> is singular (non-invertible). A matrix is singular if and only if its determinant is zero, i.e., <span class="math inline">\(\det(A) = 0\)</span>.</li>
</ul></li>
<li><strong>Trace</strong>:
<ul>
<li><code>trace</code>: Computes the trace of a square matrix <span class="math inline">\(A\)</span>, which is the sum of the elements on the main diagonal: <span class="math inline">\(\operatorname{tr}(A) = \sum_{i=1}^n a_{ii}\)</span>. The trace is invariant under cyclic permutations and similarity transformations.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb174"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>(mat/symmetric? M2x2) <span class="co">;; =&gt; false</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>(mat/symmetric? (mat/eye <span class="dv">2</span>)) <span class="co">;; =&gt; true</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>(mat/symmetric? (mat/mat2x2 <span class="dv">1</span> <span class="fl">0.1</span> <span class="fl">0.001</span> <span class="dv">1</span>)) <span class="co">;; =&gt; false</span></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>(mat/symmetric? (mat/mat2x2 <span class="dv">1</span> <span class="fl">0.1</span> <span class="fl">0.001</span> <span class="dv">1</span>) <span class="fl">0.1</span>) <span class="co">;; =&gt; true</span></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>(mat/diag M2x2) <span class="co">;; =&gt; #vec2 [1.0, 4.0]</span></span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>(mat/diag M3x3) <span class="co">;; =&gt; #vec3 [1.0, 5.0, 7.0]</span></span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a>(mat/diag M4x4) <span class="co">;; =&gt; #vec4 [1.0, 6.0, 11.0, 16.0]</span></span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a>(mat/trace M2x2) <span class="co">;; =&gt; 5.0</span></span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a>(mat/trace M3x3) <span class="co">;; =&gt; 13.0</span></span>
<span id="cb174-10"><a href="#cb174-10" aria-hidden="true" tabindex="-1"></a>(mat/trace M4x4) <span class="co">;; =&gt; 34.0</span></span>
<span id="cb174-11"><a href="#cb174-11" aria-hidden="true" tabindex="-1"></a>(mat/det M2x2) <span class="co">;; =&gt; -2.0</span></span>
<span id="cb174-12"><a href="#cb174-12" aria-hidden="true" tabindex="-1"></a>(mat/det M3x3) <span class="co">;; =&gt; 208.0</span></span>
<span id="cb174-13"><a href="#cb174-13" aria-hidden="true" tabindex="-1"></a>(mat/det M4x4) <span class="co">;; =&gt; 0.0</span></span>
<span id="cb174-14"><a href="#cb174-14" aria-hidden="true" tabindex="-1"></a>(mat/singular? M2x2) <span class="co">;; =&gt; false</span></span>
<span id="cb174-15"><a href="#cb174-15" aria-hidden="true" tabindex="-1"></a>(mat/singular? M3x3) <span class="co">;; =&gt; false</span></span>
<span id="cb174-16"><a href="#cb174-16" aria-hidden="true" tabindex="-1"></a>(mat/singular? M4x4) <span class="co">;; =&gt; true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="matrix-arithmetic-and-operations" class="level3">
<h3 class="anchored" data-anchor-id="matrix-arithmetic-and-operations">Matrix Arithmetic and Operations</h3>
<p>Standard matrix addition, subtraction, and multiplication, as well as element-wise operations.</p>
<section id="basic-arithmetic" class="level4">
<h4 class="anchored" data-anchor-id="basic-arithmetic">Basic Arithmetic</h4>
<p>Functions for basic matrix arithmetic operations like addition and subtraction, including scalar operations.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>add</code>, <code>adds</code></li>
<li><code>sub</code>, <code>negate</code></li>
</ul>
</div>
</div>
<ul>
<li><strong>Addition</strong>:
<ul>
<li><code>add</code>: Computes the sum of two matrices <span class="math inline">\(\mathbf{C} = \mathbf{A} + \mathbf{B}\)</span>. This is an element-wise operation where <span class="math inline">\(c_{ij} = a_{ij} + b_{ij}\)</span>. Both matrices must have the same dimensions. The function also handles summing a collection of matrices: <span class="math inline">\(\sum \mathbf{A}_k\)</span>.</li>
<li><code>adds</code>: Adds a scalar value <span class="math inline">\(s\)</span> to each element of a matrix <span class="math inline">\(\mathbf{A}\)</span>. <span class="math inline">\(\mathbf{C} = \mathbf{A} + s\)</span>, where <span class="math inline">\(c_{ij} = a_{ij} + s\)</span>.</li>
</ul></li>
<li><strong>Subtraction</strong>:
<ul>
<li><code>sub</code>: Computes the difference between two matrices <span class="math inline">\(\mathbf{C} = \mathbf{A} - \mathbf{B}\)</span>, where <span class="math inline">\(c_{ij} = a_{ij} - b_{ij}\)</span>. Both matrices must have the same dimensions. When called with a single matrix <code>A</code>, it performs negation.</li>
<li><code>negate</code>: Computes the negation of a matrix <span class="math inline">\(\mathbf{C} = -\mathbf{A}\)</span>, where <span class="math inline">\(c_{ij} = -a_{ij}\)</span>. This is equivalent to <code>sub</code> with one argument.</li>
</ul></li>
</ul>
<p>For addition and subtraction of two matrices, they must have the same number of rows and columns.</p>
<div class="grid">
<div class="g-col-6">
<p><strong>Addition</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb175"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>(mat/add M2x2 M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb176"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">2.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.0</span>, <span class="fl">8.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Subtraction</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb177"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>(mat/sub M2x2 (mat/eye <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb178"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">0.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">3.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Scalar addition</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb179"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>(mat/adds M2x2 <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb180"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">101.0</span>, <span class="fl">102.0</span>]</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">103.0</span>, <span class="fl">104.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Negation</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb181"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>(mat/negate M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb182"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[-<span class="fl">1.0</span>, -<span class="fl">2.0</span>]</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">3.0</span>, -<span class="fl">4.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="matrix-multiplication" class="level4">
<h4 class="anchored" data-anchor-id="matrix-multiplication">Matrix Multiplication</h4>
<p>This section covers functions for performing matrix multiplication and related products, including standard matrix-matrix multiplication, element-wise products, and matrix-vector multiplication. These operations are fundamental in linear algebra and are used extensively in transformations, solving linear systems, and many data science tasks.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>mulm</code>, <code>mulmt</code>, <code>tmulm</code>, <code>tmulmt</code></li>
<li><code>emulm</code></li>
<li><code>muls</code></li>
<li><code>mulv</code>, <code>vtmul</code></li>
<li><code>outer</code>, <code>kronecker</code></li>
</ul>
</div>
</div>
<ul>
<li><strong>Standard Matrix Multiplication</strong>:
<ul>
<li><code>mulm</code>: Computes the matrix product <span class="math inline">\(\mathbf{C} = \mathbf{A} \mathbf{B}\)</span>. The number of columns in <span class="math inline">\(\mathbf{A}\)</span> must equal the number of rows in <span class="math inline">\(\mathbf{B}\)</span>. Can optionally perform multiplication involving transposed matrices: <span class="math inline">\(\mathbf{A}^T \mathbf{B}\)</span>, <span class="math inline">\(\mathbf{A} \mathbf{B}^T\)</span>, or <span class="math inline">\(\mathbf{A}^T \mathbf{B}^T\)</span>.</li>
<li><code>mulmt</code>: Computes the matrix product <span class="math inline">\(\mathbf{C} = \mathbf{A} \mathbf{B}^T\)</span>.</li>
<li><code>tmulm</code>: Computes the matrix product <span class="math inline">\(\mathbf{C} = \mathbf{A}^T \mathbf{B}\)</span>.</li>
<li><code>tmulmt</code>: Computes the matrix product <span class="math inline">\(\mathbf{C} = \mathbf{A}^T \mathbf{B}^T\)</span>.</li>
</ul></li>
<li><strong>Element-wise and Scalar Multiplication</strong>:
<ul>
<li><code>emulm</code>: Computes the element-wise product (Hadamard product) <span class="math inline">\(\mathbf{C} = \mathbf{A} \odot \mathbf{B}\)</span>, where <span class="math inline">\(c_{ij} = a_{ij} \cdot b_{ij}\)</span>. Requires input matrices to have the same dimensions.</li>
<li><code>muls</code>: Multiplies every element of matrix <span class="math inline">\(\mathbf{A}\)</span> by a scalar <span class="math inline">\(s\)</span>: <span class="math inline">\(\mathbf{C} = s \mathbf{A}\)</span>, where <span class="math inline">\(c_{ij} = s \cdot a_{ij}\)</span>. This is also covered in basic operations but is relevant here.</li>
</ul></li>
<li><strong>Matrix-Vector Multiplication</strong>:
<ul>
<li><code>mulv</code>: Multiplies a matrix <span class="math inline">\(\mathbf{A}\)</span> by a column vector <span class="math inline">\(\mathbf{v}\)</span>: <span class="math inline">\(\mathbf{x} = \mathbf{A} \mathbf{v}\)</span>. The number of columns in <span class="math inline">\(\mathbf{A}\)</span> must equal the dimension of <span class="math inline">\(\mathbf{v}\)</span>. Returns a vector.</li>
<li><code>vtmul</code>: Multiplies a row vector <span class="math inline">\(\mathbf{v}^T\)</span> by a matrix <span class="math inline">\(\mathbf{A}\)</span>: <span class="math inline">\(\mathbf{x}^T = \mathbf{v}^T \mathbf{A}\)</span>. The dimension of <span class="math inline">\(\mathbf{v}\)</span> must equal the number of rows in <span class="math inline">\(\mathbf{A}\)</span>. Returns a vector.</li>
</ul></li>
<li><strong>Special Products</strong>:
<ul>
<li><code>outer</code>: Computes the outer product of two vectors <span class="math inline">\(\mathbf{u}\)</span> and <span class="math inline">\(\mathbf{v}\)</span>. Returns a matrix <span class="math inline">\(\mathbf{M} = \mathbf{u} \mathbf{v}^T\)</span>, where <span class="math inline">\(m_{ij} = u_i v_j\)</span>.</li>
<li><code>kronecker</code>: Computes the Kronecker product of two matrices <span class="math inline">\(\mathbf{A}\)</span> and <span class="math inline">\(\mathbf{B}\)</span>, denoted <span class="math inline">\(\mathbf{A} \otimes \mathbf{B}\)</span>. If <span class="math inline">\(\mathbf{A}\)</span> is <span class="math inline">\(m \times n\)</span> and <span class="math inline">\(\mathbf{B}\)</span> is <span class="math inline">\(p \times q\)</span>, the result is an <span class="math inline">\(mp \times nq\)</span> block matrix: <span class="math display">\[
  \mathbf{A} \otimes \mathbf{B} = \begin{bmatrix}
  a_{11}\mathbf{B} &amp; \dots &amp; a_{1n}\mathbf{B} \\
  \vdots &amp; \ddots &amp; \vdots \\
  a_{m1}\mathbf{B} &amp; \dots &amp; a_{mn}\mathbf{B}
  \end{bmatrix}
  \]</span></li>
</ul></li>
</ul>
<hr>
<div class="grid">
<div class="g-col-6">
<p><span class="math inline">\(\mathbf{C} = \mathbf{A} \mathbf{B}\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb183"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>(mat/mulm M2x2 M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb184"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">7.0</span>, <span class="fl">10.0</span>]</span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">15.0</span>, <span class="fl">22.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb185"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>(mat/mulm M2x2 <span class="va">false</span> M2x2 <span class="va">false</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb186"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">7.0</span>, <span class="fl">10.0</span>]</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">15.0</span>, <span class="fl">22.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><span class="math inline">\(\mathbf{C} = \mathbf{A} \mathbf{B}^T\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb187"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>(mat/mulmt M2x2 M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb188"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">5.0</span>, <span class="fl">11.0</span>]</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">11.0</span>, <span class="fl">25.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb189"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>(mat/mulm M2x2 <span class="va">false</span> M2x2 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb190"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">5.0</span>, <span class="fl">11.0</span>]</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">11.0</span>, <span class="fl">25.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><span class="math inline">\(\mathbf{C} = \mathbf{A}^T \mathbf{B}\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb191"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>(mat/tmulm M2x2 M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb192"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">10.0</span>, <span class="fl">14.0</span>]</span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">14.0</span>, <span class="fl">20.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb193"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>(mat/mulm M2x2 <span class="va">true</span> M2x2 <span class="va">false</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb194"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">10.0</span>, <span class="fl">14.0</span>]</span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">14.0</span>, <span class="fl">20.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><span class="math inline">\(\mathbf{C} = \mathbf{A}^T \mathbf{B}^T\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb195"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>(mat/tmulmt M2x2 M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb196"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">7.0</span>, <span class="fl">15.0</span>]</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">10.0</span>, <span class="fl">22.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb197"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>(mat/mulm M2x2 <span class="va">true</span> M2x2 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb198"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">7.0</span>, <span class="fl">15.0</span>]</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">10.0</span>, <span class="fl">22.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<hr>
<div class="grid">
<div class="g-col-6">
<p><strong>Element-wise multiplication</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb199"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>(mat/emulm M3x3 M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb200"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">4.0</span>, <span class="fl">9.0</span>]</span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">16.0</span>, <span class="fl">25.0</span>, <span class="fl">36.0</span>]</span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">81.0</span>, <span class="fl">64.0</span>, <span class="fl">49.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Outer product</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb201"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>(mat/outer (v/vec2 <span class="dv">1</span> <span class="dv">2</span>) (v/vec2 <span class="dv">3</span> <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb202"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">3.0</span>, <span class="fl">4.0</span>]</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.0</span>, <span class="fl">8.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<p><strong>Scalar multiplication</strong></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb203"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>(mat/muls M3x3 <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb204"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.5</span>, <span class="fl">1.0</span>, <span class="fl">1.5</span>]</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">2.0</span>, <span class="fl">2.5</span>, <span class="fl">3.0</span>]</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.5</span>, -<span class="fl">4.0</span>, <span class="fl">3.5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-6">
<div class="sourceClojure">
<div class="sourceCode" id="cb205"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>(mat/outer (v/vec4 -<span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>) (v/vec4 <span class="dv">3</span> <span class="dv">4</span> -<span class="dv">2</span> -<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb206"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[-<span class="fl">3.0</span>, -<span class="fl">4.0</span>, <span class="fl">2.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.0</span>, <span class="fl">4.0</span>, -<span class="fl">2.0</span>, -<span class="fl">2.0</span>]</span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.0</span>, <span class="fl">8.0</span>, -<span class="fl">4.0</span>, -<span class="fl">4.0</span>]</span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, <span class="fl">12.0</span>, -<span class="fl">6.0</span>, -<span class="fl">6.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb207"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>(mat/mulv M2x2 (v/vec2 <span class="dv">10</span> <span class="dv">20</span>)) <span class="co">;; =&gt; #vec2 [50.0, 110.0]</span></span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>(mat/mulv RealMat (v/vec-&gt;RealVector (v/vec3 <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>))) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0xc7c6695 "{14; 32}"]</span></span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>(mat/vtmul M2x2 (v/vec2 <span class="dv">10</span> <span class="dv">20</span>)) <span class="co">;; =&gt; #vec2 [70.0, 100.0]</span></span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a>(mat/vtmul RealMat (v/vec-&gt;RealVector [<span class="dv">1</span> <span class="dv">2</span>])) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.ArrayRealVector 0x6c7514fb "{9; 12; 15}"]</span></span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a>(mat/outer (v/vec2 <span class="dv">1</span> <span class="dv">2</span>) [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">9</span>]) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.Array2DRowRealMatrix 0x7a6b7e60 "Array2DRowRealMatrix{{1.0,2.0,3.0,9.0},{2.0,4.0,6.0,18.0}}"]</span></span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a>(mat/outer [<span class="dv">2</span> <span class="dv">3</span>] [<span class="dv">9</span> <span class="dv">1</span> <span class="dv">2</span>]) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.Array2DRowRealMatrix 0x722ca90 "Array2DRowRealMatrix{{18.0,2.0,4.0},{27.0,3.0,6.0}}"]</span></span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>(mat/kronecker M2x2 M3x3) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.Array2DRowRealMatrix 0x68055c2f "Array2DRowRealMatrix{{1.0,2.0,3.0,2.0,4.0,6.0},{-4.0,5.0,6.0,-8.0,10.0,12.0},{9.0,-8.0,7.0,18.0,-16.0,14.0},{3.0,6.0,9.0,4.0,8.0,12.0},{-12.0,15.0,18.0,-16.0,20.0,24.0},{27.0,-24.0,21.0,36.0,-32.0,28.0}}"]</span></span>
<span id="cb207-8"><a href="#cb207-8" aria-hidden="true" tabindex="-1"></a>(mat/kronecker RealMat M2x2) <span class="co">;; =&gt; #object[org.apache.commons.math3.linear.Array2DRowRealMatrix 0x2c935f18 "Array2DRowRealMatrix{{1.0,2.0,2.0,4.0,3.0,6.0},{3.0,4.0,6.0,8.0,9.0,12.0},{4.0,8.0,5.0,10.0,6.0,12.0},{12.0,16.0,15.0,20.0,18.0,24.0}}"]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="element-wise-operations" class="level4">
<h4 class="anchored" data-anchor-id="element-wise-operations">Element-wise Operations</h4>
<p>A wide range of element-wise mathematical functions (e.g., <code>sin</code>, <code>cos</code>, <code>pow</code>) are provided, mirroring those in <code>fastmath.vector</code>.</p>
<p><code>fmap</code> applies a function to each element of the vector, returning a new vector of the same type.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>sin</code>, <code>cos</code>, <code>tan</code>, <code>asin</code>, <code>acos</code>, <code>atan</code></li>
<li><code>sinh</code>, <code>cosh</code>, <code>tanh</code>, <code>asinh</code>, <code>acosh</code>, <code>atanh</code></li>
<li><code>cot</code>, <code>sec</code>, <code>csc</code>, <code>acot</code>, <code>asec</code>, <code>acsc</code></li>
<li><code>coth</code>, <code>sech</code>, <code>csch</code>, <code>acoth</code>, <code>asech</code>, <code>acsch</code></li>
<li><code>sq</code>, <code>cb</code>, <code>safe-sqrt</code>, <code>sqrt</code>, <code>cbrt</code>, <code>pow</code></li>
<li><code>exp</code>, <code>log</code>, <code>log10</code>, <code>log2</code>, <code>ln</code>, <code>log1p</code>, <code>expm1</code></li>
<li><code>log1pexp</code>, <code>log1mexp</code>, <code>log1psq</code>, <code>log1pmx</code>, <code>logmxp1</code>, <code>logexpm1</code></li>
<li><code>radians</code>, <code>degrees</code>, <code>sinc</code>, <code>sigmoid</code>, <code>logit</code>, <code>xlogx</code></li>
<li><code>floor</code>, <code>ceil</code>, <code>round</code>, <code>rint</code>, <code>trunc</code>, <code>frac</code>, <code>sfrac</code>, <code>signum</code>, <code>sgn</code></li>
<li><code>fmap</code></li>
</ul>
</div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb208"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>(mat/sin M4x4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb209"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">0.8414709848078964</span>, <span class="fl">0.9092974268256818</span>, <span class="fl">0.1411200080598671</span>, -<span class="fl">0.756802495307928</span>]</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.9589242746631386</span>, -<span class="fl">0.2794154981989256</span>, <span class="fl">0.6569865987187891</span>, <span class="fl">0.9893582466233817</span>]</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.4121184852417563</span>, -<span class="fl">0.5440211108893697</span>, -<span class="fl">0.9999902065507035</span>, -<span class="fl">0.5365729180004354</span>]</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.4201670368266409</span>, <span class="fl">0.9906073556948704</span>, <span class="fl">0.6502878401571169</span>, -<span class="fl">0.2879033166650652</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb210"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>(mat/pow M2x2 <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb211"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">1.0</span>, <span class="fl">1.4142135623730951</span>]</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.7320508075688772</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb212"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>(mat/fmap M2x2 m/inc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb213"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">4.0</span>, <span class="fl">5.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="rows-and-columns-operations" class="level4">
<h4 class="anchored" data-anchor-id="rows-and-columns-operations">Rows and Columns Operations</h4>
<p>Functions for transforming matrices, often used in data analysis or preparation, including normalization, centering, and scaling along rows or columns.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>map-cols</code>, <code>map-rows</code></li>
<li><code>shift-rows</code>, <code>shift-cols</code></li>
<li><code>scale-rows</code>, <code>scale-cols</code></li>
<li><code>normalize</code>, <code>demean</code>, <code>standardize</code></li>
</ul>
</div>
</div>
<p>These functions provide tools to apply transformations to the rows or columns of a matrix. This is particularly useful for data preprocessing steps such as scaling features, centering data, or applying custom functions to individual dimensions (columns) or samples (rows) of a dataset represented as a matrix. The transformations can be applied element-wise, or based on properties of the rows/columns themselves (like mean or standard deviation).</p>
<ul>
<li><strong>Row/Column Mapping</strong>:
<ul>
<li><code>map-cols</code>: Applies a function <code>f</code> to each column vector of the matrix. The function <code>f</code> should take a vector as input and return a vector of the same dimension. The resulting vectors are assembled into a new matrix where each column is the result of applying <code>f</code> to the original columns.</li>
<li><code>map-rows</code>: Similar to <code>map-cols</code>, but applies the function <code>f</code> to each row vector of the matrix. The function <code>f</code> takes a row vector and should return a vector of the same dimension. The results are assembled into a new matrix where each row is the result of applying <code>f</code> to the original rows.</li>
</ul></li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb214"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>(mat/map-rows (<span class="kw">fn</span> [row] (<span class="kw">conj</span> (<span class="kw">map</span> (<span class="kw">fn</span> [[a b]] (<span class="kw">-</span> b a)) (<span class="kw">partition</span> <span class="dv">2</span> <span class="dv">1</span> row)) (<span class="kw">first</span> row))) M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb215"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">1.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">4.0</span>, <span class="fl">9.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">9.0</span>, -<span class="fl">17.0</span>, <span class="fl">15.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb216"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>(mat/map-cols (<span class="kw">fn</span> [col] (v/shift col (<span class="kw">-</span> (stats/median col)))) M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb217"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>, -<span class="fl">3.0</span>]</span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">5.0</span>, <span class="fl">3.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">8.0</span>, -<span class="fl">10.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Shifting</strong>:
<ul>
<li><code>shift-rows</code>: Adds a value to each element of each row. The value can be a single number applied to all rows, or the result of a function applied to each row vector (e.g., subtracting the mean of the row). Default function subtracts the mean of each row. For a row <span class="math inline">\(\mathbf{r}\)</span>, the transformation is <span class="math inline">\(\mathbf{r}' = \mathbf{r} + s\)</span>, where <span class="math inline">\(s\)</span> is the shift value for that row.</li>
<li><code>shift-cols</code>: Adds a value to each element of each column. The value can be a single number applied to all columns, or the result of a function applied to each column vector (e.g., subtracting the mean of the column). Default function subtracts the mean of each column. For a column <span class="math inline">\(\mathbf{c}\)</span>, the transformation is <span class="math inline">\(\mathbf{c}' = \mathbf{c} + s\)</span>.</li>
</ul></li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb218"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>(mat/shift-rows M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb219"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">6.333333333333334</span>, <span class="fl">2.6666666666666665</span>, <span class="fl">3.6666666666666665</span>]</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.333333333333334</span>, -<span class="fl">10.666666666666666</span>, <span class="fl">4.333333333333334</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb220"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>(mat/shift-rows M3x3 <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb221"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">101.0</span>, <span class="fl">102.0</span>, <span class="fl">103.0</span>]</span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">96.0</span>, <span class="fl">105.0</span>, <span class="fl">106.0</span>]</span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">109.0</span>, <span class="fl">92.0</span>, <span class="fl">107.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb222"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>(mat/shift-cols RealMat (<span class="kw">comp</span> m/- v/sum))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb223"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x4bf71032</span> <span class="st">"Array2DRowRealMatrix{{6.0,9.0},{9.0,12.0},{12.0,15.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Scaling</strong>:
<ul>
<li><code>scale-rows</code>: Multiplies each element of each row by a value. The value can be a single number applied to all rows, or the result of a function applied to each row vector (e.g., dividing by the standard deviation of the row). For a row <span class="math inline">\(\mathbf{r}\)</span>, the transformation is <span class="math inline">\(\mathbf{r}' = s \cdot \mathbf{r}\)</span>, where <span class="math inline">\(s\)</span> is the scale value for that row.</li>
<li><code>scale-cols</code>: Multiplies each element of each column by a value. The value can be a single number applied to all columns, or the result of a function applied to each column vector.</li>
</ul></li>
</ul>
<p>Default function is the root mean square function <span class="math inline">\(\frac{(n-1)}{\sqrt{(\mathbf{v}\cdot\mathbf{v})}}\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb224"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>(v/dot (mat/col (mat/scale-cols M4x4) <span class="dv">1</span>) (mat/col (mat/scale-cols M4x4) <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb225"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2.999999999999999</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb226"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>(mat/scale-rows M2x2 <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb227"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">0.5</span>, <span class="fl">1.0</span>]</span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.5</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb228"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>(mat/scale-cols RealMat (<span class="kw">comp</span> m/sqrt v/sum))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb229"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>#object[org.apache.commons.math3.linear.Array2DRowRealMatrix <span class="bn">0x686a6130</span> <span class="st">"Array2DRowRealMatrix{{2.2360679775,8.94427191},{5.2915026221,13.2287565553},{9.0,18.0}}"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Statistical Transformations</strong>: These functions apply common statistical preprocessing steps to rows or columns. By default, they operate on columns, which is a common convention in data science where columns represent features. An optional <code>rows?</code> argument (default <code>false</code>) allows applying the transformation to rows instead.
<ul>
<li><code>normalize</code>: Scales each row (if <code>rows?</code> is true) or column (if <code>rows?</code> is false) vector to have unit Euclidean length (magnitude 1). <span class="math inline">\(\hat{\mathbf{v}} = \mathbf{v} / \Vert \mathbf{v} \Vert\)</span>.</li>
<li><code>demean</code>: Centers each row (if <code>rows?</code> is true) or column (if <code>rows?</code> is false) vector by subtracting its mean. <span class="math inline">\(\mathbf{v}' = \mathbf{v} - \text{mean}(\mathbf{v})\)</span>.</li>
<li><code>standardize</code>: Centers and scales each row (if <code>rows?</code> is true) or column (if <code>rows?</code> is false) vector to have a mean of 0 and a standard deviation of 1. <span class="math inline">\(\mathbf{v}' = (\mathbf{v} - \text{mean}(\mathbf{v})) / \text{stddev}(\mathbf{v})\)</span>. This is also known as Z-score normalization.</li>
</ul></li>
</ul>
<div class="grid">
<div class="g-col-4">
<div class="sourceClojure">
<div class="sourceCode" id="cb230"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>(mat/normalize M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb231"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.10101525445522107</span>, <span class="fl">0.20739033894608505</span>, <span class="fl">0.309426373877638</span>]</span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.40406101782088427</span>, <span class="fl">0.5184758473652127</span>, <span class="fl">0.618852747755276</span>]</span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9091372900969896</span>, -<span class="fl">0.8295613557843402</span>, <span class="fl">0.7219948723811553</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb232"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>(mat/normalize M3x3 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb233"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.2672612419124244</span>, <span class="fl">0.5345224838248488</span>, <span class="fl">0.8017837257372732</span>]</span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.4558423058385518</span>, <span class="fl">0.5698028822981898</span>, <span class="fl">0.6837634587578276</span>]</span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.6461623427559644</span>, -<span class="fl">0.5743665268941905</span>, <span class="fl">0.5025707110324167</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<div class="sourceClojure">
<div class="sourceCode" id="cb234"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>(mat/demean M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb235"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">1.0</span>, <span class="fl">2.3333333333333335</span>, -<span class="fl">2.333333333333333</span>]</span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">6.0</span>, <span class="fl">5.333333333333333</span>, <span class="fl">0.666666666666667</span>]</span>
<span id="cb235-3"><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">7.0</span>, -<span class="fl">7.666666666666667</span>, <span class="fl">1.666666666666667</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb236"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>(mat/demean M3x3 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb237"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">6.333333333333334</span>, <span class="fl">2.6666666666666665</span>, <span class="fl">3.6666666666666665</span>]</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.333333333333334</span>, -<span class="fl">10.666666666666666</span>, <span class="fl">4.333333333333334</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="g-col-4">
<div class="sourceClojure">
<div class="sourceCode" id="cb238"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>(mat/standardize M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb239"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.15249857033260467</span>, <span class="fl">0.3427914748120743</span>, -<span class="fl">1.12089707663561</span>]</span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.914991421995628</span>, <span class="fl">0.7835233709990269</span>, <span class="fl">0.32025630761017443</span>]</span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0674899923282326</span>, -<span class="fl">1.126314845811101</span>, <span class="fl">0.8006407690254359</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb240"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>(mat/standardize M3x3 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb241"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">1.1499323120707245</span>, <span class="fl">0.48418202613504197</span>, <span class="fl">0.6657502859356828</span>]</span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.6816212031674663</span>, -<span class="fl">1.1479936053346804</span>, <span class="fl">0.4663724021672138</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="geometric-transformations" class="level3">
<h3 class="anchored" data-anchor-id="geometric-transformations">Geometric Transformations</h3>
<p>Functions specifically for creating transformation matrices, primarily rotations in 2D and 3D space. These matrices are used to transform points or vectors by applying matrix multiplication.</p>
<section id="d-rotation" class="level4">
<h4 class="anchored" data-anchor-id="d-rotation">2D Rotation</h4>
<p>Functions for creating rotation matrices in 2D space, typically used to rotate points or vectors around the origin.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>rotation-matrix-2d</code></li>
</ul>
</div>
</div>
<ul>
<li><code>rotation-matrix-2d</code>: Creates a 2x2 rotation matrix for a given angle <span class="math inline">\(\theta\)</span> (in radians). The matrix is defined as: <span class="math display">\[
R(\theta) = \begin{bmatrix}
\cos \theta &amp; -\sin \theta \\
\sin \theta &amp; \cos \theta
\end{bmatrix}
\]</span> Multiplying a 2D vector <span class="math inline">\(\mathbf{v} = [x, y]^T\)</span> by this matrix rotates the vector by <span class="math inline">\(\theta\)</span> counterclockwise: <span class="math inline">\(\mathbf{v}' = R(\theta) \mathbf{v}\)</span>.</li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb242"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-2</span>d m/HALF_PI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb243"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[<span class="fl">6.12323399538461E-17</span>, -<span class="fl">1.0</span>]</span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0</span>, <span class="fl">6.12323399538461E-17</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Rotate [1, 0] by pi/2</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb244"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>(mat/mulv (mat/rotation-matrix<span class="dv">-2</span>d m/HALF_PI) (v/vec2 <span class="dv">1</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb245"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">6.12323399538461E-17</span> <span class="fl">1.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb246"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-2</span>d m/PI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb247"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[-<span class="fl">1.0</span>, -<span class="fl">1.224646799076922E-16</span>]</span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.224646799076922E-16</span>, -<span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="d-rotations" class="level4">
<h4 class="anchored" data-anchor-id="d-rotations">3D Rotations</h4>
<p><code>rotation-matrix-3d</code> creates a 3x3 rotation matrix from Euler angles (Taitâ€“Bryan z-yâ€²-xâ€³ convention). <code>rotation-matrix-3d-x</code>, <code>-y</code>, and <code>-z</code> create simple rotations around the respective axes. <code>rotation-matrix-axis-3d</code> creates a 3x3 rotation matrix for rotation around an arbitrary axis.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>rotation-matrix-3d</code>, <code>rotation-matrix-3d-x</code>, <code>rotation-matrix-3d-y</code>, <code>rotation-matrix-3d-z</code></li>
<li><code>rotation-matrix-axis-3d</code></li>
</ul>
</div>
</div>
<p>These functions generate 3x3 matrices used to rotate 3D points or vectors.</p>
<ul>
<li><strong>Axis Rotations</strong>:
<ul>
<li><code>rotation-matrix-3d-x</code>: Creates a 3x3 matrix for rotation by angle <span class="math inline">\(\theta\)</span> around the x-axis (right-hand rule). <span class="math display">\[
  R_x(\theta) = \begin{bmatrix}
  1 &amp; 0 &amp; 0 \\
  0 &amp; \cos\theta &amp; -\sin\theta \\
  0 &amp; \sin\theta &amp; \cos\theta
  \end{bmatrix}
  \]</span></li>
<li><code>rotation-matrix-3d-y</code>: Creates a 3x3 matrix for rotation by angle <span class="math inline">\(\theta\)</span> around the y-axis (right-hand rule). <span class="math display">\[
  R_y(\theta) = \begin{bmatrix}
  \cos\theta &amp; 0 &amp; \sin\theta \\
  0 &amp; 1 &amp; 0 \\
  -\sin\theta &amp; 0 &amp; \cos\theta
  \end{bmatrix}
  \]</span></li>
<li><code>rotation-matrix-3d-z</code>: Creates a 3x3 matrix for rotation by angle <span class="math inline">\(\theta\)</span> around the z-axis (right-hand rule). <span class="math display">\[
  R_z(\theta) = \begin{bmatrix}
  \cos\theta &amp; -\sin\theta &amp; 0 \\
  \sin\theta &amp; \cos\theta &amp; 0 \\
  0 &amp; 0 &amp; 1
  \end{bmatrix}
  \]</span></li>
</ul></li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb248"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-3</span>d-x m/HALF_PI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb249"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">6.12323399538461E-17</span>, -<span class="fl">1.0</span>]</span>
<span id="cb249-3"><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">6.12323399538461E-17</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb250"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-3</span>d-y m/HALF_PI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb251"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">6.12323399538461E-17</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">6.12323399538461E-17</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb252"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-3</span>d-z m/HALF_PI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb253"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">6.12323399538461E-17</span>, -<span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0</span>, <span class="fl">6.12323399538461E-17</span>, <span class="fl">0.0</span>]</span>
<span id="cb253-3"><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
               [{"x":[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0],"y":[1.5,1.883044782736227,2.183791472615502,2.389095996147368,2.4899855604930763,2.482050807568878,2.3656385241527293,2.145836485638028,1.8322510958350677,1.4385875410278872,0.9820508075688785,0.4825937414165023,-0.037954986977473903,-0.5568449003123002,-1.0513980194651893,-1.4999999999999998,-1.8830447827362273,-2.1837914726155025,-2.3890959961473683,-2.489985560493077,-2.482050807568879,-2.3656385241527302,-2.145836485638029,-1.8322510958350686,-1.4385875410278883,-0.9820508075688796,-0.48259374141650346,0.03795498697747279,0.5568449003122992,1.0513980194651884],"z":[-2.0,-1.6444276652409724,-1.2169859506715017,-0.7363561103111855,-0.22354397450162544,0.2990381056766577,0.8085507856928353,1.2827259165171032,1.7008397695877173,2.044618763192626,2.299038105676659,2.452978450933809,2.499711867188606,2.4371958798989035,2.2681627376942517,2.0000000000000013,1.6444276652409737,1.216985950671503,0.7363561103111868,0.22354397450162655,-0.29903810567665673,-0.8085507856928347,-1.2827259165171025,-1.7008397695877169,-2.0446187631926254,-2.2990381056766584,-2.452978450933809,-2.4997118671886063,-2.4371958798989044,-2.268162737694253],"name":"X-axis rotation","type":"scatter3d","mode":"markers","opacity":0.9,"marker":{"size":5,"color":"#819BB4FF"}},{"x":[1.0,0.5623242190982871,0.10007217149100073,-0.3665535102099985,-0.8171590445959298,-1.2320508075688767,-1.5930960382153594,-1.884515327468893,-2.0935722540042003,-2.2111300269652547,-2.232050807568878,-2.1554202573136476,-1.9845874989598946,-1.7270187437942024,-1.3939709823693256,-1.0000000000000013,-0.5623242190982882,-0.10007217149100167,0.3665535102099978,0.8171590445959296,1.232050807568877,1.5930960382153598,1.8845153274688937,2.093572254004201,2.211130026965256,2.232050807568879,2.1554202573136485,1.9845874989598957,1.7270187437942037,1.3939709823693271],"y":[1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5,1.5],"z":[-2.0,-2.1642068922853706,-2.2338275583610017,-2.205819241042368,-2.0814060381951105,-1.8660254037844388,-1.5690905050450488,-1.2035788219035808,-0.785464968832967,-0.33302252754525935,0.13397459621556074,0.5951163872403218,1.0302487364574215,1.4203542722094016,1.7483835106498522,2.0000000000000004,2.1642068922853714,2.233827558361003,2.2058192410423696,2.0814060381951123,1.8660254037844406,1.5690905050450505,1.2035788219035826,0.7854649688329687,0.3330225275452608,-0.13397459621555957,-0.5951163872403208,-1.0302487364574207,-1.420354272209401,-1.7483835106498518],"name":"Y-axis rotation","type":"scatter3d","mode":"markers","opacity":0.9,"marker":{"size":5,"color":"#30588CFF"}},{"x":[1.0,0.6662800645071667,0.3034404930289007,-0.07266088406376214,-0.445586631857233,-0.7990381056766579,-1.117567780067783,-1.387254379784757,-1.596311306320064,-1.7356017688176784,-1.799038105676659,-1.7838478445749506,-1.6906948728136584,-1.5236504222563025,-1.290015136960446,-1.0000000000000013,-0.6662800645071679,-0.3034404930289017,0.07266088406376142,0.44558663185723263,0.7990381056766578,1.1175677800677832,1.3872543797847574,1.596311306320065,1.7356017688176797,1.7990381056766604,1.7838478445749524,1.6906948728136602,1.5236504222563043,1.2900151369604478],"y":[1.5,1.675133091918468,1.7770548295397017,1.8013107438548945,1.7468407350156818,1.616025403784439,1.4145820078575753,1.1513145902697541,0.8377292004667937,0.4875310247327329,0.11602540378443904,-0.26055108406089283,-0.6257402392699479,-0.9635815433881013,-1.2593097102829496,-1.5000000000000007,-1.6751330919184688,-1.7770548295397028,-1.8013107438548959,-1.7468407350156834,-1.6160254037844406,-1.4145820078575768,-1.1513145902697557,-0.8377292004667951,-0.48753102473273413,-0.11602540378443998,0.2605510840608922,0.6257402392699477,0.9635815433881014,1.25930971028295],"z":[-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0,-2.0],"name":"Z-axis rotation","type":"scatter3d","mode":"markers","opacity":0.9,"marker":{"size":5,"color":"#72A684FF"}},{"x":[0,1.0],"y":[0,1.5],"z":[0,-2.0],"name":"rotated vector","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#000e60"}},{"x":[0,1],"y":[0,0],"z":[0,0],"name":"X-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}},{"x":[0,0],"y":[0,1],"z":[0,0],"name":"Y-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}},{"x":[0,0],"y":[0,0],"z":[0,1],"name":"Z-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}}], {"title":"Rotation of [1, 1.5, -2] vector, 12 degrees."}, {});</script></div>
<ul>
<li><strong>Euler Angles</strong>:
<ul>
<li><code>rotation-matrix-3d</code>: Creates a 3x3 rotation matrix from sequential rotations specified by Euler angles (specifically, the Taitâ€“Bryan angles z-yâ€²-xâ€³ convention). Given angles <span class="math inline">\(\gamma, \beta, \alpha\)</span> for rotations around the Z, Yâ€™, Xâ€™â€™ axes respectively. The function accepts <code>alpha</code> (x), <code>beta</code> (y) and <code>gamma</code> (z).</li>
</ul></li>
</ul>
<p><span class="math display">\[R = R_{x''}(\alpha) R_{y'}(\beta) R_z(\gamma) = \begin{bmatrix}
c_\beta c_\gamma                              &amp; - c_\beta s_\gamma                            &amp; s_\beta \\
c_\alpha s_\gamma + c_\gamma s_\alpha s_\beta &amp; c_\alpha c_\gamma - s_\alpha s_\beta s_\gamma &amp; - c_\beta s_\alpha \\
s_\alpha s_\gamma - c_\alpha c_\gamma s_\beta &amp; c_\gamma s_\alpha + c_\alpha s_\beta s_\gamma &amp; c_\alpha c_\beta
\end{bmatrix}\]</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb254"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix<span class="dv">-3</span>d m/HALF_PI m/QUARTER_PI <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb255"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.7071067811865476</span>, -<span class="fl">0.0</span>, <span class="fl">0.7071067811865475</span>]</span>
<span id="cb255-2"><a href="#cb255-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.7071067811865475</span>, <span class="fl">6.12323399538461E-17</span>, -<span class="fl">0.7071067811865476</span>]</span>
<span id="cb255-3"><a href="#cb255-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">4.329780280928454E-17</span>, <span class="fl">1.0</span>, <span class="fl">4.329780280928455E-17</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
               [{"x":[1.0,-0.7811496202911326,-2.0073758128116825,-2.0082619626294647,-0.7833235836318971,0.9977267976038283,2.361132646683897,2.5614768948046,1.4892250095399675,-0.26938901438824614,-1.752875308238338,-2.1501650288493805,-1.2440473294265275,0.470074605460725,2.055036138343698,2.6442887057074085,1.915669305357253,0.26753719183874525,-1.399021718362451,-2.1728469966262844],"y":[1.5,2.0936627998530852,1.7943739491643498,0.7657641217764771,-0.42979317995868155,-1.1386489930066739,-0.9732494406379644,-0.024023685666632016,1.1900565509182008,2.0052152321733097,1.9757793435659572,1.117842415733503,-0.099534317359983,-1.010772519942604,-1.1176694665314013,-0.3617812178957689,0.843624230215763,1.839513621889275,2.0814027511234015,1.4370431859410877],"z":[-2.0,-1.5021256110027412,-0.025777445547852773,1.62187829360145,2.5400161388831934,2.2266611120842112,0.8531343100950652,-0.8296137534474536,-1.901571528125449,-1.7766658187703912,-0.5231865243929945,1.173549607941745,2.3858833085074385,2.4509934268026536,1.333282203318122,-0.3561623102548668,-1.6936674026221654,-1.947976767281076,-0.9800514370001718,0.6809132184004177],"name":"Rotation","type":"scatter3d","mode":"markers","opacity":0.9,"marker":{"size":5,"color":"#819BB4FF"}},{"x":[0.0,1.0],"y":[0.0,1.5],"z":[0.0,-2.0],"name":"rotated vector","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#000e60"}},{"x":[0,1],"y":[0,0],"z":[0,0],"name":"X-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}},{"x":[0,0],"y":[0,1],"z":[0,0],"name":"Y-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}},{"x":[0,0],"y":[0,0],"z":[0,1],"name":"Z-axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}}], {"title":"Rotation of [1, 1.5, -2] vector, \u03b1=12, \u03b2=36, \u03b3=18 degrees."}, {});</script></div>
<ul>
<li><strong>Arbitrary Axis Rotation</strong>:
<ul>
<li><code>rotation-matrix-axis-3d</code>: Creates a 3x3 rotation matrix for rotating by angle <span class="math inline">\(\theta\)</span> around a specified arbitrary axis <span class="math inline">\(\mathbf{k}\)</span>. If <span class="math inline">\(\mathbf{k}\)</span> is a unit vector, the rotation matrix can be constructed using Rodriguesâ€™ rotation formula or its matrix equivalent. <span class="math display">\[
  R = I + (\sin\theta) K + (1-\cos\theta) K^2
  \]</span> where <span class="math inline">\(I\)</span> is the identity matrix and <span class="math inline">\(K\)</span> is the skew-symmetric matrix of <span class="math inline">\(\mathbf{k}\)</span>: <span class="math display">\[
  K = \begin{bmatrix}
  0 &amp; -k_z &amp; k_y \\
  k_z &amp; 0 &amp; -k_x \\
  -k_y &amp; k_x &amp; 0
  \end{bmatrix}
  \]</span> The function can also take an optional pivot point <code>p</code> to represent rotation around a point other than the origin. The transformation of a point <span class="math inline">\(\mathbf{v}\)</span> around <code>p</code> by angle <span class="math inline">\(\theta\)</span> and axis <span class="math inline">\(\mathbf{k}\)</span> is <span class="math inline">\(R(\mathbf{v} - \mathbf{p}) + \mathbf{p}\)</span>.</li>
</ul></li>
</ul>
<div class="sourceClojure">
<div class="sourceCode" id="cb256"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a>(mat/rotation-matrix-axis<span class="dv">-3</span>d m/HALF_PI (v/vec3 <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb257"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.3333333333333334</span>, -<span class="fl">0.24401693585629247</span>, <span class="fl">0.9106836025229592</span>]</span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9106836025229592</span>, <span class="fl">0.3333333333333334</span>, -<span class="fl">0.24401693585629247</span>]</span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.24401693585629247</span>, <span class="fl">0.9106836025229592</span>, <span class="fl">0.3333333333333334</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="height:auto;width:100%;"><script>Plotly.newPlot(document.currentScript.parentElement,
               [{"x":[1.0,0.5616571199636088,0.1060512617436577,-0.34690541241617406,-0.7774165223278303,-1.1666666666666672,-1.4976437462956522,-1.7558824746307626,-1.930096580076852,-2.0126720702538985,-2.000000000000001,-1.8926341995925946,-1.6952670697077536,-1.416524500994011,-1.068588881259401,-0.6666666666666671,-0.22832378663027564,0.22728207158967556,0.6802387457495076,1.1107498556611641,1.500000000000001,1.8309770796289864,2.089215807964097,2.263429913410186,2.346005403587233,2.3333333333333353,2.2259675329259285,2.0286004030410876,1.7498578343273448,1.4019222145927346],"y":[1.5,1.830977079628985,2.089215807964095,2.2634299134101843,2.346005403587231,2.3333333333333335,2.225967532925927,2.0286004030410867,1.749857834327344,1.4019222145927341,0.9999999999999999,0.5616571199636086,0.10605126174365742,-0.3469054124161745,-0.7774165223278309,-1.1666666666666679,-1.497643746295653,-1.7558824746307633,-1.9300965800768526,-2.012672070253899,-2.0000000000000013,-1.892634199592595,-1.6952670697077539,-1.4165245009940108,-1.0685888812594009,-0.6666666666666665,-0.2283237866302749,0.22728207158967645,0.6802387457495086,1.1107498556611652],"z":[-2.0,-1.892634199592594,-1.6952670697077532,-1.4165245009940106,-1.068588881259401,-0.6666666666666672,-0.22832378663027586,0.22728207158967517,0.680238745749507,1.1107498556611635,1.5000000000000002,1.8309770796289855,2.089215807964096,2.263429913410185,2.3460054035872315,2.333333333333334,2.2259675329259276,2.028600403041087,1.7498578343273443,1.4019222145927344,1.0,0.5616571199636085,0.10605126174365709,-0.34690541241617495,-0.7774165223278314,-1.1666666666666683,-1.4976437462956533,-1.7558824746307637,-1.930096580076853,-2.0126720702538994],"name":"X-axis rotation","type":"scatter3d","mode":"markers","opacity":0.9,"marker":{"size":5,"color":"#819BB4FF"}},{"x":[0.0,1.0],"y":[0.0,1.5],"z":[0.0,-2.0],"name":"rotated vector","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#000e60"}},{"x":[0.0,1.0],"y":[0.0,1.0],"z":[0.0,1.0],"name":"rotation axis","type":"scatter3d","mode":"lines","opacity":0.9,"line":{"width":5,"color":"#87a5ff"}}], {"title":"Rotation of [1, 1.5, -2] vector around [1, 1, 1] axis, 12 degrees."}, {});</script></div>
<p>Rotating point [1 0 0] around [0 0 0] by 90 deg around Z axis</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb258"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>(mat/mulv (mat/rotation-matrix-axis<span class="dv">-3</span>d m/HALF_PI (v/vec3 <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span>)) (v/vec3 <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb259"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">6.12323399538461E-17</span> <span class="fl">1.0</span> <span class="fl">0.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="matrix-decompositions" class="level3">
<h3 class="anchored" data-anchor-id="matrix-decompositions">Matrix Decompositions</h3>
<p>Matrix decomposition (or factorization) is a technique that breaks down a matrix into a product of other matrices with specific properties. These decompositions simplify complex matrix operations, reveal important characteristics of the matrix (like rank, eigenvalues, stability), and are crucial for solving linear systems, computing inverses, and performing various numerical computations more efficiently and stably. <code>fastmath.matrix</code> leverages Apache Commons Math to provide implementations of several common decompositions.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>qr-decomposition</code></li>
<li><code>rrqr-decomposition</code></li>
<li><code>cholesky-decomposition</code></li>
<li><code>sv-decomposition</code></li>
<li><code>lu-decomposition</code></li>
<li><code>eigen-decomposition</code></li>
<li><code>decomposition-component</code></li>
<li><code>singular?</code></li>
<li><code>inverse</code></li>
<li><code>solve</code></li>
</ul>
</div>
</div>
<p>Each decomposition function takes a matrix as input and returns a special object (<code>MatrixDecomposition</code> record). This object encapsulates the results of the decomposition and provides a more efficient way to perform subsequent operations that utilize the decomposition (like solving linear systems or finding the inverse) compared to performing these operations directly on the original matrix or calculating the components explicitly.</p>
<ul>
<li><strong>Accessing Components</strong>:
<ul>
<li><code>decomposition-component</code>: Extracts specific matrices (like <span class="math inline">\(\mathbf{Q}, \mathbf{R}, \mathbf{L}, \mathbf{U}, \mathbf{V}, \mathbf{D}, \mathbf{S}, \mathbf{P}, \mathbf{H}, \mathbf{V}^T=\mathbf{VT}, \mathbf{U}^T=\mathbf{UT}, \mathbf{L}^T=\mathbf{LT}\)</span>, <span class="math inline">\(\mathbf{D}^{1/2}=\mathbf{sqrt}\)</span>) or other results (like <code>:pivot</code> vector, <code>:singular-values</code> vector, <code>:det</code> determinant, <code>:real-eigenvalues</code> / <code>:imag-eigenvalues</code> vectors, <code>:complex?</code> boolean, <code>:info</code> map, <code>:rank-fn</code> function, <code>:covariance-fn</code> function) from a decomposition object. Components are lazy where possible.</li>
</ul></li>
<li><strong>Using Decomposition Results</strong>: The decomposition objects themselves implement the <code>fastmath.protocols/MatrixProto</code>. This means you can directly call <code>solve</code>, <code>inverse</code>, and <code>singular?</code> on the decomposition result:
<ul>
<li><code>solve</code>: Solves the linear system <span class="math inline">\(\mathbf{A} \mathbf{x} = \mathbf{b}\)</span> using the pre-computed decomposition. This is generally faster and more numerically stable than solving the system directly using the original matrix, especially for large systems or matrices with poor condition numbers.</li>
<li><code>inverse</code>: Computes the inverse matrix <span class="math inline">\(\mathbf{A}^{-1}\)</span> from the decomposition. Similar to <code>solve</code>, using the decomposition is typically more efficient. Returns <code>nil</code> if the matrix is singular.</li>
<li><code>singular?</code>: Checks if the matrix is singular based on the decomposition (e.g., checking the determinant for LU/Eigen or pivots/singular values for others).</li>
</ul></li>
</ul>
<section id="qr" class="level4">
<h4 class="anchored" data-anchor-id="qr">QR</h4>
<p>Computes the QR decomposition <span class="math inline">\(\mathbf{A} = \mathbf{Q} \mathbf{R}\)</span>, where <span class="math inline">\(\mathbf{Q}\)</span> is an orthogonal matrix (<span class="math inline">\(\mathbf{Q}^T \mathbf{Q} = \mathbf{I}\)</span>) and <span class="math inline">\(\mathbf{R}\)</span> is an upper triangular matrix. Useful for solving linear least squares problems and eigenvalue computations.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb260"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> QR </span>(mat/qr-decomposition M3x3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb261"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component QR <span class="at">:Q</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb262"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.10101525445522119</span>, -<span class="fl">0.9072647087265548</span>, <span class="fl">0.40824829046386313</span>]</span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.4040610178208843</span>, -<span class="fl">0.41239304942116134</span>, -<span class="fl">0.816496580927726</span>]</span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.9091372900969897</span>, -<span class="fl">0.08247860988423228</span>, -<span class="fl">0.408248290463863</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb263"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component QR <span class="at">:R</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb264"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">9.899494936611665</span>, <span class="fl">9.091372900969898</span>, -<span class="fl">4.242640687119285</span>]</span>
<span id="cb264-2"><a href="#cb264-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">3.2166657854850573</span>, -<span class="fl">5.773502691896262</span>]</span>
<span id="cb264-3"><a href="#cb264-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, -<span class="fl">6.531972647421809</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb265"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component QR <span class="at">:QT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb266"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.10101525445522119</span>, <span class="fl">0.4040610178208843</span>, -<span class="fl">0.9091372900969897</span>]</span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.9072647087265548</span>, -<span class="fl">0.41239304942116134</span>, -<span class="fl">0.08247860988423228</span>]</span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.40824829046386313</span>, -<span class="fl">0.816496580927726</span>, -<span class="fl">0.408248290463863</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb267"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component QR <span class="at">:H</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb268"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.101015254455221</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.40406101782088427</span>, <span class="fl">1.7453496548429523</span>, <span class="fl">0.0</span>]</span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9091372900969896</span>, -<span class="fl">0.6666737523147975</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb269"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? QR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb270"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb271"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse QR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb272"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.39903846153846173</span>, -<span class="fl">0.18269230769230776</span>, -<span class="fl">0.014423076923076986</span>]</span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3942307692307694</span>, -<span class="fl">0.09615384615384628</span>, -<span class="fl">0.0865384615384616</span>]</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.06250000000000003</span>, <span class="fl">0.12499999999999996</span>, <span class="fl">0.062499999999999986</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb273"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a>(mat/solve QR V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb274"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.8088942307692313</span> -<span class="fl">0.35336538461538497</span> <span class="fl">0.171875</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="rrqr" class="level4">
<h4 class="anchored" data-anchor-id="rrqr">RRQR</h4>
<p>Computes the Rank-Revealing QR decomposition <span class="math inline">\(\mathbf{A} = \mathbf{Q} \mathbf{R} \mathbf{P}^T\)</span>, similar to QR but with a permutation matrix <span class="math inline">\(\mathbf{P}\)</span> that helps determine the numerical rank. Useful for rank determination and handling rank-deficient matrices.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb275"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> RRQR </span>(mat/rrqr-decomposition M3x3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb276"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component RRQR <span class="at">:Q</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb277"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.10101525445522119</span>, -<span class="fl">0.2949630864050082</span>, <span class="fl">0.9501540380516091</span>]</span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.4040610178208843</span>, -<span class="fl">0.8848892592150241</span>, -<span class="fl">0.2317448873296608</span>]</span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.9091372900969897</span>, -<span class="fl">0.36051043893945434</span>, -<span class="fl">0.20857039859669468</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb278"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component RRQR <span class="at">:R</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb279"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">9.899494936611665</span>, -<span class="fl">4.242640687119285</span>, <span class="fl">9.091372900969898</span>]</span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">8.717797887081348</span>, -<span class="fl">2.1302889573695025</span>]</span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">2.4101468282284717</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb280"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component RRQR <span class="at">:QT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb281"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.10101525445522119</span>, <span class="fl">0.4040610178208843</span>, -<span class="fl">0.9091372900969897</span>]</span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.2949630864050082</span>, -<span class="fl">0.8848892592150241</span>, -<span class="fl">0.36051043893945434</span>]</span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9501540380516091</span>, -<span class="fl">0.2317448873296608</span>, -<span class="fl">0.20857039859669468</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb282"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component RRQR <span class="at">:H</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb283"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.101015254455221</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.40406101782088427</span>, <span class="fl">1.9931376094809508</span>, <span class="fl">0.0</span>]</span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9091372900969896</span>, <span class="fl">0.11695165084111954</span>, <span class="fl">2.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb284"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component RRQR <span class="at">:P</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb285"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb286"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> rrqr-rank </span>(mat/decomposition-component RRQR <span class="at">:rank-fn</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb287"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a>(rrqr-rank <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb288"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb289"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? RRQR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb290"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb291"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse RRQR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb292"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.39903846153846156</span>, -<span class="fl">0.18269230769230768</span>, -<span class="fl">0.014423076923076941</span>]</span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3942307692307693</span>, -<span class="fl">0.09615384615384616</span>, -<span class="fl">0.08653846153846154</span>]</span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.06250000000000001</span>, <span class="fl">0.12500000000000006</span>, <span class="fl">0.06250000000000001</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb293"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a>(mat/solve RRQR V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb294"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.8088942307692313</span> -<span class="fl">0.353365384615385</span> <span class="fl">0.1718750000000001</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cholesky" class="level4">
<h4 class="anchored" data-anchor-id="cholesky">Cholesky</h4>
<p>Computes the Cholesky decomposition <span class="math inline">\(\mathbf{A} = \mathbf{L} \mathbf{L}^T\)</span> (or <span class="math inline">\(\mathbf{A} = \mathbf{U}^T \mathbf{U}\)</span>), applicable to symmetric positive-definite matrices. <span class="math inline">\(\mathbf{L}\)</span> is a lower triangular matrix. Efficient for solving symmetric linear systems.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb295"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> Cholesky </span>(mat/cholesky-decomposition (mat/mulmt M3x3 M3x3)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb296"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Cholesky <span class="at">:L</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb297"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">3.7416573867739413</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb297-2"><a href="#cb297-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">6.4142698058981855</span>, <span class="fl">5.988083404324196</span>, <span class="fl">0.0</span>]</span>
<span id="cb297-3"><a href="#cb297-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">3.7416573867739418</span>, -<span class="fl">9.68590383328934</span>, <span class="fl">9.283494327690995</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb298"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Cholesky <span class="at">:LT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb299"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">3.7416573867739413</span>, <span class="fl">6.4142698058981855</span>, <span class="fl">3.7416573867739418</span>]</span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">5.988083404324196</span>, -<span class="fl">9.68590383328934</span>]</span>
<span id="cb299-3"><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">9.283494327690995</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb300"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Cholesky <span class="at">:det</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb301"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fl">43263.99999999998</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb302"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? Cholesky)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb303"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb304"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse Cholesky)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb305"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.3185558431952665</span>, -<span class="fl">0.1186205621301776</span>, -<span class="fl">0.04377773668639056</span>]</span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.1186205621301776</span>, <span class="fl">0.058247041420118384</span>, <span class="fl">0.018768491124260368</span>]</span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.04377773668639057</span>, <span class="fl">0.018768491124260368</span>, <span class="fl">0.011603180473372787</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb306"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a>(mat/solve Cholesky V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb307"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.47282960428994114</span> <span class="fl">0.20324056952662733</span> <span class="fl">0.05298862795857993</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="svd" class="level4">
<h4 class="anchored" data-anchor-id="svd">SVD</h4>
<p>Computes the Singular Value Decomposition (SVD) <span class="math inline">\(\mathbf{A} = \mathbf{U} \mathbf{S} \mathbf{V}^T\)</span>, where <span class="math inline">\(\mathbf{U}\)</span> and <span class="math inline">\(\mathbf{V}\)</span> are orthogonal matrices and <span class="math inline">\(\mathbf{S}\)</span> is a diagonal matrix containing the singular values. The SVD is one of the most powerful decompositions, providing insights into matrix rank, approximation, and used in dimensionality reduction (like PCA).</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb308"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> SVD </span>(mat/sv-decomposition M3x3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb309"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:S</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb310"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">14.26358979914213</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">8.879932448938339</span>, <span class="fl">0.0</span>]</span>
<span id="cb310-3"><a href="#cb310-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.642195403750888</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb311"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:U</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb312"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.03946194000852533</span>, <span class="fl">0.3798892187494038</span>, <span class="fl">0.9241898813386404</span>]</span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.25246462913394213</span>, <span class="fl">0.8986920160245726</span>, -<span class="fl">0.3586283192526073</span>]</span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9668010996720184</span>, <span class="fl">0.2191730864217972</span>, -<span class="fl">0.13137272114605367</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb313"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:UT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb314"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.03946194000852533</span>, -<span class="fl">0.25246462913394213</span>, <span class="fl">0.9668010996720184</span>]</span>
<span id="cb314-2"><a href="#cb314-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3798892187494038</span>, <span class="fl">0.8986920160245726</span>, <span class="fl">0.2191730864217972</span>]</span>
<span id="cb314-3"><a href="#cb314-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.9241898813386404</span>, -<span class="fl">0.3586283192526073</span>, -<span class="fl">0.13137272114605367</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb315"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb315-1"><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:V</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb316"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.6835958192080719</span>, -<span class="fl">0.13990208537016968</span>, <span class="fl">0.7163268544947359</span>]</span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.6252148434305902</span>, <span class="fl">0.3941306813280687</span>, <span class="fl">0.6736225987820889</span>]</span>
<span id="cb316-3"><a href="#cb316-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.37656759753769004</span>, <span class="fl">0.9083437744295657</span>, -<span class="fl">0.181957225577173</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb317"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb317-1"><a href="#cb317-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:VT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb318"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.6835958192080719</span>, -<span class="fl">0.6252148434305902</span>, <span class="fl">0.37656759753769004</span>]</span>
<span id="cb318-2"><a href="#cb318-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.13990208537016968</span>, <span class="fl">0.3941306813280687</span>, <span class="fl">0.9083437744295657</span>]</span>
<span id="cb318-3"><a href="#cb318-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.7163268544947359</span>, <span class="fl">0.6736225987820889</span>, -<span class="fl">0.181957225577173</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb319"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:singular-values</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb320"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">14.26358979914213</span> <span class="fl">8.879932448938339</span> <span class="fl">1.642195403750888</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb321"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component SVD <span class="at">:info</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb322"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a>{<span class="at">:condition-number</span> <span class="fl">8.685683668681026</span>,</span>
<span id="cb322-2"><a href="#cb322-2" aria-hidden="true" tabindex="-1"></a> <span class="at">:inv-condition-number</span> <span class="fl">0.11513198478616204</span>,</span>
<span id="cb322-3"><a href="#cb322-3" aria-hidden="true" tabindex="-1"></a> <span class="at">:norm</span> <span class="fl">14.26358979914213</span>,</span>
<span id="cb322-4"><a href="#cb322-4" aria-hidden="true" tabindex="-1"></a> <span class="at">:rank</span> <span class="dv">3</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb323"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> svd-covariance </span>(mat/decomposition-component SVD <span class="at">:covariance-fn</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb324"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a>(svd-covariance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb325"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.19281619822485202</span>, <span class="fl">0.17612795857988167</span>, -<span class="fl">0.04867788461538463</span>]</span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.17612795857988167</span>, <span class="fl">0.1721523668639054</span>, -<span class="fl">0.04206730769230772</span>]</span>
<span id="cb325-3"><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.04867788461538463</span>, -<span class="fl">0.04206730769230772</span>, <span class="fl">0.023437500000000007</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb326"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? SVD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb327"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb328"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse SVD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb329"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.39903846153846134</span>, -<span class="fl">0.18269230769230768</span>, -<span class="fl">0.01442307692307692</span>]</span>
<span id="cb329-2"><a href="#cb329-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3942307692307692</span>, -<span class="fl">0.09615384615384621</span>, -<span class="fl">0.08653846153846154</span>]</span>
<span id="cb329-3"><a href="#cb329-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.06250000000000003</span>, <span class="fl">0.12499999999999999</span>, <span class="fl">0.062499999999999986</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb330"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>(mat/solve SVD V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb331"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.8088942307692306</span> -<span class="fl">0.3533653846153848</span> <span class="fl">0.17187500000000006</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lu" class="level4">
<h4 class="anchored" data-anchor-id="lu">LU</h4>
<p>Computes the LU decomposition with partial pivoting <span class="math inline">\(\mathbf{P} \mathbf{A} = \mathbf{L} \mathbf{U}\)</span> (equivalent to <span class="math inline">\(\mathbf{A} = \mathbf{P}^{-1} \mathbf{L} \mathbf{U}\)</span>), where <span class="math inline">\(\mathbf{P}\)</span> is a permutation matrix, <span class="math inline">\(\mathbf{L}\)</span> is a lower triangular matrix with unit diagonal, and <span class="math inline">\(\mathbf{U}\)</span> is an upper triangular matrix. Used for solving square linear systems and computing determinants and inverses.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb332"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> LU </span>(mat/lu-decomposition M3x3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb333"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component LU <span class="at">:L</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb334"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.1111111111111111</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb334-3"><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.4444444444444444</span>, <span class="fl">0.5000000000000001</span>, <span class="fl">1.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb335"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component LU <span class="at">:U</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb336"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">9.0</span>, -<span class="fl">8.0</span>, <span class="fl">7.0</span>]</span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">2.888888888888889</span>, <span class="fl">2.2222222222222223</span>]</span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">7.999999999999999</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb337"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component LU <span class="at">:P</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb338"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="fl">0.0</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb339"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component LU <span class="at">:pivot</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb340"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">2.0</span> <span class="fl">0.0</span> <span class="fl">1.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb341"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component LU <span class="at">:det</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb342"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb342-1"><a href="#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fl">207.99999999999997</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb343"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? LU)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb344"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb344-1"><a href="#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb345"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse LU)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb346"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.39903846153846156</span>, -<span class="fl">0.18269230769230774</span>, -<span class="fl">0.014423076923076934</span>]</span>
<span id="cb346-2"><a href="#cb346-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3942307692307692</span>, -<span class="fl">0.09615384615384617</span>, -<span class="fl">0.08653846153846154</span>]</span>
<span id="cb346-3"><a href="#cb346-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.06250000000000003</span>, <span class="fl">0.12500000000000003</span>, <span class="fl">0.06250000000000001</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb347"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a>(mat/solve LU V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb348"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb348-1"><a href="#cb348-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.8088942307692308</span> -<span class="fl">0.3533653846153847</span> <span class="fl">0.17187500000000003</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="eigen" class="level4">
<h4 class="anchored" data-anchor-id="eigen">Eigen</h4>
<p>Computes the Eigen decomposition <span class="math inline">\(\mathbf{A} = \mathbf{V} \mathbf{D} \mathbf{V}^{-1}\)</span>, where <span class="math inline">\(\mathbf{D}\)</span> is a diagonal or block diagonal matrix containing the eigenvalues, and <span class="math inline">\(\mathbf{V}\)</span> is a matrix whose columns are the corresponding eigenvectors. Applies to square matrices (real or complex eigenvalues/vectors). Reveals how a linear transformation stretches or compresses space. <code>:sqrt</code> component is computed only for symmetric and positive definite matrices.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb349"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> Eigen </span>(mat/eigen-decomposition (mat/mulmt M3x3 M3x3)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb350"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:V</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb351"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.03946194000852534</span>, -<span class="fl">0.37988921874940373</span>, <span class="fl">0.924189881338641</span>]</span>
<span id="cb351-2"><a href="#cb351-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.2524646291339424</span>, -<span class="fl">0.8986920160245726</span>, -<span class="fl">0.3586283192526073</span>]</span>
<span id="cb351-3"><a href="#cb351-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.9668010996720185</span>, -<span class="fl">0.2191730864217975</span>, -<span class="fl">0.1313727211460537</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb352"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:D</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb353"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">203.4499939581915</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb353-2"><a href="#cb353-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">78.85320029770806</span>, <span class="fl">0.0</span>]</span>
<span id="cb353-3"><a href="#cb353-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">2.696805744100544</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb354"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb354-1"><a href="#cb354-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:VT</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb355"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.03946194000852534</span>, <span class="fl">0.2524646291339424</span>, -<span class="fl">0.9668010996720185</span>]</span>
<span id="cb355-2"><a href="#cb355-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.37988921874940373</span>, -<span class="fl">0.8986920160245726</span>, -<span class="fl">0.2191730864217975</span>]</span>
<span id="cb355-3"><a href="#cb355-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.924189881338641</span>, -<span class="fl">0.3586283192526073</span>, -<span class="fl">0.1313727211460537</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb356"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb356-1"><a href="#cb356-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:sqrt</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb357"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">2.706369949319761</span>, <span class="fl">2.3452443705450374</span>, <span class="fl">1.0841542970655804</span>]</span>
<span id="cb357-2"><a href="#cb357-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">2.345244370545037</span>, <span class="fl">8.29220181873904</span>, -<span class="fl">1.6550582587110794</span>]</span>
<span id="cb357-3"><a href="#cb357-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.0841542970655804</span>, -<span class="fl">1.6550582587110794</span>, <span class="fl">13.787145883772553</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb358"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb358-1"><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:det</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb359"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="fl">43264.00000000005</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb360"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb360-1"><a href="#cb360-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:complex</span>?)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb361"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb362"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:real-eigenvalues</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb363"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">203.4499939581915</span> <span class="fl">78.85320029770806</span> <span class="fl">2.696805744100544</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb364"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:imag-eigenvalues</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb365"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">0.0</span> <span class="fl">0.0</span> <span class="fl">0.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb366"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a>(mat/decomposition-component Eigen <span class="at">:eigenvectors</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb367"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a>[[-<span class="fl">0.03946194000852534</span> <span class="fl">0.2524646291339424</span> -<span class="fl">0.9668010996720185</span>] [-<span class="fl">0.37988921874940373</span> -<span class="fl">0.8986920160245726</span> -<span class="fl">0.2191730864217975</span>] [<span class="fl">0.924189881338641</span> -<span class="fl">0.3586283192526073</span> -<span class="fl">0.1313727211460537</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb368"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? Eigen)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb369"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a><span class="va">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb370"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse Eigen)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb371"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.31855584319526614</span>, -<span class="fl">0.11862056213017746</span>, -<span class="fl">0.04377773668639051</span>]</span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.11862056213017746</span>, <span class="fl">0.0582470414201183</span>, <span class="fl">0.018768491124260343</span>]</span>
<span id="cb371-3"><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.04377773668639051</span>, <span class="fl">0.018768491124260343</span>, <span class="fl">0.011603180473372774</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb372"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb372-1"><a href="#cb372-1" aria-hidden="true" tabindex="-1"></a>(mat/solve Eigen V3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb373"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>[-<span class="fl">0.47282960428994064</span> <span class="fl">0.20324056952662714</span> <span class="fl">0.05298862795857986</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="solving-linear-systems" class="level3">
<h3 class="anchored" data-anchor-id="solving-linear-systems">Solving Linear Systems</h3>
<p>This section covers functions for solving linear systems (<span class="math inline">\(\mathbf{A} \mathbf{x} = \mathbf{b}\)</span>) and computing matrix inverses (<span class="math inline">\(\mathbf{A}^{-1}\)</span>), which are fundamental operations in linear algebra. A matrix is invertible if and only if it is not singular (i.e., its determinant is non-zero). <code>fastmath.matrix</code> provides functions to check for singularity and compute the inverse, leveraging the underlying matrix types and decomposition results for efficiency and numerical stability.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>solve</code></li>
<li><code>inverse</code></li>
<li><code>singular?</code></li>
</ul>
</div>
</div>
<ul>
<li><strong><code>solve</code></strong>: Solves the linear system <span class="math inline">\(\mathbf{A} \mathbf{x} = \mathbf{b}\)</span> for the unknown vector <span class="math inline">\(\mathbf{x}\)</span>. It can be called with the matrix <span class="math inline">\(\mathbf{A}\)</span> and the right-hand side vector <span class="math inline">\(\mathbf{b}\)</span> directly. For better performance and numerical stability, especially with large or ill-conditioned matrices, it is recommended to first compute a matrix decomposition of <span class="math inline">\(\mathbf{A}\)</span> and then call <code>solve</code> on the resulting decomposition object. Returns the solution vector <span class="math inline">\(\mathbf{x}\)</span>.</li>
</ul>
<p><code>QR</code>, <code>RRQR</code>, <code>Cholesky</code> and <code>SVD</code> decompositions solve in a least squares sense by finding <span class="math inline">\(\hat{\boldsymbol{x}} = \underset{\boldsymbol{x}}{\operatorname{arg\,min}}\left\|\mathbf b - \mathbf{A} \boldsymbol x \right\|^2\)</span></p>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb374"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb374-1"><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a>(mat/solve M2x2 (v/vec2 <span class="dv">1</span> <span class="dv">1</span>)) <span class="co">;; =&gt; #vec2 [-1.0, 1.0]</span></span>
<span id="cb374-2"><a href="#cb374-2" aria-hidden="true" tabindex="-1"></a>(mat/solve M3x3 V3) <span class="co">;; =&gt; #vec3 [-0.8088942307692308, -0.3533653846153847, 0.171875]</span></span>
<span id="cb374-3"><a href="#cb374-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> (mat/lu-decomposition M2x2) (mat/solve (v/vec2 <span class="dv">1</span> <span class="dv">1</span>))) <span class="co">;; =&gt; #vec2 [-1.0, 1.0]</span></span>
<span id="cb374-4"><a href="#cb374-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> (mat/sv-decomposition M3x3) (mat/solve V3)) <span class="co">;; =&gt; #vec3 [-0.8088942307692306, -0.3533653846153848, 0.17187500000000006]</span></span>
<span id="cb374-5"><a href="#cb374-5" aria-hidden="true" tabindex="-1"></a>(mat/singular? M4x4) <span class="co">;; =&gt; true</span></span>
<span id="cb374-6"><a href="#cb374-6" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> (mat/qr-decomposition M4x4) (mat/solve V4)) <span class="co">;; =&gt; #vec4 [2.4518612799761375E14, -4.262324200108071E15, 7.789090016223313E15, -3.771951944112856E15]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<ul>
<li><strong><code>inverse</code></strong>: Computes the inverse matrix <span class="math inline">\(\mathbf{A}^{-1}\)</span> such that <span class="math inline">\(\mathbf{A} \mathbf{A}^{-1} = \mathbf{A}^{-1} \mathbf{A} = \mathbf{I}\)</span>, where <span class="math inline">\(\mathbf{I}\)</span> is the identity matrix. Like <code>solve</code>, it can be called directly on a matrix <span class="math inline">\(\mathbf{A}\)</span>, but is more efficient when called on a pre-computed matrix decomposition object.</li>
</ul>
<p>When used on directly on a matrix <span class="math inline">\(\mathbf{A}\)</span>, returns the inverse matrix <span class="math inline">\(\mathbf{A}^{-1}\)</span>, or <code>nil</code> if the matrix is singular.</p>
<p>When used on decomposition, finds a pseudoinverse <span class="math inline">\(\mathbf{A^{+}}\)</span>.</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb375"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse M2x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb376"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb376-1"><a href="#cb376-1" aria-hidden="true" tabindex="-1"></a>#mat2x2 [[-<span class="fl">2.0</span>, <span class="fl">1.0</span>]</span>
<span id="cb376-2"><a href="#cb376-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">1.5</span>, -<span class="fl">0.5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb377"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb378"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb378-1"><a href="#cb378-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">0.39903846153846156</span>, -<span class="fl">0.1826923076923077</span>, -<span class="fl">0.014423076923076924</span>]</span>
<span id="cb378-2"><a href="#cb378-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.3942307692307693</span>, -<span class="fl">0.09615384615384616</span>, -<span class="fl">0.08653846153846154</span>]</span>
<span id="cb378-3"><a href="#cb378-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.0625</span>, <span class="fl">0.125</span>, <span class="fl">0.0625</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb379"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse M4x4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb380"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb380-1"><a href="#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="va">nil</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pseudoinverse</p>
<div class="sourceClojure">
<div class="sourceCode" id="cb381"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a>(mat/inverse (mat/sv-decomposition M4x4))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb382"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb382-1"><a href="#cb382-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[-<span class="fl">0.2849999999999999</span>, -<span class="fl">0.14499999999999996</span>, -<span class="fl">0.0049999999999998795</span>, <span class="fl">0.13499999999999987</span>]</span>
<span id="cb382-2"><a href="#cb382-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.10749999999999997</span>, -<span class="fl">0.05249999999999999</span>, <span class="fl">0.002500000000000044</span>, <span class="fl">0.057499999999999954</span>]</span>
<span id="cb382-3"><a href="#cb382-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.06999999999999976</span>, <span class="fl">0.039999999999999876</span>, <span class="fl">0.009999999999999959</span>, -<span class="fl">0.019999999999999872</span>]</span>
<span id="cb382-4"><a href="#cb382-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.2475000000000001</span>, <span class="fl">0.1325000000000001</span>, <span class="fl">0.017499999999999898</span>, -<span class="fl">0.09749999999999998</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math inline">\(\mathbf{A}\mathbf{A^{+}}\mathbf{A}=\mathbf{A}\)</span></p>
<div class="sourceClojure">
<div class="sourceCode" id="cb383"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> M4x4</span>
<span id="cb383-2"><a href="#cb383-2" aria-hidden="true" tabindex="-1"></a>    (mat/mulm (mat/inverse (mat/sv-decomposition M4x4)))</span>
<span id="cb383-3"><a href="#cb383-3" aria-hidden="true" tabindex="-1"></a>    (mat/mulm M4x4))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb384"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb384-1"><a href="#cb384-1" aria-hidden="true" tabindex="-1"></a>#mat4x4 [[<span class="fl">1.0000000000000004</span>, <span class="fl">2.0</span>, <span class="fl">3.0000000000000004</span>, <span class="fl">4.0</span>]</span>
<span id="cb384-2"><a href="#cb384-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">5.0</span>, <span class="fl">6.000000000000001</span>, <span class="fl">7.000000000000002</span>, <span class="fl">8.0</span>]</span>
<span id="cb384-3"><a href="#cb384-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">8.999999999999998</span>, <span class="fl">9.999999999999996</span>, <span class="fl">10.999999999999996</span>, <span class="fl">11.999999999999996</span>]</span>
<span id="cb384-4"><a href="#cb384-4" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">13.0</span>, <span class="fl">14.0</span>, <span class="fl">15.0</span>, <span class="fl">15.999999999999998</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong><code>singular?</code></strong>: Checks if a square matrix <span class="math inline">\(\mathbf{A}\)</span> is singular. A matrix is singular if its determinant is zero (<span class="math inline">\(\det(\mathbf{A}) = 0\)</span>), which means it is not invertible and the linear system <span class="math inline">\(\mathbf{A} \mathbf{x} = \mathbf{b}\)</span> may have no unique solution. This function can be called directly on a matrix or on a matrix decomposition object. Returns <code>true</code> if the matrix is singular, <code>false</code> otherwise.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb385"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a>(mat/singular? M2x2) <span class="co">;; =&gt; false</span></span>
<span id="cb385-2"><a href="#cb385-2" aria-hidden="true" tabindex="-1"></a>(mat/singular? M3x3) <span class="co">;; =&gt; false</span></span>
<span id="cb385-3"><a href="#cb385-3" aria-hidden="true" tabindex="-1"></a>(mat/singular? M4x4) <span class="co">;; =&gt; true</span></span>
<span id="cb385-4"><a href="#cb385-4" aria-hidden="true" tabindex="-1"></a>(mat/singular? (mat/sv-decomposition M4x4)) <span class="co">;; =&gt; true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="eigenvalues-and-singular-values" class="level3">
<h3 class="anchored" data-anchor-id="eigenvalues-and-singular-values">Eigenvalues and Singular Values</h3>
<p>This section provides functions to compute the eigenvalues and eigenvectors of square matrices and the singular values of arbitrary matrices. Eigenvalues and eigenvectors characterize how a linear transformation stretches or compresses space and the directions along which this occurs. Singular values generalize this concept to non-square matrices and are fundamental in dimensionality reduction, least squares problems, and matrix approximation. These functions rely on matrix decompositions, specifically the Eigen decomposition and Singular Value Decomposition (SVD).</p>
<p>See also [<a href="#eigen">Eigen</a>]</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>eigenvalues</code>, <code>singular-values</code>, <code>eigenvalues-matrix</code>, <code>eigenvectors</code></li>
</ul>
</div>
</div>
<ul>
<li><p><strong><code>eigenvalues</code></strong>: Computes the eigenvalues of a square matrix <span class="math inline">\(A\)</span>. Returns a sequence of 2D vectors (<code>Vec2</code>), where the <code>x</code> component is the real part of the eigenvalue and the <code>y</code> component is the imaginary part. If the matrix is real and symmetric, all imaginary parts will be zero.</p></li>
<li><p><strong><code>singular-values</code></strong>: Computes the singular values of an arbitrary matrix <span class="math inline">\(A\)</span>. These are the non-negative square roots of the eigenvalues of the positive semi-definite matrix <span class="math inline">\(A^T A\)</span>. Returns a sequence of non-negative double values, typically sorted in descending order.</p></li>
<li><p><strong><code>eigenvalues-matrix</code></strong>: Returns a matrix <span class="math inline">\(\mathbf{D}\)</span> from the Eigen decomposition <span class="math inline">\(\mathbf{A} = \mathbf{V} \mathbf{D} \mathbf{V}^{-1}\)</span>, where <span class="math inline">\(\mathbf{D}\)</span> is a diagonal matrix containing the real eigenvalues on its main diagonal, or a block diagonal matrix for complex conjugate pairs of eigenvalues. Only applies to square matrices.</p></li>
<li><p><strong><code>eigenvectors</code></strong>: Computes the eigenvectors of a square matrix <span class="math inline">\(A\)</span>. Returns a matrix <span class="math inline">\(\mathbf{V}\)</span> whose columns are the corresponding eigenvectors. If the matrix has complex eigenvalues, the corresponding eigenvectors will also be complex (represented by the columns of V from <code>EigenDecomposition</code> in ACM, which may not directly align with the real/imaginary pairs from <code>eigenvalues</code>). Can optionally normalize the eigenvectors.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb386"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb386-1"><a href="#cb386-1" aria-hidden="true" tabindex="-1"></a>(mat/eigenvalues M3x3) <span class="co">;; =&gt; [#vec2 [6.139295738866405, 0.0] #vec2 [3.430352130566805, 4.7024240370595765] #vec2 [3.430352130566805, -4.7024240370595765]]</span></span>
<span id="cb386-2"><a href="#cb386-2" aria-hidden="true" tabindex="-1"></a>(mat/singular-values M3x3) <span class="co">;; =&gt; (14.263589799142128 8.879932448938343 1.6421954037508997)</span></span>
<span id="cb386-3"><a href="#cb386-3" aria-hidden="true" tabindex="-1"></a>(mat/singular-values RealMat) <span class="co">;; =&gt; (9.508032000695724 0.7728696356734822 0.0)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb387"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a>(mat/eigenvalues-matrix M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb388"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[<span class="fl">6.139295738866405</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>]</span>
<span id="cb388-2"><a href="#cb388-2" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, <span class="fl">3.430352130566805</span>, <span class="fl">4.7024240370595765</span>]</span>
<span id="cb388-3"><a href="#cb388-3" aria-hidden="true" tabindex="-1"></a>         [<span class="fl">0.0</span>, -<span class="fl">4.7024240370595765</span>, <span class="fl">3.430352130566805</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb389"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a>(mat/eigenvectors M3x3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb390"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.5504760994745062</span>, <span class="fl">0.7356992766680194</span>, -<span class="fl">0.6062798689976012</span>]</span>
<span id="cb390-2"><a href="#cb390-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.672507425622208</span>, <span class="fl">1.623147213100584</span>, -<span class="fl">0.5083272487209609</span>]</span>
<span id="cb390-3"><a href="#cb390-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.4946815403775702</span>, <span class="fl">0.4642329691550204</span>, <span class="fl">1.0009169629182892</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceClojure">
<div class="sourceCode" id="cb391"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb391-1"><a href="#cb391-1" aria-hidden="true" tabindex="-1"></a>(mat/eigenvectors M3x3 <span class="va">true</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="printedClojure">
<div class="sourceCode" id="cb392"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb392-1"><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a>#mat3x3 [[-<span class="fl">0.5504760994745058</span>, <span class="fl">0.3994961319423593</span>, -<span class="fl">0.47519486669838584</span>]</span>
<span id="cb392-2"><a href="#cb392-2" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.6725074256222076</span>, <span class="fl">0.8813941426495508</span>, -<span class="fl">0.3984207814692755</span>]</span>
<span id="cb392-3"><a href="#cb392-3" aria-hidden="true" tabindex="-1"></a>         [-<span class="fl">0.49468154037756984</span>, <span class="fl">0.2520857113486531</span>, <span class="fl">0.7845066727293754</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matrix-norms-and-condition-number" class="level3">
<h3 class="anchored" data-anchor-id="matrix-norms-and-condition-number">Matrix Norms and Condition Number</h3>
<p>Functions to compute various matrix norms and the condition number. Matrix norms measure the â€œsizeâ€ or â€œmagnitudeâ€ of a matrix, and the condition number quantifies how sensitive the solution of a linear system is to changes in the input data. These concepts are vital for analyzing the properties of matrices, assessing the numerical stability of algorithms (like solving linear systems or computing inverses), and understanding the behaviour of transformations represented by matrices.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Defined functions">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defined functions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>norm</code></li>
<li><code>condition</code></li>
</ul>
</div>
</div>
<ul>
<li><p><strong><code>norm</code></strong>: Computes a specific matrix norm of <code>A</code>. The type of norm is specified by the <code>norm-type</code> argument. Supported types include:</p>
<ul>
<li><code>1</code>: The L1 norm (maximum absolute column sum). <span class="math inline">\(\Vert A \Vert_1 = \max_{j} \sum_{i=1}^m |a_{ij}|\)</span>.</li>
<li><code>:inf</code>: The L-infinity norm (maximum absolute row sum). <span class="math inline">\(\Vert A \Vert_\infty = \max_{i} \sum_{j=1}^n |a_{ij}|\)</span>.</li>
<li><code>2</code>: The spectral norm (largest singular value). <span class="math inline">\(\Vert A \Vert_2 = \sigma_{\max}(A)\)</span>.</li>
<li><code>:max</code>: The maximum absolute value norm. <span class="math inline">\(\Vert A \Vert_{\max} = \max_{i,j} |a_{ij}|\)</span>.</li>
<li><code>:frobenius</code>: The Frobenius norm. <span class="math inline">\(\Vert A \Vert_F = \sqrt{\sum_{i=1}^m \sum_{j=1}^n |a_{ij}|^2} = \sqrt{\operatorname{tr}(A^T A)}\)</span>. This is a special case of the generalized L<span class="math inline">\(_{p,q}\)</span> norm with <span class="math inline">\(p=2, q=2\)</span>.</li>
<li><code>[p, q]</code>: The generalized L<span class="math inline">\(_{p,q}\)</span> norm. A specific implementation is provided for <span class="math inline">\([2,2]\)</span> (Frobenius) and <span class="math inline">\([p,p]\)</span> (entrywise p-norm).</li>
<li><code>[p]</code>: The Schatten p-norm, which is the L-p norm of the vector of singular values. <span class="math inline">\(\Vert A \Vert_p = (\sum_{i=1}^{\min(m,n)} \sigma_i^p)^{1/p}\)</span>. Includes <code>:nuclear</code> or <code>:trace</code> norm for <span class="math inline">\(p=1\)</span>.</li>
</ul>
<p>If no <code>norm-type</code> is provided, it defaults to the L1 norm (<code>1</code>).</p></li>
<li><p><strong><code>condition</code></strong>: Computes the condition number of a matrix <code>A</code> with respect to a given norm <code>norm-type</code>. It is defined as <span class="math inline">\(\operatorname{cond}(A) = \Vert A \Vert \Vert A^{-1} \Vert\)</span>. A large condition number indicates that the matrix is close to being singular, and linear systems involving the matrix may be ill-conditioned, meaning small changes in the input can lead to large changes in the output solution.</p>
<p>Defaults to the L2 norm (<code>2</code>) for calculation.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceClojure">
<div class="sourceCode" id="cb393"><pre class="sourceCode clojure code-with-copy"><code class="sourceCode clojure"><span id="cb393-1"><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2) <span class="co">;; =&gt; 6.0</span></span>
<span id="cb393-2"><a href="#cb393-2" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 <span class="at">:inf</span>) <span class="co">;; =&gt; 7.0</span></span>
<span id="cb393-3"><a href="#cb393-3" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 <span class="dv">2</span>) <span class="co">;; =&gt; 5.464985704219042</span></span>
<span id="cb393-4"><a href="#cb393-4" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 <span class="at">:frobenius</span>) <span class="co">;; =&gt; 5.477225575051661</span></span>
<span id="cb393-5"><a href="#cb393-5" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 <span class="at">:max</span>) <span class="co">;; =&gt; 4.0</span></span>
<span id="cb393-6"><a href="#cb393-6" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 [<span class="dv">2</span> <span class="dv">2</span>]) <span class="co">;; =&gt; 5.477225575051661</span></span>
<span id="cb393-7"><a href="#cb393-7" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 [<span class="dv">3</span> <span class="dv">3</span>]) <span class="co">;; =&gt; 4.641588833612778</span></span>
<span id="cb393-8"><a href="#cb393-8" aria-hidden="true" tabindex="-1"></a>(mat/norm M2x2 [<span class="dv">1</span>]) <span class="co">;; =&gt; 5.830951894845294</span></span>
<span id="cb393-9"><a href="#cb393-9" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4) <span class="co">;; =&gt; 40.0</span></span>
<span id="cb393-10"><a href="#cb393-10" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 <span class="at">:inf</span>) <span class="co">;; =&gt; 58.0</span></span>
<span id="cb393-11"><a href="#cb393-11" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 <span class="dv">2</span>) <span class="co">;; =&gt; ##NaN</span></span>
<span id="cb393-12"><a href="#cb393-12" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 <span class="at">:frobenius</span>) <span class="co">;; =&gt; 38.67815921162743</span></span>
<span id="cb393-13"><a href="#cb393-13" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 <span class="at">:max</span>) <span class="co">;; =&gt; 16.0</span></span>
<span id="cb393-14"><a href="#cb393-14" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 [<span class="dv">2</span> <span class="dv">2</span>]) <span class="co">;; =&gt; 38.67815921162743</span></span>
<span id="cb393-15"><a href="#cb393-15" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 [<span class="dv">3</span> <span class="dv">3</span>]) <span class="co">;; =&gt; 26.445956073831777</span></span>
<span id="cb393-16"><a href="#cb393-16" aria-hidden="true" tabindex="-1"></a>(mat/norm M4x4 [<span class="dv">1</span>]) <span class="co">;; =&gt; ##NaN</span></span>
<span id="cb393-17"><a href="#cb393-17" aria-hidden="true" tabindex="-1"></a>(mat/condition M2x2) <span class="co">;; =&gt; 14.93303437365925</span></span>
<span id="cb393-18"><a href="#cb393-18" aria-hidden="true" tabindex="-1"></a>(mat/condition M2x2 <span class="at">:inf</span>) <span class="co">;; =&gt; 21.0</span></span>
<span id="cb393-19"><a href="#cb393-19" aria-hidden="true" tabindex="-1"></a>(mat/condition M2x2 <span class="dv">1</span>) <span class="co">;; =&gt; 21.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="reference" class="level2">
<h2 class="anchored" data-anchor-id="reference">Reference</h2>
<section id="fastmath.vector" class="level3">
<h3 class="anchored" data-anchor-id="fastmath.vector">fastmath.vector</h3>
<p>Provides mathematical vector operations for various vector types, inspired by libraries like Processing and openFrameworks.</p>
<p>Supported vector representations include:</p>
<ul>
<li><strong>Fixed-size custom types</strong>: <code>Vec2</code> (2D), <code>Vec3</code> (3D), <code>Vec4</code> (4D), and <code>ArrayVec</code> (N-dimensional wrapper around <code>double[]</code>).</li>
<li><strong>Built-in array type</strong>: <code>double</code> arrays (<code>[D</code>).</li>
<li><strong>Variable-size Clojure collections</strong>: persistent vectors (<code>[]</code>) and sequences (<code>ISeq</code>).</li>
<li><strong>Numbers</strong>: Treated as 1D vectors.</li>
</ul>
<p>Most operations are defined via the <a href="#LOS-VectorProto">VectorProto</a> protocol, which is extended for all supported types.</p>
<p>These vector types also implement standard Clojure/Java protocols like <code>Seqable</code>, <code>Indexed</code>, <code>IFn</code>, <code>Counted</code>, <code>Associative</code>, <code>IReduce</code>, <code>ILookup</code>, etc., enabling them to be used flexibly as sequences, arrays, or functions.</p>
<span id="#LOS-->ArrayVec"></span>
<section id="arrayvec" class="level4">
<h4 class="anchored" data-anchor-id="arrayvec">-&gt;ArrayVec</h4>
<ul>
<li><code>(-&gt;ArrayVec array)</code></li>
</ul>
<p>Positional factory function for class fastmath.vector.ArrayVec.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L231">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->Vec2"></span>
</section>
<section id="vec2" class="level4">
<h4 class="anchored" data-anchor-id="vec2">-&gt;Vec2</h4>
<ul>
<li><code>(-&gt;Vec2 x y)</code></li>
</ul>
<p>Positional factory function for class fastmath.vector.Vec2.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L702">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->Vec3"></span>
</section>
<section id="vec3" class="level4">
<h4 class="anchored" data-anchor-id="vec3">-&gt;Vec3</h4>
<ul>
<li><code>(-&gt;Vec3 x y z)</code></li>
</ul>
<p>Positional factory function for class fastmath.vector.Vec3.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L495">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->Vec4"></span>
</section>
<section id="vec4" class="level4">
<h4 class="anchored" data-anchor-id="vec4">-&gt;Vec4</h4>
<ul>
<li><code>(-&gt;Vec4 x y z w)</code></li>
</ul>
<p>Positional factory function for class fastmath.vector.Vec4.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L371">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-abs"></span>
</section>
<section id="abs" class="level4">
<h4 class="anchored" data-anchor-id="abs">abs</h4>
<ul>
<li><code>(abs v)</code></li>
</ul>
<p>Absolute value of vector elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L937">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acos"></span>
</section>
<section id="acos" class="level4">
<h4 class="anchored" data-anchor-id="acos">acos</h4>
<ul>
<li><code>(acos vector)</code></li>
</ul>
<p>Applies acos to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acosh"></span>
</section>
<section id="acosh" class="level4">
<h4 class="anchored" data-anchor-id="acosh">acosh</h4>
<ul>
<li><code>(acosh vector)</code></li>
</ul>
<p>Applies acosh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acot"></span>
</section>
<section id="acot" class="level4">
<h4 class="anchored" data-anchor-id="acot">acot</h4>
<ul>
<li><code>(acot vector)</code></li>
</ul>
<p>Applies acot to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acoth"></span>
</section>
<section id="acoth" class="level4">
<h4 class="anchored" data-anchor-id="acoth">acoth</h4>
<ul>
<li><code>(acoth vector)</code></li>
</ul>
<p>Applies acoth to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acsc"></span>
</section>
<section id="acsc" class="level4">
<h4 class="anchored" data-anchor-id="acsc">acsc</h4>
<ul>
<li><code>(acsc vector)</code></li>
</ul>
<p>Applies acsc to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acsch"></span>
</section>
<section id="acsch" class="level4">
<h4 class="anchored" data-anchor-id="acsch">acsch</h4>
<ul>
<li><code>(acsch vector)</code></li>
</ul>
<p>Applies acsch to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-add"></span>
</section>
<section id="add" class="level4">
<h4 class="anchored" data-anchor-id="add">add</h4>
<ul>
<li><code>(add v)</code></li>
<li><code>(add v1 v2)</code></li>
</ul>
<p>Sum of two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L912">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-aligned?"></span>
</section>
<section id="aligned" class="level4">
<h4 class="anchored" data-anchor-id="aligned">aligned?</h4>
<ul>
<li><code>(aligned? v1 v2 tol)</code></li>
<li><code>(aligned? v1 v2)</code></li>
</ul>
<p>Checks if two vectors are aligned, meaning they point in approximately the same direction. This is determined by checking if the angle between them (calculated using <a href="#LOS-angle-between">angle-between</a>) is less than the specified <code>tolerance</code>.</p>
<p>Defaults to an absolute tolerance of <code>1.0e-6</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1267">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-angle-between"></span>
</section>
<section id="angle-between" class="level4">
<h4 class="anchored" data-anchor-id="angle-between">angle-between</h4>
<ul>
<li><code>(angle-between v1 v2)</code></li>
</ul>
<p>Returns the angle between two vectors in radians.</p>
<p>The angle is always positive and lies between 0 and Ï€. Returns 0 if either vector is zero.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1241">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-applyf"></span>
</section>
<section id="applyf-deprecated" class="level4">
<h4 class="anchored" data-anchor-id="applyf-deprecated">applyf <sup><sub>DEPRECATED</sub></sup></h4>
<p><em>Deprecated: v1.3.0</em></p>
<p>Same as <a href="#LOS-fmap">fmap</a>. Deprecated.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L834">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-approx"></span>
</section>
<section id="approx" class="level4">
<h4 class="anchored" data-anchor-id="approx">approx</h4>
<ul>
<li><code>(approx v)</code></li>
<li><code>(approx v d)</code></li>
</ul>
<p>Rounds to <code>d</code> (default: 2) decimal places</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L888">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array->vec2"></span>
</section>
<section id="array-vec2" class="level4">
<h4 class="anchored" data-anchor-id="array-vec2">array-&gt;vec2</h4>
<ul>
<li><code>(array-&gt;vec2 arr)</code></li>
</ul>
<p>Converts doubles array to Vec2</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1312">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array->vec3"></span>
</section>
<section id="array-vec3" class="level4">
<h4 class="anchored" data-anchor-id="array-vec3">array-&gt;vec3</h4>
<ul>
<li><code>(array-&gt;vec3 arr)</code></li>
</ul>
<p>Converts doubles array to Vec3</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1317">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array->vec4"></span>
</section>
<section id="array-vec4" class="level4">
<h4 class="anchored" data-anchor-id="array-vec4">array-&gt;vec4</h4>
<ul>
<li><code>(array-&gt;vec4 arr)</code></li>
</ul>
<p>Converts doubles array to Vec4</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1322">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array-vec"></span>
</section>
<section id="array-vec" class="level4">
<h4 class="anchored" data-anchor-id="array-vec">array-vec</h4>
<ul>
<li><code>(array-vec xs)</code></li>
</ul>
<p>Creates ArrayVec type based on provided sequence <code>xs</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1093">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-as-vec"></span>
</section>
<section id="as-vec" class="level4">
<h4 class="anchored" data-anchor-id="as-vec">as-vec</h4>
<ul>
<li><code>(as-vec v)</code></li>
<li><code>(as-vec v xs)</code></li>
</ul>
<p>Creates vector from sequence as given type. If there is no sequence fill with <code>0.0</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L866">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asec"></span>
</section>
<section id="asec" class="level4">
<h4 class="anchored" data-anchor-id="asec">asec</h4>
<ul>
<li><code>(asec vector)</code></li>
</ul>
<p>Applies asec to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asech"></span>
</section>
<section id="asech" class="level4">
<h4 class="anchored" data-anchor-id="asech">asech</h4>
<ul>
<li><code>(asech vector)</code></li>
</ul>
<p>Applies asech to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asin"></span>
</section>
<section id="asin" class="level4">
<h4 class="anchored" data-anchor-id="asin">asin</h4>
<ul>
<li><code>(asin vector)</code></li>
</ul>
<p>Applies asin to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asinh"></span>
</section>
<section id="asinh" class="level4">
<h4 class="anchored" data-anchor-id="asinh">asinh</h4>
<ul>
<li><code>(asinh vector)</code></li>
</ul>
<p>Applies asinh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-atan"></span>
</section>
<section id="atan" class="level4">
<h4 class="anchored" data-anchor-id="atan">atan</h4>
<ul>
<li><code>(atan vector)</code></li>
</ul>
<p>Applies atan to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-atanh"></span>
</section>
<section id="atanh" class="level4">
<h4 class="anchored" data-anchor-id="atanh">atanh</h4>
<ul>
<li><code>(atanh vector)</code></li>
</ul>
<p>Applies atanh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-average"></span>
</section>
<section id="average" class="level4">
<h4 class="anchored" data-anchor-id="average">average</h4>
<ul>
<li><code>(average v)</code></li>
<li><code>(average v weights)</code></li>
</ul>
<p>Mean or weighted average of the vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1149">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-average-vectors"></span>
</section>
<section id="average-vectors" class="level4">
<h4 class="anchored" data-anchor-id="average-vectors">average-vectors</h4>
<ul>
<li><code>(average-vectors init vs)</code></li>
<li><code>(average-vectors vs)</code></li>
</ul>
<p>Average / centroid of vectors. Input: initial vector (optional), list of vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1143">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-axis-rotate"></span>
</section>
<section id="axis-rotate" class="level4">
<h4 class="anchored" data-anchor-id="axis-rotate">axis-rotate</h4>
<ul>
<li><code>(axis-rotate v angle axis)</code></li>
<li><code>(axis-rotate v angle axis pivot)</code></li>
</ul>
<p>Rotates vector. Only for <code>Vec3</code> types</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1038">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-base-from"></span>
</section>
<section id="base-from" class="level4">
<h4 class="anchored" data-anchor-id="base-from">base-from</h4>
<ul>
<li><code>(base-from v)</code></li>
</ul>
<p>List of perpendicular vectors (basis). Works only for <code>Vec2</code> and <code>Vec3</code> types.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L965">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cb"></span>
</section>
<section id="cb" class="level4">
<h4 class="anchored" data-anchor-id="cb">cb</h4>
<ul>
<li><code>(cb vector)</code></li>
</ul>
<p>Applies cb to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cbrt"></span>
</section>
<section id="cbrt" class="level4">
<h4 class="anchored" data-anchor-id="cbrt">cbrt</h4>
<ul>
<li><code>(cbrt vector)</code></li>
</ul>
<p>Applies cbrt to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ceil"></span>
</section>
<section id="ceil" class="level4">
<h4 class="anchored" data-anchor-id="ceil">ceil</h4>
<ul>
<li><code>(ceil vector)</code></li>
</ul>
<p>Applies ceil to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-clamp"></span>
</section>
<section id="clamp" class="level4">
<h4 class="anchored" data-anchor-id="clamp">clamp</h4>
<ul>
<li><code>(clamp v mn mx)</code></li>
<li><code>(clamp v)</code></li>
</ul>
<p>Clamps the elements of vector <code>v</code> element-wise between a minimum (<code>mn</code>) and maximum (<code>mx</code>) value.</p>
<p>In the single-arity version <code>[v]</code>, elements are clamped between 0.0 and <code>Double/MAX_VALUE</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1130">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cos"></span>
</section>
<section id="cos" class="level4">
<h4 class="anchored" data-anchor-id="cos">cos</h4>
<ul>
<li><code>(cos vector)</code></li>
</ul>
<p>Applies cos to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cosh"></span>
</section>
<section id="cosh" class="level4">
<h4 class="anchored" data-anchor-id="cosh">cosh</h4>
<ul>
<li><code>(cosh vector)</code></li>
</ul>
<p>Applies cosh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cot"></span>
</section>
<section id="cot" class="level4">
<h4 class="anchored" data-anchor-id="cot">cot</h4>
<ul>
<li><code>(cot vector)</code></li>
</ul>
<p>Applies cot to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-coth"></span>
</section>
<section id="coth" class="level4">
<h4 class="anchored" data-anchor-id="coth">coth</h4>
<ul>
<li><code>(coth vector)</code></li>
</ul>
<p>Applies coth to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cross"></span>
</section>
<section id="cross" class="level4">
<h4 class="anchored" data-anchor-id="cross">cross</h4>
<ul>
<li><code>(cross v1 v2)</code></li>
</ul>
<p>Cross product</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1029">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-csc"></span>
</section>
<section id="csc" class="level4">
<h4 class="anchored" data-anchor-id="csc">csc</h4>
<ul>
<li><code>(csc vector)</code></li>
</ul>
<p>Applies csc to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-csch"></span>
</section>
<section id="csch" class="level4">
<h4 class="anchored" data-anchor-id="csch">csch</h4>
<ul>
<li><code>(csch vector)</code></li>
</ul>
<p>Applies csch to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-degrees"></span>
</section>
<section id="degrees" class="level4">
<h4 class="anchored" data-anchor-id="degrees">degrees</h4>
<ul>
<li><code>(degrees vector)</code></li>
</ul>
<p>Applies degrees to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-delta-eq"></span>
</section>
<section id="delta-eq" class="level4">
<h4 class="anchored" data-anchor-id="delta-eq">delta-eq</h4>
<ul>
<li><code>(delta-eq v1 v2)</code></li>
<li><code>(delta-eq v1 v2 abs-tol)</code></li>
<li><code>(delta-eq v1 v2 abs-tol rel-tol)</code></li>
</ul>
<p>Equality with given absolute (and/or relative) toleance.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L893">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dhash-code"></span>
</section>
<section id="dhash-code" class="level4">
<h4 class="anchored" data-anchor-id="dhash-code">dhash-code</h4>
<ul>
<li><code>(dhash-code state a)</code></li>
<li><code>(dhash-code a)</code></li>
</ul>
<p>double hashcode</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L353">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist"></span>
</section>
<section id="dist" class="level4">
<h4 class="anchored" data-anchor-id="dist">dist</h4>
<ul>
<li><code>(dist v1 v2)</code></li>
</ul>
<p>Euclidean distance between vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1154">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-abs"></span>
</section>
<section id="dist-abs" class="level4">
<h4 class="anchored" data-anchor-id="dist-abs">dist-abs</h4>
<ul>
<li><code>(dist-abs v1 v2)</code></li>
</ul>
<p>Manhattan distance between vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1164">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-ang"></span>
</section>
<section id="dist-ang" class="level4">
<h4 class="anchored" data-anchor-id="dist-ang">dist-ang</h4>
<ul>
<li><code>(dist-ang v1 v2)</code></li>
</ul>
<p>Angular distance</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1199">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-canberra"></span>
</section>
<section id="dist-canberra" class="level4">
<h4 class="anchored" data-anchor-id="dist-canberra">dist-canberra</h4>
<ul>
<li><code>(dist-canberra v1 v2)</code></li>
</ul>
<p>Canberra distance</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1186">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-cheb"></span>
</section>
<section id="dist-cheb" class="level4">
<h4 class="anchored" data-anchor-id="dist-cheb">dist-cheb</h4>
<ul>
<li><code>(dist-cheb v1 v2)</code></li>
</ul>
<p>Chebyshev distance between 2d vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1169">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-discrete"></span>
</section>
<section id="dist-discrete" class="level4">
<h4 class="anchored" data-anchor-id="dist-discrete">dist-discrete</h4>
<ul>
<li><code>(dist-discrete v1 v2)</code></li>
<li><code>(dist-discrete v1 v2 eps)</code></li>
</ul>
<p>Computes the discrete distance between two vectors <code>v1</code> and <code>v2</code>.</p>
<p>This is the number of positions where the corresponding elements are considered different. With an optional absolute tolerance <code>eps</code>, elements at index <code>i</code> are considered different if <code>|v1_i - v2_i| &gt; eps</code>.</p>
<p>Returns the count of differing elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1174">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-emd"></span>
</section>
<section id="dist-emd" class="level4">
<h4 class="anchored" data-anchor-id="dist-emd">dist-emd</h4>
<ul>
<li><code>(dist-emd v1 v2)</code></li>
</ul>
<p>Earth Moverâ€™s Distance</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1193">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dist-sq"></span>
</section>
<section id="dist-sq" class="level4">
<h4 class="anchored" data-anchor-id="dist-sq">dist-sq</h4>
<ul>
<li><code>(dist-sq v1 v2)</code></li>
</ul>
<p>Squared Euclidean distance between vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1159">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-distances"></span>
</section>
<section id="distances" class="level4">
<h4 class="anchored" data-anchor-id="distances">distances</h4>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1210">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-div"></span>
</section>
<section id="div" class="level4">
<h4 class="anchored" data-anchor-id="div">div</h4>
<ul>
<li><code>(div v1 v)</code></li>
<li><code>(div v1)</code></li>
</ul>
<p>Vector division or reciprocal.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1114">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-dot"></span>
</section>
<section id="dot" class="level4">
<h4 class="anchored" data-anchor-id="dot">dot</h4>
<ul>
<li><code>(dot v1 v2)</code></li>
</ul>
<p>Dot product of two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L908">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-econstrain"></span>
</section>
<section id="econstrain" class="level4">
<h4 class="anchored" data-anchor-id="econstrain">econstrain</h4>
<ul>
<li><code>(econstrain v mn mx)</code></li>
</ul>
<p>Element-wise constrain</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1001">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-edelta-eq"></span>
</section>
<section id="edelta-eq" class="level4">
<h4 class="anchored" data-anchor-id="edelta-eq">edelta-eq</h4>
<ul>
<li><code>(edelta-eq v1 v2)</code></li>
<li><code>(edelta-eq v1 v2 abs-tol)</code></li>
<li><code>(edelta-eq v1 v2 abs-tol rel-tol)</code></li>
</ul>
<p>Element-wise equality with given absolute (and/or relative) toleance.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L899">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ediv"></span>
</section>
<section id="ediv" class="level4">
<h4 class="anchored" data-anchor-id="ediv">ediv</h4>
<ul>
<li><code>(ediv v1 v2)</code></li>
</ul>
<p>Element-wise division of two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1119">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-einterpolate"></span>
</section>
<section id="einterpolate" class="level4">
<h4 class="anchored" data-anchor-id="einterpolate">einterpolate</h4>
<ul>
<li><code>(einterpolate v1 v2 v)</code></li>
<li><code>(einterpolate v1 v2 v f)</code></li>
</ul>
<p>Interpolates vector selement-wise, optionally set interpolation fn (default: lerp)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L996">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-emn"></span>
</section>
<section id="emn" class="level4">
<h4 class="anchored" data-anchor-id="emn">emn</h4>
<ul>
<li><code>(emn v1 v2)</code></li>
</ul>
<p>Element-wise min from two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L953">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-emult"></span>
</section>
<section id="emult" class="level4">
<h4 class="anchored" data-anchor-id="emult">emult</h4>
<ul>
<li><code>(emult v1)</code></li>
<li><code>(emult v1 v2)</code></li>
</ul>
<p>Element-wise vector multiplication (Hadamard product).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L932">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-emx"></span>
</section>
<section id="emx" class="level4">
<h4 class="anchored" data-anchor-id="emx">emx</h4>
<ul>
<li><code>(emx v1 v2)</code></li>
</ul>
<p>Element-wise max from two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L949">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-exp"></span>
</section>
<section id="exp" class="level4">
<h4 class="anchored" data-anchor-id="exp">exp</h4>
<ul>
<li><code>(exp vector)</code></li>
</ul>
<p>Applies exp to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-expm1"></span>
</section>
<section id="expm1" class="level4">
<h4 class="anchored" data-anchor-id="expm1">expm1</h4>
<ul>
<li><code>(expm1 vector)</code></li>
</ul>
<p>Applies expm1 to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-faceforward"></span>
</section>
<section id="faceforward" class="level4">
<h4 class="anchored" data-anchor-id="faceforward">faceforward</h4>
<ul>
<li><code>(faceforward n v)</code></li>
</ul>
<p>Flips vector <code>n</code> if <code>dot(n, v)</code> is negative. Returns <code>n</code> if <code>dot(n, v)</code> is non-negative. Useful for ensuring consistent vector orientation, such as making a normal vector face towards a reference vector <code>v</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1278">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-floor"></span>
</section>
<section id="floor" class="level4">
<h4 class="anchored" data-anchor-id="floor">floor</h4>
<ul>
<li><code>(floor vector)</code></li>
</ul>
<p>Applies floor to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-fmap"></span>
</section>
<section id="fmap" class="level4">
<h4 class="anchored" data-anchor-id="fmap">fmap</h4>
<ul>
<li><code>(fmap v f)</code></li>
</ul>
<p>Applies function to all vector values (like map but returns the same type).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L875">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-frac"></span>
</section>
<section id="frac" class="level4">
<h4 class="anchored" data-anchor-id="frac">frac</h4>
<ul>
<li><code>(frac vector)</code></li>
</ul>
<p>Applies frac to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-from-polar"></span>
</section>
<section id="from-polar" class="level4">
<h4 class="anchored" data-anchor-id="from-polar">from-polar</h4>
<ul>
<li><code>(from-polar v)</code></li>
</ul>
<p>From polar coordinates (2d, 3d only)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1061">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-generate-vec2"></span>
</section>
<section id="generate-vec2" class="level4">
<h4 class="anchored" data-anchor-id="generate-vec2">generate-vec2</h4>
<ul>
<li><code>(generate-vec2 f1 f2)</code></li>
<li><code>(generate-vec2 f)</code></li>
</ul>
<p>Generates Vec2 with fn(s)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1291">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-generate-vec3"></span>
</section>
<section id="generate-vec3" class="level4">
<h4 class="anchored" data-anchor-id="generate-vec3">generate-vec3</h4>
<ul>
<li><code>(generate-vec3 f1 f2 f3)</code></li>
<li><code>(generate-vec3 f)</code></li>
</ul>
<p>Generates Vec3 with fn(s)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1298">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-generate-vec4"></span>
</section>
<section id="generate-vec4" class="level4">
<h4 class="anchored" data-anchor-id="generate-vec4">generate-vec4</h4>
<ul>
<li><code>(generate-vec4 f1 f2 f3 f4)</code></li>
<li><code>(generate-vec4 f)</code></li>
</ul>
<p>Generates Vec4 with fn(s)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1305">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-heading"></span>
</section>
<section id="heading" class="level4">
<h4 class="anchored" data-anchor-id="heading">heading</h4>
<ul>
<li><code>(heading v)</code></li>
</ul>
<p>Angle between vector and unit vector <code>[1,0,...]</code></p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1025">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-interpolate"></span>
</section>
<section id="interpolate" class="level4">
<h4 class="anchored" data-anchor-id="interpolate">interpolate</h4>
<ul>
<li><code>(interpolate v1 v2 t)</code></li>
<li><code>(interpolate v1 v2 t f)</code></li>
</ul>
<p>Interpolates vectors, optionally set interpolation fn (default: lerp)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L987">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-is-near-zero?"></span>
</section>
<section id="is-near-zero" class="level4">
<h4 class="anchored" data-anchor-id="is-near-zero">is-near-zero?</h4>
<ul>
<li><code>(is-near-zero? v)</code></li>
<li><code>(is-near-zero? v abs-tol)</code></li>
<li><code>(is-near-zero? v abs-tol rel-tol)</code></li>
</ul>
<p>Equality to zero <code>0</code> with given absolute (and/or relative) toleance.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1013">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-is-zero?"></span>
</section>
<section id="is-zero" class="level4">
<h4 class="anchored" data-anchor-id="is-zero">is-zero?</h4>
<ul>
<li><code>(is-zero? v)</code></li>
</ul>
<p>Is vector zero?</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1005">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-lerp"></span>
</section>
<section id="lerp" class="level4">
<h4 class="anchored" data-anchor-id="lerp">lerp</h4>
<ul>
<li><code>(lerp v1 v2 t)</code></li>
</ul>
<p>Linear interpolation of vectors</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L992">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-limit"></span>
</section>
<section id="limit" class="level4">
<h4 class="anchored" data-anchor-id="limit">limit</h4>
<ul>
<li><code>(limit v len)</code></li>
</ul>
<p>Limits length of the vector by given value</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1234">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ln"></span>
</section>
<section id="ln" class="level4">
<h4 class="anchored" data-anchor-id="ln">ln</h4>
<ul>
<li><code>(ln vector)</code></li>
</ul>
<p>Applies ln to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log"></span>
</section>
<section id="log" class="level4">
<h4 class="anchored" data-anchor-id="log">log</h4>
<ul>
<li><code>(log vector)</code></li>
</ul>
<p>Applies log to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log10"></span>
</section>
<section id="log10" class="level4">
<h4 class="anchored" data-anchor-id="log10">log10</h4>
<ul>
<li><code>(log10 vector)</code></li>
</ul>
<p>Applies log10 to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1mexp"></span>
</section>
<section id="log1mexp" class="level4">
<h4 class="anchored" data-anchor-id="log1mexp">log1mexp</h4>
<ul>
<li><code>(log1mexp vector)</code></li>
</ul>
<p>Applies log1mexp to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1p"></span>
</section>
<section id="log1p" class="level4">
<h4 class="anchored" data-anchor-id="log1p">log1p</h4>
<ul>
<li><code>(log1p vector)</code></li>
</ul>
<p>Applies log1p to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1pexp"></span>
</section>
<section id="log1pexp" class="level4">
<h4 class="anchored" data-anchor-id="log1pexp">log1pexp</h4>
<ul>
<li><code>(log1pexp vector)</code></li>
</ul>
<p>Applies log1pexp to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1pmx"></span>
</section>
<section id="log1pmx" class="level4">
<h4 class="anchored" data-anchor-id="log1pmx">log1pmx</h4>
<ul>
<li><code>(log1pmx vector)</code></li>
</ul>
<p>Applies log1pmx to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1psq"></span>
</section>
<section id="log1psq" class="level4">
<h4 class="anchored" data-anchor-id="log1psq">log1psq</h4>
<ul>
<li><code>(log1psq vector)</code></li>
</ul>
<p>Applies log1psq to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log2"></span>
</section>
<section id="log2" class="level4">
<h4 class="anchored" data-anchor-id="log2">log2</h4>
<ul>
<li><code>(log2 vector)</code></li>
</ul>
<p>Applies log2 to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logexpm1"></span>
</section>
<section id="logexpm1" class="level4">
<h4 class="anchored" data-anchor-id="logexpm1">logexpm1</h4>
<ul>
<li><code>(logexpm1 vector)</code></li>
</ul>
<p>Applies logexpm1 to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logit"></span>
</section>
<section id="logit" class="level4">
<h4 class="anchored" data-anchor-id="logit">logit</h4>
<ul>
<li><code>(logit vector)</code></li>
</ul>
<p>Applies logit to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logmeanexp"></span>
</section>
<section id="logmeanexp" class="level4">
<h4 class="anchored" data-anchor-id="logmeanexp">logmeanexp</h4>
<ul>
<li><code>(logmeanexp v)</code></li>
</ul>
<p>Calculates the numerically stable log of the mean of the exponential of each element in vector <code>v</code>.</p>
<p>This is equivalent to <code>log(mean(exp(v_i)))</code> for all elements <code>v_i</code> in <code>v</code>. It provides a numerically stable way to compute <code>log(sum(exp(v_i))) - log(count(v))</code> by shifting values to prevent overflow during exponentiation.</p>
<p>Often used in machine learning and statistical contexts where dealing with large values inside exponentials is common.</p>
<p>Returns a double value.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1421">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logmxp1"></span>
</section>
<section id="logmxp1" class="level4">
<h4 class="anchored" data-anchor-id="logmxp1">logmxp1</h4>
<ul>
<li><code>(logmxp1 vector)</code></li>
</ul>
<p>Applies logmxp1 to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logsoftmax"></span>
</section>
<section id="logsoftmax" class="level4">
<h4 class="anchored" data-anchor-id="logsoftmax">logsoftmax</h4>
<ul>
<li><code>(logsoftmax v)</code></li>
<li><code>(logsoftmax v t)</code></li>
</ul>
<p>Calculates the element-wise natural logarithm of the softmax function for the given vector <code>v</code>.</p>
<p>The standard log-softmax of an element <span class="math inline">\(v_i\)</span> is <span class="math inline">\(\log(\operatorname{softmax}(v)_i)\)</span>, which is mathematically equivalent to <span class="math inline">\(v_i - \log(\sum_j \exp(v_j))\)</span>. This function provides a numerically stable implementation of this calculation, particularly useful for avoiding overflow and underflow issues when dealing with large or small exponential values.</p>
<p>It supports two arities: - <code>[v]</code>: Computes the standard log-softmax using the numerically stable form. - <code>[v t]</code>: Computes the temperature-scaled log-softmax. Elements are divided by the temperature <code>t</code> <em>before</em> applying the log-softmax formula, i.e., <span class="math inline">\(\frac{v_i}{t} - \log(\sum_j \wxp(\fac{v_j}{t}))\)</span>. The temperature influences the shape of the corresponding softmax output distribution: <span class="math inline">\(t &gt; 1\)</span> softens it, <span class="math inline">\(t &lt; 1\)</span> sharpens it.</p>
<p>Log-softmax is frequently used in numerical computations, especially in machine learning (e.g., as part of the cross-entropy loss function) for its superior numerical properties.</p>
<p>Returns a new vector of the same type and dimension as the input.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1388">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logsumexp"></span>
</section>
<section id="logsumexp" class="level4">
<h4 class="anchored" data-anchor-id="logsumexp">logsumexp</h4>
<ul>
<li><code>(logsumexp v)</code></li>
</ul>
<p>Calculates the LogSumExp of the vector <code>v</code>.</p>
<p>This is the numerically stable computation of <code>log(sum(exp(x_i)))</code> for all elements <code>x_i</code> in <code>v</code>. It is often used to prevent overflow when exponentiating large numbers, especially in machine learning and statistics.</p>
<p>Returns a double value.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1410">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mag"></span>
</section>
<section id="mag" class="level4">
<h4 class="anchored" data-anchor-id="mag">mag</h4>
<ul>
<li><code>(mag v)</code></li>
</ul>
<p>Returns length of the vector.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L884">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-magsq"></span>
</section>
<section id="magsq" class="level4">
<h4 class="anchored" data-anchor-id="magsq">magsq</h4>
<ul>
<li><code>(magsq v)</code></li>
</ul>
<p>Returns length of the vector squared.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L880">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-make-vector"></span>
</section>
<section id="make-vector" class="level4">
<h4 class="anchored" data-anchor-id="make-vector">make-vector</h4>
<ul>
<li><code>(make-vector dims xs)</code></li>
<li><code>(make-vector dims)</code></li>
</ul>
<p>Returns fixed size vector for given number of dimensions.</p>
<p>Proper type is used.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1098">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-maxdim"></span>
</section>
<section id="maxdim" class="level4">
<h4 class="anchored" data-anchor-id="maxdim">maxdim</h4>
<ul>
<li><code>(maxdim v)</code></li>
</ul>
<p>Index of maximum value.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L957">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mindim"></span>
</section>
<section id="mindim" class="level4">
<h4 class="anchored" data-anchor-id="mindim">mindim</h4>
<ul>
<li><code>(mindim v)</code></li>
</ul>
<p>Index of minimum value.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L961">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mn"></span>
</section>
<section id="mn" class="level4">
<h4 class="anchored" data-anchor-id="mn">mn</h4>
<ul>
<li><code>(mn v)</code></li>
</ul>
<p>Minimum value of vector elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L945">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mult"></span>
</section>
<section id="mult" class="level4">
<h4 class="anchored" data-anchor-id="mult">mult</h4>
<ul>
<li><code>(mult v)</code></li>
<li><code>(mult v x)</code></li>
</ul>
<p>Multiplies vector by number <code>x</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L927">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mx"></span>
</section>
<section id="mx" class="level4">
<h4 class="anchored" data-anchor-id="mx">mx</h4>
<ul>
<li><code>(mx v)</code></li>
</ul>
<p>Maximum value of vector elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L941">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-near-zero?"></span>
</section>
<section id="near-zero" class="level4">
<h4 class="anchored" data-anchor-id="near-zero">near-zero?</h4>
<ul>
<li><code>(near-zero? v)</code></li>
<li><code>(near-zero? v abs-tol)</code></li>
<li><code>(near-zero? v abs-tol rel-tol)</code></li>
</ul>
<p>Equality to zero <code>0</code> with given absolute (and/or relative) toleance.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1019">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-nonzero-count"></span>
</section>
<section id="nonzero-count" class="level4">
<h4 class="anchored" data-anchor-id="nonzero-count">nonzero-count</h4>
<ul>
<li><code>(nonzero-count v)</code></li>
</ul>
<p>Counts non zero velues in vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1137">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-normalize"></span>
</section>
<section id="normalize" class="level4">
<h4 class="anchored" data-anchor-id="normalize">normalize</h4>
<ul>
<li><code>(normalize v)</code></li>
</ul>
<p>Returns a new vector with the same direction as <code>v</code> but with a magnitude of 1.</p>
<p>If <code>v</code> is a zero vector (magnitude is zero), returns a zero vector of the same type.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1219">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-orthogonal-polynomials"></span>
</section>
<section id="orthogonal-polynomials" class="level4">
<h4 class="anchored" data-anchor-id="orthogonal-polynomials">orthogonal-polynomials</h4>
<ul>
<li><code>(orthogonal-polynomials xs)</code></li>
</ul>
<p>Generates a sequence of orthogonal vectors by evaluating orthogonal polynomials at the points specified in the input sequence <code>xs</code>.</p>
<p>The output vectors represent the values of orthogonal polynomials evaluated at the elements of <code>xs</code>. Orthogonality is defined with respect to the discrete inner product based on summation over the points in <code>xs</code>.</p>
<p>The sequence starts with the vector for the polynomial of degree 1 and includes vectors up to degree <code>(count xs) - 1</code>.</p>
<p>This function is useful for constructing orthogonal bases for polynomial approximation or regression on discrete data.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1438">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-orthonormal-polynomials"></span>
</section>
<section id="orthonormal-polynomials" class="level4">
<h4 class="anchored" data-anchor-id="orthonormal-polynomials">orthonormal-polynomials</h4>
<ul>
<li><code>(orthonormal-polynomials xs)</code></li>
</ul>
<p>Generates a sequence of orthonormal vectors by evaluating orthogonal polynomials at the points specified in the input sequence <code>xs</code> and normalizing the resulting vectors.</p>
<p>The sequence starts with the vector for the polynomial of degree 1 and includes vectors up to degree <code>(count xs) - 1</code>. Orthogonality (and thus orthonormality after normalization) is with respect to the discrete inner product based on summation over the points in <code>xs</code>.</p>
<p>This function produces an orthonormal basis suitable for polynomial approximation or regression on discrete data points defined by <code>xs</code>, derived from the orthogonal basis computed by <a href="#LOS-orthogonal-polynomials">orthogonal-polynomials</a>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1462">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-permute"></span>
</section>
<section id="permute" class="level4">
<h4 class="anchored" data-anchor-id="permute">permute</h4>
<ul>
<li><code>(permute v idxs)</code></li>
</ul>
<p>Permutes vector elements with given indices.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L979">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-perpendicular"></span>
</section>
<section id="perpendicular" class="level4">
<h4 class="anchored" data-anchor-id="perpendicular">perpendicular</h4>
<ul>
<li><code>(perpendicular v)</code></li>
<li><code>(perpendicular v1 v2)</code></li>
</ul>
<p>Perpendicular vector. Only for <code>Vec2</code> and <code>Vec3</code> types.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1043">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-pow"></span>
</section>
<section id="pow" class="level4">
<h4 class="anchored" data-anchor-id="pow">pow</h4>
<ul>
<li><code>(pow v exponent)</code></li>
</ul>
<p>Applies power to a vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1362">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-prod"></span>
</section>
<section id="prod" class="level4">
<h4 class="anchored" data-anchor-id="prod">prod</h4>
<ul>
<li><code>(prod)</code></li>
<li><code>(prod v)</code></li>
</ul>
<p>Product of elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L974">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-project"></span>
</section>
<section id="project" class="level4">
<h4 class="anchored" data-anchor-id="project">project</h4>
<ul>
<li><code>(project v1 v2)</code></li>
</ul>
<p>Calculates the vector projection of <code>v1</code> onto <code>v2</code>. The projection is a vector along the direction of <code>v2</code> that represents the component of <code>v1</code> in that direction.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1285">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-radians"></span>
</section>
<section id="radians" class="level4">
<h4 class="anchored" data-anchor-id="radians">radians</h4>
<ul>
<li><code>(radians vector)</code></li>
</ul>
<p>Applies radians to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-real-vector"></span>
</section>
<section id="real-vector" class="level4">
<h4 class="anchored" data-anchor-id="real-vector">real-vector</h4>
<ul>
<li><code>(real-vector v)</code></li>
</ul>
<p>Converts to Apache Commons Math RealVector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L856">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-reciprocal"></span>
</section>
<section id="reciprocal" class="level4">
<h4 class="anchored" data-anchor-id="reciprocal">reciprocal</h4>
<ul>
<li><code>(reciprocal v)</code></li>
</ul>
<p>Reciprocal of elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L983">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-relative-angle-between"></span>
</section>
<section id="relative-angle-between" class="level4">
<h4 class="anchored" data-anchor-id="relative-angle-between">relative-angle-between</h4>
<ul>
<li><code>(relative-angle-between v1 v2)</code></li>
</ul>
<p>Returns the difference between the heading of <code>v2</code> and the heading of <code>v1</code>. The heading is the angle relative to the positive primary axis ([1,0,â€¦]). For 2D vectors, this is the difference between their polar angles.</p>
<p>Returns value from <span class="math inline">\(-2\pi\)</span> to <span class="math inline">\(2\pi\)</span>.</p>
<p>See also <a href="#LOS-angle-between">angle-between</a> (absolute angle between vectors) and <a href="#LOS-heading">heading</a>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1256">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rint"></span>
</section>
<section id="rint" class="level4">
<h4 class="anchored" data-anchor-id="rint">rint</h4>
<ul>
<li><code>(rint vector)</code></li>
</ul>
<p>Applies rint to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotate"></span>
</section>
<section id="rotate" class="level4">
<h4 class="anchored" data-anchor-id="rotate">rotate</h4>
<ul>
<li><code>(rotate v angle)</code></li>
<li><code>(rotate v angle-x angle-y angle-z)</code></li>
</ul>
<p>Rotates vector. Only for <code>Vec2</code> and <code>Vec3</code> types.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1033">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-round"></span>
</section>
<section id="round" class="level4">
<h4 class="anchored" data-anchor-id="round">round</h4>
<ul>
<li><code>(round vector)</code></li>
</ul>
<p>Applies round to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-safe-sqrt"></span>
</section>
<section id="safe-sqrt" class="level4">
<h4 class="anchored" data-anchor-id="safe-sqrt">safe-sqrt</h4>
<ul>
<li><code>(safe-sqrt vector)</code></li>
</ul>
<p>Applies safe-sqrt to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sec"></span>
</section>
<section id="sec" class="level4">
<h4 class="anchored" data-anchor-id="sec">sec</h4>
<ul>
<li><code>(sec vector)</code></li>
</ul>
<p>Applies sec to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sech"></span>
</section>
<section id="sech" class="level4">
<h4 class="anchored" data-anchor-id="sech">sech</h4>
<ul>
<li><code>(sech vector)</code></li>
</ul>
<p>Applies sech to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-seq->vec2"></span>
</section>
<section id="seq-vec2" class="level4">
<h4 class="anchored" data-anchor-id="seq-vec2">seq-&gt;vec2</h4>
<ul>
<li><code>(seq-&gt;vec2 xs)</code></li>
</ul>
<p>Converts any seq to Vec2</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1327">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-seq->vec3"></span>
</section>
<section id="seq-vec3" class="level4">
<h4 class="anchored" data-anchor-id="seq-vec3">seq-&gt;vec3</h4>
<ul>
<li><code>(seq-&gt;vec3 xs)</code></li>
</ul>
<p>Converts any seq to Vec3</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1332">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-seq->vec4"></span>
</section>
<section id="seq-vec4" class="level4">
<h4 class="anchored" data-anchor-id="seq-vec4">seq-&gt;vec4</h4>
<ul>
<li><code>(seq-&gt;vec4 xs)</code></li>
</ul>
<p>Converts any seq to Vec4</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1337">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-set-mag"></span>
</section>
<section id="set-mag" class="level4">
<h4 class="anchored" data-anchor-id="set-mag">set-mag</h4>
<ul>
<li><code>(set-mag v len)</code></li>
</ul>
<p>Sets length of the vector.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1229">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sfrac"></span>
</section>
<section id="sfrac" class="level4">
<h4 class="anchored" data-anchor-id="sfrac">sfrac</h4>
<ul>
<li><code>(sfrac vector)</code></li>
</ul>
<p>Applies sfrac to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sgn"></span>
</section>
<section id="sgn" class="level4">
<h4 class="anchored" data-anchor-id="sgn">sgn</h4>
<ul>
<li><code>(sgn vector)</code></li>
</ul>
<p>Applies sgn to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-shift"></span>
</section>
<section id="shift" class="level4">
<h4 class="anchored" data-anchor-id="shift">shift</h4>
<ul>
<li><code>(shift v)</code></li>
<li><code>(shift v x)</code></li>
</ul>
<p>Adds a value to every vector element.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L922">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sigmoid"></span>
</section>
<section id="sigmoid" class="level4">
<h4 class="anchored" data-anchor-id="sigmoid">sigmoid</h4>
<ul>
<li><code>(sigmoid vector)</code></li>
</ul>
<p>Applies sigmoid to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-signum"></span>
</section>
<section id="signum" class="level4">
<h4 class="anchored" data-anchor-id="signum">signum</h4>
<ul>
<li><code>(signum vector)</code></li>
</ul>
<p>Applies signum to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sim-cos"></span>
</section>
<section id="sim-cos" class="level4">
<h4 class="anchored" data-anchor-id="sim-cos">sim-cos</h4>
<ul>
<li><code>(sim-cos v1 v2)</code></li>
</ul>
<p>Cosine similarity</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1204">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sin"></span>
</section>
<section id="sin" class="level4">
<h4 class="anchored" data-anchor-id="sin">sin</h4>
<ul>
<li><code>(sin vector)</code></li>
</ul>
<p>Applies sin to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sinc"></span>
</section>
<section id="sinc" class="level4">
<h4 class="anchored" data-anchor-id="sinc">sinc</h4>
<ul>
<li><code>(sinc vector)</code></li>
</ul>
<p>Applies sinc to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sinh"></span>
</section>
<section id="sinh" class="level4">
<h4 class="anchored" data-anchor-id="sinh">sinh</h4>
<ul>
<li><code>(sinh vector)</code></li>
</ul>
<p>Applies sinh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-size"></span>
</section>
<section id="size" class="level4">
<h4 class="anchored" data-anchor-id="size">size</h4>
<ul>
<li><code>(size v)</code></li>
</ul>
<p>Returns elements count of the vector.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L871">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-softmax"></span>
</section>
<section id="softmax" class="level4">
<h4 class="anchored" data-anchor-id="softmax">softmax</h4>
<ul>
<li><code>(softmax v)</code></li>
<li><code>(softmax v t)</code></li>
</ul>
<p>Calculates the softmax function for the given vector <code>v</code>.</p>
<p>The softmax function transforms a vector of arbitrary real values into a probability distribution, where each element is a value between 0 and 1, and all elements sum to 1.</p>
<p>It has two arities: - <code>[v]</code>: Computes the standard softmax: <code>softmax(v)_i = exp(v_i) / sum_j(exp(v_j))</code>. - <code>[v t]</code>: Computes the temperature-scaled softmax: <code>softmax(v)_i = exp(v_i / t) / sum_j(exp(v_j / t))</code>. The <code>t</code> parameter (temperature, defaults to 1) controls the shape of the output distribution; higher temperatures produce softer, more uniform distributions, while lower temperatures produce sharper distributions closer to a one-hot encoding.</p>
<p>The implementation uses a numerically stable approach (by shifting values based on the vectorâ€™s maximum) to prevent overflow when exponentiating large numbers.</p>
<p>Returns a new vector of the same type and dimension as the input.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1367">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sq"></span>
</section>
<section id="sq" class="level4">
<h4 class="anchored" data-anchor-id="sq">sq</h4>
<ul>
<li><code>(sq vector)</code></li>
</ul>
<p>Applies sq to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sqrt"></span>
</section>
<section id="sqrt" class="level4">
<h4 class="anchored" data-anchor-id="sqrt">sqrt</h4>
<ul>
<li><code>(sqrt vector)</code></li>
</ul>
<p>Applies sqrt to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sub"></span>
</section>
<section id="sub" class="level4">
<h4 class="anchored" data-anchor-id="sub">sub</h4>
<ul>
<li><code>(sub v)</code></li>
<li><code>(sub v1 v2)</code></li>
</ul>
<p>Subtraction of two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L917">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sum"></span>
</section>
<section id="sum" class="level4">
<h4 class="anchored" data-anchor-id="sum">sum</h4>
<ul>
<li><code>(sum)</code></li>
<li><code>(sum v)</code></li>
</ul>
<p>Sum of elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L969">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tan"></span>
</section>
<section id="tan" class="level4">
<h4 class="anchored" data-anchor-id="tan">tan</h4>
<ul>
<li><code>(tan vector)</code></li>
</ul>
<p>Applies tan to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tanh"></span>
</section>
<section id="tanh" class="level4">
<h4 class="anchored" data-anchor-id="tanh">tanh</h4>
<ul>
<li><code>(tanh vector)</code></li>
</ul>
<p>Applies tanh to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-to-polar"></span>
</section>
<section id="to-polar" class="level4">
<h4 class="anchored" data-anchor-id="to-polar">to-polar</h4>
<ul>
<li><code>(to-polar v)</code></li>
</ul>
<p>To polar coordinates (2d, 3d only), first element is length, the rest angle.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1057">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-to-vec"></span>
</section>
<section id="to-vec-deprecated" class="level4">
<h4 class="anchored" data-anchor-id="to-vec-deprecated">to-vec <sup><sub>DEPRECATED</sub></sup></h4>
<p><em>Deprecated: v1.5.0</em></p>
<p>Same as <a href="#LOS-vec-%3EVec">vec-&gt;Vec</a>. Deprecated.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L835">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-transform"></span>
</section>
<section id="transform" class="level4">
<h4 class="anchored" data-anchor-id="transform">transform</h4>
<ul>
<li><code>(transform v o vx vy)</code></li>
<li><code>(transform v o vx vy vz)</code></li>
</ul>
<p>Transforms vector.</p>
<p>Maps point to a coordinate system defined by origin, vx, vy and vz (as bases).</p>
<p>Only for <code>Vec2</code> and <code>Vec3</code> types.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1048">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-triple-product"></span>
</section>
<section id="triple-product" class="level4">
<h4 class="anchored" data-anchor-id="triple-product">triple-product</h4>
<ul>
<li><code>(triple-product a b c)</code></li>
</ul>
<p>a o (b x c)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1065">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-trunc"></span>
</section>
<section id="trunc" class="level4">
<h4 class="anchored" data-anchor-id="trunc">trunc</h4>
<ul>
<li><code>(trunc vector)</code></li>
</ul>
<p>Applies trunc to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec->RealVector"></span>
</section>
<section id="vec-realvector" class="level4">
<h4 class="anchored" data-anchor-id="vec-realvector">vec-&gt;RealVector</h4>
<ul>
<li><code>(vec-&gt;RealVector v)</code></li>
</ul>
<p>Converts to Apache Commons Math RealVector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L851">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec->Vec"></span>
</section>
<section id="vec-vec" class="level4">
<h4 class="anchored" data-anchor-id="vec-vec">vec-&gt;Vec</h4>
<ul>
<li><code>(vec-&gt;Vec v)</code></li>
</ul>
<p>Converts to Clojure primitive vector <code>Vec</code>.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L861">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec->array"></span>
</section>
<section id="vec-array" class="level4">
<h4 class="anchored" data-anchor-id="vec-array">vec-&gt;array</h4>
<ul>
<li><code>(vec-&gt;array v)</code></li>
</ul>
<p>Converts to double array</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L839">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec->seq"></span>
</section>
<section id="vec-seq" class="level4">
<h4 class="anchored" data-anchor-id="vec-seq">vec-&gt;seq</h4>
<ul>
<li><code>(vec-&gt;seq v)</code></li>
</ul>
<p>Converts to sequence (same as seq)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L843">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec2"></span>
</section>
<section id="vec2-1" class="level4">
<h4 class="anchored" data-anchor-id="vec2-1">vec2</h4>
<ul>
<li><code>(vec2 x y)</code></li>
<li><code>(vec2 [x y])</code></li>
<li><code>(vec2)</code></li>
</ul>
<p>Creates 2d vector.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1072">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec3"></span>
</section>
<section id="vec3-1" class="level4">
<h4 class="anchored" data-anchor-id="vec3-1">vec3</h4>
<ul>
<li><code>(vec3 x y z)</code></li>
<li><code>(vec3 v z)</code></li>
<li><code>(vec3 [x y z])</code></li>
<li><code>(vec3)</code></li>
</ul>
<p>Creates Vec2 vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1078">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vec4"></span>
</section>
<section id="vec4-1" class="level4">
<h4 class="anchored" data-anchor-id="vec4-1">vec4</h4>
<ul>
<li><code>(vec4 x y z w)</code></li>
<li><code>(vec4 v w)</code></li>
<li><code>(vec4 v z w)</code></li>
<li><code>(vec4 [x y z w])</code></li>
<li><code>(vec4)</code></li>
</ul>
<p>Creates Vec4 vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1085">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-xlogx"></span>
</section>
<section id="xlogx" class="level4">
<h4 class="anchored" data-anchor-id="xlogx">xlogx</h4>
<ul>
<li><code>(xlogx vector)</code></li>
</ul>
<p>Applies xlogx to vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1355">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-zero-count"></span>
</section>
<section id="zero-count" class="level4">
<h4 class="anchored" data-anchor-id="zero-count">zero-count</h4>
<ul>
<li><code>(zero-count v)</code></li>
</ul>
<p>Counts zeros in vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1124">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-zero?"></span>
</section>
<section id="zero" class="level4">
<h4 class="anchored" data-anchor-id="zero">zero?</h4>
<ul>
<li><code>(zero? v)</code></li>
</ul>
<p>Is vector zero?</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/vector.clj#L1009">source</a></small><hr style="margin: 0"></div>
</section>
</section>
<section id="fastmath.matrix" class="level3">
<h3 class="anchored" data-anchor-id="fastmath.matrix">fastmath.matrix</h3>
<p>Provides tools for working with various matrix types, including fixed-size (2x2, 3x3, 4x4), Java <code>double[][]</code> arrays, and Apache Commons Math <code>RealMatrix</code>.</p>
<p>It offers efficient mathematical operations for linear algebra, geometric transformations, and data manipulation, unifying different representations under a common protocol approach where appropriate.</p>
<span id="#LOS-->Mat2x2"></span>
<section id="mat2x2" class="level4">
<h4 class="anchored" data-anchor-id="mat2x2">-&gt;Mat2x2</h4>
<ul>
<li><code>(-&gt;Mat2x2 a00 a01 a10 a11)</code></li>
</ul>
<p>Positional factory function for class fastmath.matrix.Mat2x2.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L77">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->Mat3x3"></span>
</section>
<section id="mat3x3" class="level4">
<h4 class="anchored" data-anchor-id="mat3x3">-&gt;Mat3x3</h4>
<ul>
<li><code>(-&gt;Mat3x3 a00 a01 a02 a10 a11 a12 a20 a21 a22)</code></li>
</ul>
<p>Positional factory function for class fastmath.matrix.Mat3x3.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L202">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->Mat4x4"></span>
</section>
<section id="mat4x4" class="level4">
<h4 class="anchored" data-anchor-id="mat4x4">-&gt;Mat4x4</h4>
<ul>
<li><code>(-&gt;Mat4x4 a00 a01 a02 a03 a10 a11 a12 a13 a20 a21 a22 a23 a30 a31 a32 a33)</code></li>
</ul>
<p>Positional factory function for class fastmath.matrix.Mat4x4.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L358">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-->MatrixDecomposition"></span>
</section>
<section id="matrixdecomposition" class="level4">
<h4 class="anchored" data-anchor-id="matrixdecomposition">-&gt;MatrixDecomposition</h4>
<ul>
<li><code>(-&gt;MatrixDecomposition source components solver singular? s)</code></li>
</ul>
<p>Positional factory function for class fastmath.matrix.MatrixDecomposition.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1398">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acos"></span>
</section>
<section id="acos-1" class="level4">
<h4 class="anchored" data-anchor-id="acos-1">acos</h4>
<ul>
<li><code>(acos vector)</code></li>
</ul>
<p>Applies acos to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acosh"></span>
</section>
<section id="acosh-1" class="level4">
<h4 class="anchored" data-anchor-id="acosh-1">acosh</h4>
<ul>
<li><code>(acosh vector)</code></li>
</ul>
<p>Applies acosh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acot"></span>
</section>
<section id="acot-1" class="level4">
<h4 class="anchored" data-anchor-id="acot-1">acot</h4>
<ul>
<li><code>(acot vector)</code></li>
</ul>
<p>Applies acot to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acoth"></span>
</section>
<section id="acoth-1" class="level4">
<h4 class="anchored" data-anchor-id="acoth-1">acoth</h4>
<ul>
<li><code>(acoth vector)</code></li>
</ul>
<p>Applies acoth to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acsc"></span>
</section>
<section id="acsc-1" class="level4">
<h4 class="anchored" data-anchor-id="acsc-1">acsc</h4>
<ul>
<li><code>(acsc vector)</code></li>
</ul>
<p>Applies acsc to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-acsch"></span>
</section>
<section id="acsch-1" class="level4">
<h4 class="anchored" data-anchor-id="acsch-1">acsch</h4>
<ul>
<li><code>(acsch vector)</code></li>
</ul>
<p>Applies acsch to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-add"></span>
</section>
<section id="add-1" class="level4">
<h4 class="anchored" data-anchor-id="add-1">add</h4>
<ul>
<li><code>(add A)</code></li>
<li><code>(add A B)</code></li>
</ul>
<p>Adds matrices, C=A+B.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1097">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-adds"></span>
</section>
<section id="adds" class="level4">
<h4 class="anchored" data-anchor-id="adds">adds</h4>
<ul>
<li><code>(adds A s)</code></li>
</ul>
<p>Adds scalar to all matrix elements</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1102">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array2d->RealMatrix"></span>
</section>
<section id="array2d-realmatrix" class="level4">
<h4 class="anchored" data-anchor-id="array2d-realmatrix">array2d-&gt;RealMatrix</h4>
<ul>
<li><code>(array2d-&gt;RealMatrix arrs)</code></li>
</ul>
<p>Creates RealMatrix matrix from 2d double array.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L923">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array2d->mat2x2"></span>
</section>
<section id="array2d-mat2x2" class="level4">
<h4 class="anchored" data-anchor-id="array2d-mat2x2">array2d-&gt;mat2x2</h4>
<ul>
<li><code>(array2d-&gt;mat2x2 arrs)</code></li>
</ul>
<p>Creates 2x2 matrix from 2d double array.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L882">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array2d->mat3x3"></span>
</section>
<section id="array2d-mat3x3" class="level4">
<h4 class="anchored" data-anchor-id="array2d-mat3x3">array2d-&gt;mat3x3</h4>
<ul>
<li><code>(array2d-&gt;mat3x3 arrs)</code></li>
</ul>
<p>Creates 3x3 matrix from 2d double array.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L890">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-array2d->mat4x4"></span>
</section>
<section id="array2d-mat4x4" class="level4">
<h4 class="anchored" data-anchor-id="array2d-mat4x4">array2d-&gt;mat4x4</h4>
<ul>
<li><code>(array2d-&gt;mat4x4 arrs)</code></li>
</ul>
<p>Creates 4x4 matrix from 2d double array.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L903">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asec"></span>
</section>
<section id="asec-1" class="level4">
<h4 class="anchored" data-anchor-id="asec-1">asec</h4>
<ul>
<li><code>(asec vector)</code></li>
</ul>
<p>Applies asec to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asech"></span>
</section>
<section id="asech-1" class="level4">
<h4 class="anchored" data-anchor-id="asech-1">asech</h4>
<ul>
<li><code>(asech vector)</code></li>
</ul>
<p>Applies asech to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asin"></span>
</section>
<section id="asin-1" class="level4">
<h4 class="anchored" data-anchor-id="asin-1">asin</h4>
<ul>
<li><code>(asin vector)</code></li>
</ul>
<p>Applies asin to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-asinh"></span>
</section>
<section id="asinh-1" class="level4">
<h4 class="anchored" data-anchor-id="asinh-1">asinh</h4>
<ul>
<li><code>(asinh vector)</code></li>
</ul>
<p>Applies asinh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-atan"></span>
</section>
<section id="atan-1" class="level4">
<h4 class="anchored" data-anchor-id="atan-1">atan</h4>
<ul>
<li><code>(atan vector)</code></li>
</ul>
<p>Applies atan to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-atanh"></span>
</section>
<section id="atanh-1" class="level4">
<h4 class="anchored" data-anchor-id="atanh-1">atanh</h4>
<ul>
<li><code>(atanh vector)</code></li>
</ul>
<p>Applies atanh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cb"></span>
</section>
<section id="cb-1" class="level4">
<h4 class="anchored" data-anchor-id="cb-1">cb</h4>
<ul>
<li><code>(cb vector)</code></li>
</ul>
<p>Applies cb to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cbrt"></span>
</section>
<section id="cbrt-1" class="level4">
<h4 class="anchored" data-anchor-id="cbrt-1">cbrt</h4>
<ul>
<li><code>(cbrt vector)</code></li>
</ul>
<p>Applies cbrt to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ceil"></span>
</section>
<section id="ceil-1" class="level4">
<h4 class="anchored" data-anchor-id="ceil-1">ceil</h4>
<ul>
<li><code>(ceil vector)</code></li>
</ul>
<p>Applies ceil to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cholesky"></span>
</section>
<section id="cholesky-deprecated" class="level4">
<h4 class="anchored" data-anchor-id="cholesky-deprecated">cholesky <sup><sub>DEPRECATED</sub></sup></h4>
<p><em>Deprecated: Use <code>cholesky-decomposition</code> instead.</em></p>
<ul>
<li><code>(cholesky A)</code></li>
<li><code>(cholesky A upper?)</code></li>
</ul>
<p>Calculates L (lower by default) triangular for where L * L^T = A.</p>
<p>Checks only for symmetry, can return NaNs when A is not positive-definite.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1151">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cholesky-decomposition"></span>
</section>
<section id="cholesky-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="cholesky-decomposition">cholesky-decomposition</h4>
<ul>
<li><code>(cholesky-decomposition mat)</code></li>
<li><code>(cholesky-decomposition mat symmetry_threshold positivity_threshold)</code></li>
</ul>
<p>Performs Cholesky decomposition.</p>
<p>Decomposition of real symmetric positive-definite matrix. A = L x LT</p>
<p>Solver minimizes using least squares method.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:L</code>, <code>:LT</code> - matrices</li>
<li><code>:det</code> - determinant.</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1465">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-col"></span>
</section>
<section id="col" class="level4">
<h4 class="anchored" data-anchor-id="col">col</h4>
<ul>
<li><code>(col A c)</code></li>
</ul>
<p>Returns column as a vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1070">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols"></span>
</section>
<section id="cols" class="level4">
<h4 class="anchored" data-anchor-id="cols">cols</h4>
<ul>
<li><code>(cols A)</code></li>
</ul>
<p>Returns matrix columns</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1021">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols->RealMatrix"></span>
</section>
<section id="cols-realmatrix" class="level4">
<h4 class="anchored" data-anchor-id="cols-realmatrix">cols-&gt;RealMatrix</h4>
<ul>
<li><code>(cols-&gt;RealMatrix cols)</code></li>
</ul>
<p>Returns Apache Commons Math Array2DRowMatrix from sequence of columns</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L837">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols->mat"></span>
</section>
<section id="cols-mat" class="level4">
<h4 class="anchored" data-anchor-id="cols-mat">cols-&gt;mat</h4>
<ul>
<li><code>(cols-&gt;mat real-matrix-cols)</code></li>
<li><code>(cols-&gt;mat [a00 a10] [a01 a11])</code></li>
<li><code>(cols-&gt;mat [a00 a10 a20] [a01 a11 a21] [a02 a12 a22])</code></li>
<li><code>(cols-&gt;mat [a00 a10 a20 a30] [a01 a11 a21 a31] [a02 a12 a22 a32] [a03 a13 a23 a33])</code></li>
</ul>
<p>Creates nxn matrix from nd vectors (columns).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L866">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols->mat2x2"></span>
</section>
<section id="cols-mat2x2" class="level4">
<h4 class="anchored" data-anchor-id="cols-mat2x2">cols-&gt;mat2x2</h4>
<ul>
<li><code>(cols-&gt;mat2x2 [a00 a10] [a01 a11])</code></li>
</ul>
<p>Create 2x2 matrix from 2d vectors (columns).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L737">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols->mat3x3"></span>
</section>
<section id="cols-mat3x3" class="level4">
<h4 class="anchored" data-anchor-id="cols-mat3x3">cols-&gt;mat3x3</h4>
<ul>
<li><code>(cols-&gt;mat3x3 [a00 a10 a20] [a01 a11 a21] [a02 a12 a22])</code></li>
</ul>
<p>Creates 3x3 matrix from 3d vectors (columns).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L769">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cols->mat4x4"></span>
</section>
<section id="cols-mat4x4" class="level4">
<h4 class="anchored" data-anchor-id="cols-mat4x4">cols-&gt;mat4x4</h4>
<ul>
<li><code>(cols-&gt;mat4x4 [a00 a10 a20 a30] [a01 a11 a21 a31] [a02 a12 a22 a32] [a03 a13 a23 a33])</code></li>
</ul>
<p>Creates 4x4 matrix from 4d vectors (columns).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L805">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-condition"></span>
</section>
<section id="condition" class="level4">
<h4 class="anchored" data-anchor-id="condition">condition</h4>
<ul>
<li><code>(condition A)</code></li>
<li><code>(condition A norm-type)</code></li>
</ul>
<p>Condition number calculated for L2 norm by default (see <a href="#LOS-norm">norm</a> for other norm types).</p>
<p>Cond(A) = norm(A) * norm(inv(A))</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1298">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cos"></span>
</section>
<section id="cos-1" class="level4">
<h4 class="anchored" data-anchor-id="cos-1">cos</h4>
<ul>
<li><code>(cos vector)</code></li>
</ul>
<p>Applies cos to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cosh"></span>
</section>
<section id="cosh-1" class="level4">
<h4 class="anchored" data-anchor-id="cosh-1">cosh</h4>
<ul>
<li><code>(cosh vector)</code></li>
</ul>
<p>Applies cosh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-cot"></span>
</section>
<section id="cot-1" class="level4">
<h4 class="anchored" data-anchor-id="cot-1">cot</h4>
<ul>
<li><code>(cot vector)</code></li>
</ul>
<p>Applies cot to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-coth"></span>
</section>
<section id="coth-1" class="level4">
<h4 class="anchored" data-anchor-id="coth-1">coth</h4>
<ul>
<li><code>(coth vector)</code></li>
</ul>
<p>Applies coth to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-csc"></span>
</section>
<section id="csc-1" class="level4">
<h4 class="anchored" data-anchor-id="csc-1">csc</h4>
<ul>
<li><code>(csc vector)</code></li>
</ul>
<p>Applies csc to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-csch"></span>
</section>
<section id="csch-1" class="level4">
<h4 class="anchored" data-anchor-id="csch-1">csch</h4>
<ul>
<li><code>(csch vector)</code></li>
</ul>
<p>Applies csch to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-decomposition-component"></span>
</section>
<section id="decomposition-component" class="level4">
<h4 class="anchored" data-anchor-id="decomposition-component">decomposition-component</h4>
<ul>
<li><code>(decomposition-component decomposition-matrix component-name)</code></li>
</ul>
<p>Returns value of the component of matrix decomposition</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1596">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-degrees"></span>
</section>
<section id="degrees-1" class="level4">
<h4 class="anchored" data-anchor-id="degrees-1">degrees</h4>
<ul>
<li><code>(degrees vector)</code></li>
</ul>
<p>Applies degrees to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-demean"></span>
</section>
<section id="demean" class="level4">
<h4 class="anchored" data-anchor-id="demean">demean</h4>
<ul>
<li><code>(demean A)</code></li>
<li><code>(demean A rows?)</code></li>
</ul>
<p>Subracts mean from columns (or rows)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1214">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-det"></span>
</section>
<section id="det" class="level4">
<h4 class="anchored" data-anchor-id="det">det</h4>
<ul>
<li><code>(det A)</code></li>
</ul>
<p>Returns determinant of the matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1093">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-diag"></span>
</section>
<section id="diag" class="level4">
<h4 class="anchored" data-anchor-id="diag">diag</h4>
<ul>
<li><code>(diag A)</code></li>
</ul>
<p>Returns diagonal of the matrix as a vector.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1089">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-diag->mat2x2"></span>
</section>
<section id="diag-mat2x2" class="level4">
<h4 class="anchored" data-anchor-id="diag-mat2x2">diag-&gt;mat2x2</h4>
<ul>
<li><code>(diag-&gt;mat2x2 d)</code></li>
<li><code>(diag-&gt;mat2x2 d1 d2)</code></li>
</ul>
<p>Creates 2x2 diagonal matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L743">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-diag->mat3x3"></span>
</section>
<section id="diag-mat3x3" class="level4">
<h4 class="anchored" data-anchor-id="diag-mat3x3">diag-&gt;mat3x3</h4>
<ul>
<li><code>(diag-&gt;mat3x3 d)</code></li>
<li><code>(diag-&gt;mat3x3 d1 d2 d3)</code></li>
</ul>
<p>Creates 3x3 diagonal matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L776">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-diag->mat4x4"></span>
</section>
<section id="diag-mat4x4" class="level4">
<h4 class="anchored" data-anchor-id="diag-mat4x4">diag-&gt;mat4x4</h4>
<ul>
<li><code>(diag-&gt;mat4x4 d)</code></li>
<li><code>(diag-&gt;mat4x4 d1 d2 d3 d4)</code></li>
</ul>
<p>Creates 4x4 diagonal matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L813">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-diagonal"></span>
</section>
<section id="diagonal" class="level4">
<h4 class="anchored" data-anchor-id="diagonal">diagonal</h4>
<ul>
<li><code>(diagonal v)</code></li>
<li><code>(diagonal a11 a22)</code></li>
<li><code>(diagonal a11 a22 a33)</code></li>
<li><code>(diagonal a11 a22 a33 a44)</code></li>
</ul>
<p>Creates diagonal matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L962">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-eigen-decomposition"></span>
</section>
<section id="eigen-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="eigen-decomposition">eigen-decomposition</h4>
<ul>
<li><code>(eigen-decomposition mat)</code></li>
</ul>
<p>Performs Eigen decomposition.</p>
<p>A = V x D x VT, D contains eigenvalues (diagonal: real values, subdiagonal: imaginary), V - eigenvectors.</p>
<p>Solver is exact.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:D</code>, <code>:V</code>, <code>:VT</code>, <code>:sqrt</code> - matrices.</li>
<li><code>:det</code> - determinant</li>
<li><code>:real-eigenvalues</code>, <code>imag-eigenvalues</code> - eigenvalues</li>
<li><code>:eigenvectors</code> - sequence of eigenvectors</li>
<li><code>:complex?</code> - are eigenvalues complex?</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1557">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-eigenvalues"></span>
</section>
<section id="eigenvalues" class="level4">
<h4 class="anchored" data-anchor-id="eigenvalues">eigenvalues</h4>
<ul>
<li><code>(eigenvalues A)</code></li>
</ul>
<p>Returns complex eigenvalues for given matrix as a sequence</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1166">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-eigenvalues-matrix"></span>
</section>
<section id="eigenvalues-matrix" class="level4">
<h4 class="anchored" data-anchor-id="eigenvalues-matrix">eigenvalues-matrix</h4>
<ul>
<li><code>(eigenvalues-matrix A)</code></li>
</ul>
<p>Returns eigenvalues for given matrix as a diagonal or block diagonal matrix</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1182">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-eigenvectors"></span>
</section>
<section id="eigenvectors" class="level4">
<h4 class="anchored" data-anchor-id="eigenvectors">eigenvectors</h4>
<ul>
<li><code>(eigenvectors A)</code></li>
<li><code>(eigenvectors A normalize?)</code></li>
</ul>
<p>Returns eigenvectors as a matrix (columns). Vectors can be normalized.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1260">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-emulm"></span>
</section>
<section id="emulm" class="level4">
<h4 class="anchored" data-anchor-id="emulm">emulm</h4>
<ul>
<li><code>(emulm A B)</code></li>
</ul>
<p>Multiplies two matrices element-wise, Hadamard product, C=AoB</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1135">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-entry"></span>
</section>
<section id="entry" class="level4">
<h4 class="anchored" data-anchor-id="entry">entry</h4>
<ul>
<li><code>(entry A row col)</code></li>
</ul>
<p>Returns entry at given row and column</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1012">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-exp"></span>
</section>
<section id="exp-1" class="level4">
<h4 class="anchored" data-anchor-id="exp-1">exp</h4>
<ul>
<li><code>(exp vector)</code></li>
</ul>
<p>Applies exp to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-expm1"></span>
</section>
<section id="expm1-1" class="level4">
<h4 class="anchored" data-anchor-id="expm1-1">expm1</h4>
<ul>
<li><code>(expm1 vector)</code></li>
</ul>
<p>Applies expm1 to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-eye"></span>
</section>
<section id="eye" class="level4">
<h4 class="anchored" data-anchor-id="eye">eye</h4>
<ul>
<li><code>(eye size real-matrix?)</code></li>
<li><code>(eye size)</code></li>
</ul>
<p>Creates identity matrix for given size.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L928">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-floor"></span>
</section>
<section id="floor-1" class="level4">
<h4 class="anchored" data-anchor-id="floor-1">floor</h4>
<ul>
<li><code>(floor vector)</code></li>
</ul>
<p>Applies floor to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-fmap"></span>
</section>
<section id="fmap-1" class="level4">
<h4 class="anchored" data-anchor-id="fmap-1">fmap</h4>
<ul>
<li><code>(fmap A f)</code></li>
</ul>
<p>Applies a function <code>f</code> to each matrix element.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1017">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-frac"></span>
</section>
<section id="frac-1" class="level4">
<h4 class="anchored" data-anchor-id="frac-1">frac</h4>
<ul>
<li><code>(frac vector)</code></li>
</ul>
<p>Applies frac to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-inverse"></span>
</section>
<section id="inverse" class="level4">
<h4 class="anchored" data-anchor-id="inverse">inverse</h4>
<ul>
<li><code>(inverse m)</code></li>
</ul>
<p>Matrix inversion.</p>
<p>Returns <code>nil</code> if inversion doesnâ€™t exist.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1083">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-kronecker"></span>
</section>
<section id="kronecker" class="level4">
<h4 class="anchored" data-anchor-id="kronecker">kronecker</h4>
<ul>
<li><code>(kronecker mat1 mat2)</code></li>
</ul>
<p>Returns Kronecker product of two matrices.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L995">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ln"></span>
</section>
<section id="ln-1" class="level4">
<h4 class="anchored" data-anchor-id="ln-1">ln</h4>
<ul>
<li><code>(ln vector)</code></li>
</ul>
<p>Applies ln to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log"></span>
</section>
<section id="log-1" class="level4">
<h4 class="anchored" data-anchor-id="log-1">log</h4>
<ul>
<li><code>(log vector)</code></li>
</ul>
<p>Applies log to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log10"></span>
</section>
<section id="log10-1" class="level4">
<h4 class="anchored" data-anchor-id="log10-1">log10</h4>
<ul>
<li><code>(log10 vector)</code></li>
</ul>
<p>Applies log10 to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1mexp"></span>
</section>
<section id="log1mexp-1" class="level4">
<h4 class="anchored" data-anchor-id="log1mexp-1">log1mexp</h4>
<ul>
<li><code>(log1mexp vector)</code></li>
</ul>
<p>Applies log1mexp to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1p"></span>
</section>
<section id="log1p-1" class="level4">
<h4 class="anchored" data-anchor-id="log1p-1">log1p</h4>
<ul>
<li><code>(log1p vector)</code></li>
</ul>
<p>Applies log1p to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1pexp"></span>
</section>
<section id="log1pexp-1" class="level4">
<h4 class="anchored" data-anchor-id="log1pexp-1">log1pexp</h4>
<ul>
<li><code>(log1pexp vector)</code></li>
</ul>
<p>Applies log1pexp to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1pmx"></span>
</section>
<section id="log1pmx-1" class="level4">
<h4 class="anchored" data-anchor-id="log1pmx-1">log1pmx</h4>
<ul>
<li><code>(log1pmx vector)</code></li>
</ul>
<p>Applies log1pmx to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log1psq"></span>
</section>
<section id="log1psq-1" class="level4">
<h4 class="anchored" data-anchor-id="log1psq-1">log1psq</h4>
<ul>
<li><code>(log1psq vector)</code></li>
</ul>
<p>Applies log1psq to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-log2"></span>
</section>
<section id="log2-1" class="level4">
<h4 class="anchored" data-anchor-id="log2-1">log2</h4>
<ul>
<li><code>(log2 vector)</code></li>
</ul>
<p>Applies log2 to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logexpm1"></span>
</section>
<section id="logexpm1-1" class="level4">
<h4 class="anchored" data-anchor-id="logexpm1-1">logexpm1</h4>
<ul>
<li><code>(logexpm1 vector)</code></li>
</ul>
<p>Applies logexpm1 to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logit"></span>
</section>
<section id="logit-1" class="level4">
<h4 class="anchored" data-anchor-id="logit-1">logit</h4>
<ul>
<li><code>(logit vector)</code></li>
</ul>
<p>Applies logit to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-logmxp1"></span>
</section>
<section id="logmxp1-1" class="level4">
<h4 class="anchored" data-anchor-id="logmxp1-1">logmxp1</h4>
<ul>
<li><code>(logmxp1 vector)</code></li>
</ul>
<p>Applies logmxp1 to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-lu-decomposition"></span>
</section>
<section id="lu-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="lu-decomposition">lu-decomposition</h4>
<ul>
<li><code>(lu-decomposition mat)</code></li>
<li><code>(lu-decomposition mat threshold)</code></li>
</ul>
<p>Performs QR decomposition.</p>
<p>A = inv(P) x L x U, L is lower triangular, U is upper triangular.</p>
<p>Solver is exact.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:L</code>, <code>:U</code>, <code>:P</code> (permutation) - matrices.</li>
<li><code>:det</code> - determinant</li>
<li><code>:pivot</code> - pivot permutation vector</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1529">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-map->MatrixDecomposition"></span>
</section>
<section id="map-matrixdecomposition" class="level4">
<h4 class="anchored" data-anchor-id="map-matrixdecomposition">map-&gt;MatrixDecomposition</h4>
<ul>
<li><code>(map-&gt;MatrixDecomposition m__7997__auto__)</code></li>
</ul>
<p>Factory function for class fastmath.matrix.MatrixDecomposition, taking a map of keywords to field values.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1398">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-map-cols"></span>
</section>
<section id="map-cols" class="level4">
<h4 class="anchored" data-anchor-id="map-cols">map-cols</h4>
<ul>
<li><code>(map-cols f A)</code></li>
</ul>
<p>Operate on columns, f should return a column</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1192">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-map-rows"></span>
</section>
<section id="map-rows" class="level4">
<h4 class="anchored" data-anchor-id="map-rows">map-rows</h4>
<ul>
<li><code>(map-rows f A)</code></li>
</ul>
<p>Operate on rows, f should return a row</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1200">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat"></span>
</section>
<section id="mat" class="level4">
<h4 class="anchored" data-anchor-id="mat">mat</h4>
<ul>
<li><code>(mat real-matrix-rows)</code></li>
<li><code>(mat a00 a01 a10 a11)</code></li>
<li><code>(mat a00 a01 a02 a10 a11 a12 a20 a21 a22)</code></li>
<li><code>(mat a00 a01 a02 a03 a10 a11 a12 a13 a20 a21 a22 a23 a30 a31 a32 a33)</code></li>
</ul>
<p>Creates mat2x2, mat3x3 or mat4x4 or RealMatrix from rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L842">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->RealMatrix"></span>
</section>
<section id="mat-realmatrix" class="level4">
<h4 class="anchored" data-anchor-id="mat-realmatrix">mat-&gt;RealMatrix</h4>
<ul>
<li><code>(mat-&gt;RealMatrix A)</code></li>
</ul>
<p>Returns Apache Commons Math Array2DRowMatrix from a 2x2, 3x3 or 4x4 matrix</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1049">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->array"></span>
</section>
<section id="mat-array" class="level4">
<h4 class="anchored" data-anchor-id="mat-array">mat-&gt;array</h4>
<ul>
<li><code>(mat-&gt;array A)</code></li>
</ul>
<p>Returns flat double array of entries (row order)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1041">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->array2d"></span>
</section>
<section id="mat-array2d" class="level4">
<h4 class="anchored" data-anchor-id="mat-array2d">mat-&gt;array2d</h4>
<ul>
<li><code>(mat-&gt;array2d A)</code></li>
</ul>
<p>Returns doubles of doubles</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1033">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->float-array"></span>
</section>
<section id="mat-float-array" class="level4">
<h4 class="anchored" data-anchor-id="mat-float-array">mat-&gt;float-array</h4>
<ul>
<li><code>(mat-&gt;float-array A)</code></li>
</ul>
<p>Returns flat float array of entries (row order)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1045">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->float-array2d"></span>
</section>
<section id="mat-float-array2d" class="level4">
<h4 class="anchored" data-anchor-id="mat-float-array2d">mat-&gt;float-array2d</h4>
<ul>
<li><code>(mat-&gt;float-array2d A)</code></li>
</ul>
<p>Returns doubles of doubles</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1037">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat->seq"></span>
</section>
<section id="mat-seq" class="level4">
<h4 class="anchored" data-anchor-id="mat-seq">mat-&gt;seq</h4>
<ul>
<li><code>(mat-&gt;seq A)</code></li>
</ul>
<p>Returns flat sequence of entries (row order)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1029">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat2x2"></span>
</section>
<section id="mat2x2-1" class="level4">
<h4 class="anchored" data-anchor-id="mat2x2-1">mat2x2</h4>
<ul>
<li><code>(mat2x2 v)</code></li>
<li><code>(mat2x2 d1 d2)</code></li>
<li><code>(mat2x2 a00 a01 a10 a11)</code></li>
</ul>
<p>Creates 2x2 matrix.</p>
<p>Arity:</p>
<ul>
<li>1 - fills matrix with given value</li>
<li>2 - creates diagonal matrix</li>
<li>4 - creates row ordered matrix</li>
</ul>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L719">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat3x3"></span>
</section>
<section id="mat3x3-1" class="level4">
<h4 class="anchored" data-anchor-id="mat3x3-1">mat3x3</h4>
<ul>
<li><code>(mat3x3 v)</code></li>
<li><code>(mat3x3 d1 d2 d3)</code></li>
<li><code>(mat3x3 a00 a01 a02 a10 a11 a12 a20 a21 a22)</code></li>
</ul>
<p>Creates 3x3 matrix.</p>
<p>Arity:</p>
<ul>
<li>1 - fills matrix with given value</li>
<li>3 - creates diagonal matrix</li>
<li>9 - creates row ordered matrix</li>
</ul>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L748">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mat4x4"></span>
</section>
<section id="mat4x4-1" class="level4">
<h4 class="anchored" data-anchor-id="mat4x4-1">mat4x4</h4>
<ul>
<li><code>(mat4x4 v)</code></li>
<li><code>(mat4x4 d1 d2 d3 d4)</code></li>
<li><code>(mat4x4 a00 a01 a02 a03 a10 a11 a12 a13 a20 a21 a22 a23 a30 a31 a32 a33)</code></li>
</ul>
<p>Creates 4x4 matrix.</p>
<p>Arity:</p>
<ul>
<li>1 - fills matrix with given value</li>
<li>4 - creates diagonal matrix</li>
<li>16 - creates row ordered matrix</li>
</ul>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L781">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mulm"></span>
</section>
<section id="mulm" class="level4">
<h4 class="anchored" data-anchor-id="mulm">mulm</h4>
<ul>
<li><code>(mulm A B)</code></li>
<li><code>(mulm A transposeA? B transposeB?)</code></li>
</ul>
<p>Multiplies two matrices, C=AxB.</p>
<p>Optionally you can apply transposition of matrices.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1115">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mulmt"></span>
</section>
<section id="mulmt" class="level4">
<h4 class="anchored" data-anchor-id="mulmt">mulmt</h4>
<ul>
<li><code>(mulmt A B)</code></li>
</ul>
<p>Multiplies with transposed matrix, C=AxB^T</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1123">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-muls"></span>
</section>
<section id="muls" class="level4">
<h4 class="anchored" data-anchor-id="muls">muls</h4>
<ul>
<li><code>(muls A s)</code></li>
</ul>
<p>Multplies matrix by a scalar, C=sA</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1143">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-mulv"></span>
</section>
<section id="mulv" class="level4">
<h4 class="anchored" data-anchor-id="mulv">mulv</h4>
<ul>
<li><code>(mulv A v)</code></li>
</ul>
<p>Multplies matrix by a vector, x=Av</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1139">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-ncol"></span>
</section>
<section id="ncol" class="level4">
<h4 class="anchored" data-anchor-id="ncol">ncol</h4>
<ul>
<li><code>(ncol A)</code></li>
</ul>
<p>Returns number of rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1058">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-negate"></span>
</section>
<section id="negate" class="level4">
<h4 class="anchored" data-anchor-id="negate">negate</h4>
<ul>
<li><code>(negate A)</code></li>
</ul>
<p>Negates all matrix elements, C=-A</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1111">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-norm"></span>
</section>
<section id="norm" class="level4">
<h4 class="anchored" data-anchor-id="norm">norm</h4>
<ul>
<li><code>(norm A)</code></li>
<li><code>(norm A norm-type)</code></li>
</ul>
<p>Calculates norm of the matrix for given type, default: 1 (maximum absolute column sum).</p>
<p>All norm types are:</p>
<ul>
<li>1 - maximum absolute column sum</li>
<li>:inf - maximum absolute row sum</li>
<li>2 - spectral norm, maximum singular value</li>
<li>:max - maximum absolute value</li>
<li>:frobenius - Frobenius norm</li>
<li>[p,q] - generalized L_pq norm, [2,2] - Frobenius norm, [p,p] - entrywise p-norm</li>
<li>[p] - Shatten p-norm, [1] - nuclear/trace norm</li>
</ul>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1274">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-normalize"></span>
</section>
<section id="normalize-1" class="level4">
<h4 class="anchored" data-anchor-id="normalize-1">normalize</h4>
<ul>
<li><code>(normalize A)</code></li>
<li><code>(normalize A rows?)</code></li>
</ul>
<p>Normalizes columns (or rows)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1208">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-nrow"></span>
</section>
<section id="nrow" class="level4">
<h4 class="anchored" data-anchor-id="nrow">nrow</h4>
<ul>
<li><code>(nrow A)</code></li>
</ul>
<p>Returns number of rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1054">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-outer"></span>
</section>
<section id="outer" class="level4">
<h4 class="anchored" data-anchor-id="outer">outer</h4>
<ul>
<li><code>(outer v1 v2)</code></li>
</ul>
<p>Outer project for two vectors.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L969">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-pow"></span>
</section>
<section id="pow-1" class="level4">
<h4 class="anchored" data-anchor-id="pow-1">pow</h4>
<ul>
<li><code>(pow m exponent)</code></li>
</ul>
<p>Applies power to a vector elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1625">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-qr-decomposition"></span>
</section>
<section id="qr-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="qr-decomposition">qr-decomposition</h4>
<ul>
<li><code>(qr-decomposition mat)</code></li>
<li><code>(qr-decomposition mat threshold)</code></li>
</ul>
<p>Performs QR decomposition.</p>
<p>A = Q x R, Q is orthogonal (QT x Q = I), R is upper triangular.</p>
<p>Solver minimizes using least squares method.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:H</code> (Hauseholder reflecors), <code>:Q</code>, <code>:QT</code>, <code>:R</code> - matrices.</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1411">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-radians"></span>
</section>
<section id="radians-1" class="level4">
<h4 class="anchored" data-anchor-id="radians-1">radians</h4>
<ul>
<li><code>(radians vector)</code></li>
</ul>
<p>Applies radians to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-real-matrix"></span>
</section>
<section id="real-matrix" class="level4">
<h4 class="anchored" data-anchor-id="real-matrix">real-matrix</h4>
<ul>
<li><code>(real-matrix rows)</code></li>
</ul>
<p>Creates Apache Commons Math Array2DRowMatrix from sequence of rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L823">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rint"></span>
</section>
<section id="rint-1" class="level4">
<h4 class="anchored" data-anchor-id="rint-1">rint</h4>
<ul>
<li><code>(rint vector)</code></li>
</ul>
<p>Applies rint to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-2d"></span>
</section>
<section id="rotation-matrix-2d" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-2d">rotation-matrix-2d</h4>
<ul>
<li><code>(rotation-matrix-2d theta)</code></li>
</ul>
<p>Creates rotation matrix for a plane</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1307">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-3d"></span>
</section>
<section id="rotation-matrix-3d" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-3d">rotation-matrix-3d</h4>
<ul>
<li><code>(rotation-matrix-3d [x y z])</code></li>
<li><code>(rotation-matrix-3d x y z)</code></li>
</ul>
<p>Creates rotation matrix for a 3d space. Taitâ€“Bryan angles z-yâ€²-xâ€³</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1314">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-3d-x"></span>
</section>
<section id="rotation-matrix-3d-x" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-3d-x">rotation-matrix-3d-x</h4>
<ul>
<li><code>(rotation-matrix-3d-x a)</code></li>
</ul>
<p>Creates rotation matrix for a 3d space, x-axis, right hand rule.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1330">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-3d-y"></span>
</section>
<section id="rotation-matrix-3d-y" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-3d-y">rotation-matrix-3d-y</h4>
<ul>
<li><code>(rotation-matrix-3d-y a)</code></li>
</ul>
<p>Creates rotation matrix for a 3d space, y-axis, right hand rule.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1339">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-3d-z"></span>
</section>
<section id="rotation-matrix-3d-z" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-3d-z">rotation-matrix-3d-z</h4>
<ul>
<li><code>(rotation-matrix-3d-z a)</code></li>
</ul>
<p>Creates rotation matrix for a 3d space, z-axis, right hand rule.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1348">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rotation-matrix-axis-3d"></span>
</section>
<section id="rotation-matrix-axis-3d" class="level4">
<h4 class="anchored" data-anchor-id="rotation-matrix-axis-3d">rotation-matrix-axis-3d</h4>
<ul>
<li><code>(rotation-matrix-axis-3d angle axis)</code></li>
</ul>
<p>Creates 3d rotation matrix for axis ratation.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1357">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-round"></span>
</section>
<section id="round-1" class="level4">
<h4 class="anchored" data-anchor-id="round-1">round</h4>
<ul>
<li><code>(round vector)</code></li>
</ul>
<p>Applies round to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-row"></span>
</section>
<section id="row" class="level4">
<h4 class="anchored" data-anchor-id="row">row</h4>
<ul>
<li><code>(row A r)</code></li>
</ul>
<p>Returns row as a vector</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1066">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows"></span>
</section>
<section id="rows" class="level4">
<h4 class="anchored" data-anchor-id="rows">rows</h4>
<ul>
<li><code>(rows A)</code></li>
</ul>
<p>Returns matrix rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1025">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows->RealMatrix"></span>
</section>
<section id="rows-realmatrix" class="level4">
<h4 class="anchored" data-anchor-id="rows-realmatrix">rows-&gt;RealMatrix</h4>
<ul>
<li><code>(rows-&gt;RealMatrix rows)</code></li>
</ul>
<p>Returns Apache Commons Math Array2DRowMatrix from sequence of rows</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L830">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows->mat"></span>
</section>
<section id="rows-mat" class="level4">
<h4 class="anchored" data-anchor-id="rows-mat">rows-&gt;mat</h4>
<ul>
<li><code>(rows-&gt;mat real-matrix-rows)</code></li>
<li><code>(rows-&gt;mat [a00 a01] [a10 a11])</code></li>
<li><code>(rows-&gt;mat [a00 a01 a02] [a10 a11 a12] [a20 a21 a22])</code></li>
<li><code>(rows-&gt;mat [a00 a01 a02 a03] [a10 a11 a12 a13] [a20 a21 a22 a23] [a30 a31 a32 a33])</code></li>
</ul>
<p>Creates nxn matrix from nd vectors (rows).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L850">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows->mat2x2"></span>
</section>
<section id="rows-mat2x2" class="level4">
<h4 class="anchored" data-anchor-id="rows-mat2x2">rows-&gt;mat2x2</h4>
<ul>
<li><code>(rows-&gt;mat2x2 [a00 a01] [a10 a11])</code></li>
</ul>
<p>Creates 2x2 matrix from 2d vectors (rows).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L731">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows->mat3x3"></span>
</section>
<section id="rows-mat3x3" class="level4">
<h4 class="anchored" data-anchor-id="rows-mat3x3">rows-&gt;mat3x3</h4>
<ul>
<li><code>(rows-&gt;mat3x3 [a00 a01 a02] [a10 a11 a12] [a20 a21 a22])</code></li>
</ul>
<p>Creates 3x3 matrix from 3d vectors (rows).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L762">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rows->mat4x4"></span>
</section>
<section id="rows-mat4x4" class="level4">
<h4 class="anchored" data-anchor-id="rows-mat4x4">rows-&gt;mat4x4</h4>
<ul>
<li><code>(rows-&gt;mat4x4 [a00 a01 a02 a03] [a10 a11 a12 a13] [a20 a21 a22 a23] [a30 a31 a32 a33])</code></li>
</ul>
<p>Creates 4x4 matrix from 4d vectors (rows).</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L797">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-rrqr-decomposition"></span>
</section>
<section id="rrqr-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="rrqr-decomposition">rrqr-decomposition</h4>
<ul>
<li><code>(rrqr-decomposition mat)</code></li>
<li><code>(rrqr-decomposition mat threshold)</code></li>
</ul>
<p>Performs Rank-Revealing QR decomposition.</p>
<p>A = Q x R x inv(P), Q is orthogonal (QT x Q = I), R is upper triangular.</p>
<p>Solver minimizes using least squares method.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:H</code> (Hauseholder reflecors), <code>:Q</code>, <code>:QT</code>, <code>:R</code>, <code>:P</code> (permutation) - matrices</li>
<li><code>:rank-fn</code> - calculates numerical matrix rank, accepts threshold for rank computation (default: 0.0).</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1436">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-safe-sqrt"></span>
</section>
<section id="safe-sqrt-1" class="level4">
<h4 class="anchored" data-anchor-id="safe-sqrt-1">safe-sqrt</h4>
<ul>
<li><code>(safe-sqrt vector)</code></li>
</ul>
<p>Applies safe-sqrt to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-scale-cols"></span>
</section>
<section id="scale-cols" class="level4">
<h4 class="anchored" data-anchor-id="scale-cols">scale-cols</h4>
<ul>
<li><code>(scale-cols A)</code></li>
<li><code>(scale-cols A scale)</code></li>
</ul>
<p>Multiplies cols by a value (default: 1/(sqrt(sum(x^2)/(n-1)))) or a result of the function</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1251">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-scale-rows"></span>
</section>
<section id="scale-rows" class="level4">
<h4 class="anchored" data-anchor-id="scale-rows">scale-rows</h4>
<ul>
<li><code>(scale-rows A)</code></li>
<li><code>(scale-rows A scale)</code></li>
</ul>
<p>Multiplies rows by a value (default: 1/(sqrt(sum(x^2)/(n-1)))) or a result of the function</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1244">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sec"></span>
</section>
<section id="sec-1" class="level4">
<h4 class="anchored" data-anchor-id="sec-1">sec</h4>
<ul>
<li><code>(sec vector)</code></li>
</ul>
<p>Applies sec to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sech"></span>
</section>
<section id="sech-1" class="level4">
<h4 class="anchored" data-anchor-id="sech-1">sech</h4>
<ul>
<li><code>(sech vector)</code></li>
</ul>
<p>Applies sech to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sfrac"></span>
</section>
<section id="sfrac-1" class="level4">
<h4 class="anchored" data-anchor-id="sfrac-1">sfrac</h4>
<ul>
<li><code>(sfrac vector)</code></li>
</ul>
<p>Applies sfrac to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sgn"></span>
</section>
<section id="sgn-1" class="level4">
<h4 class="anchored" data-anchor-id="sgn-1">sgn</h4>
<ul>
<li><code>(sgn vector)</code></li>
</ul>
<p>Applies sgn to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-shape"></span>
</section>
<section id="shape" class="level4">
<h4 class="anchored" data-anchor-id="shape">shape</h4>
<ul>
<li><code>(shape A)</code></li>
</ul>
<p>Returns [nrow, ncol] pair.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1062">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-shift-cols"></span>
</section>
<section id="shift-cols" class="level4">
<h4 class="anchored" data-anchor-id="shift-cols">shift-cols</h4>
<ul>
<li><code>(shift-cols A)</code></li>
<li><code>(shift-cols A shift)</code></li>
</ul>
<p>Shifts columns by a value or a result of the function (negative of mean by default)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1235">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-shift-rows"></span>
</section>
<section id="shift-rows" class="level4">
<h4 class="anchored" data-anchor-id="shift-rows">shift-rows</h4>
<ul>
<li><code>(shift-rows A)</code></li>
<li><code>(shift-rows A shift)</code></li>
</ul>
<p>Shifts rows by a value or a result of the function (nagetive of mean by default)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1228">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sigmoid"></span>
</section>
<section id="sigmoid-1" class="level4">
<h4 class="anchored" data-anchor-id="sigmoid-1">sigmoid</h4>
<ul>
<li><code>(sigmoid vector)</code></li>
</ul>
<p>Applies sigmoid to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-signum"></span>
</section>
<section id="signum-1" class="level4">
<h4 class="anchored" data-anchor-id="signum-1">signum</h4>
<ul>
<li><code>(signum vector)</code></li>
</ul>
<p>Applies signum to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sin"></span>
</section>
<section id="sin-1" class="level4">
<h4 class="anchored" data-anchor-id="sin-1">sin</h4>
<ul>
<li><code>(sin vector)</code></li>
</ul>
<p>Applies sin to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sinc"></span>
</section>
<section id="sinc-1" class="level4">
<h4 class="anchored" data-anchor-id="sinc-1">sinc</h4>
<ul>
<li><code>(sinc vector)</code></li>
</ul>
<p>Applies sinc to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-singular-values"></span>
</section>
<section id="singular-values" class="level4">
<h4 class="anchored" data-anchor-id="singular-values">singular-values</h4>
<ul>
<li><code>(singular-values A)</code></li>
</ul>
<p>Returuns singular values of the matrix as sqrt of eigenvalues of A^T * A matrix.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1174">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-singular?"></span>
</section>
<section id="singular" class="level4">
<h4 class="anchored" data-anchor-id="singular">singular?</h4>
<ul>
<li><code>(singular? mat)</code></li>
</ul>
<p>Returns singularity of the matrix</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1591">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sinh"></span>
</section>
<section id="sinh-1" class="level4">
<h4 class="anchored" data-anchor-id="sinh-1">sinh</h4>
<ul>
<li><code>(sinh vector)</code></li>
</ul>
<p>Applies sinh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-solve"></span>
</section>
<section id="solve" class="level4">
<h4 class="anchored" data-anchor-id="solve">solve</h4>
<ul>
<li><code>(solve A b)</code></li>
</ul>
<p>Solve linear equation Ax=b, if decomposition is provided, decomposition is used.</p>
<p>Some decompositions solve using least squares method.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1601">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sq"></span>
</section>
<section id="sq-1" class="level4">
<h4 class="anchored" data-anchor-id="sq-1">sq</h4>
<ul>
<li><code>(sq vector)</code></li>
</ul>
<p>Applies sq to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sqrt"></span>
</section>
<section id="sqrt-1" class="level4">
<h4 class="anchored" data-anchor-id="sqrt-1">sqrt</h4>
<ul>
<li><code>(sqrt vector)</code></li>
</ul>
<p>Applies sqrt to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-standardize"></span>
</section>
<section id="standardize" class="level4">
<h4 class="anchored" data-anchor-id="standardize">standardize</h4>
<ul>
<li><code>(standardize A)</code></li>
<li><code>(standardize A rows?)</code></li>
</ul>
<p>Normalizes columns (or rows) to have mean = 0 and stddev = 1</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1221">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sub"></span>
</section>
<section id="sub-1" class="level4">
<h4 class="anchored" data-anchor-id="sub-1">sub</h4>
<ul>
<li><code>(sub A)</code></li>
<li><code>(sub A B)</code></li>
</ul>
<p>Subracts matrices, C=A-B.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1106">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-sv-decomposition"></span>
</section>
<section id="sv-decomposition" class="level4">
<h4 class="anchored" data-anchor-id="sv-decomposition">sv-decomposition</h4>
<ul>
<li><code>(sv-decomposition mat)</code></li>
</ul>
<p>Performs Singular Value Decomposition (SVD).</p>
<p>A = U x S x VT</p>
<p>Solver minimizes using least squares method.</p>
<p>Components, access with <code>decomposition-component</code> function:</p>
<ul>
<li><code>:S</code>, <code>:U</code>, <code>:UT</code>, <code>:V</code> <code>:VT</code> - matrices</li>
<li><code>:singular-values</code> - vector of singular values</li>
<li><code>:info</code>
<ul>
<li><code>:condition-number</code></li>
<li><code>:inv-condition-number</code></li>
<li><code>:norm</code> - L2 norm</li>
<li><code>:rank</code> - effective numerical rank</li>
</ul></li>
<li><code>coviariance-fn</code> - convariance function, returns covariance V x J x VT, where J is inverse of squares of singular values. When <code>min-sv</code> argument is provided, ignores singular values lower than its value.</li>
</ul>
<p>Can be used as input for <code>solve</code>, <code>inverse</code> and <code>singular?</code> functions.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1490">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-symmetric?"></span>
</section>
<section id="symmetric" class="level4">
<h4 class="anchored" data-anchor-id="symmetric">symmetric?</h4>
<ul>
<li><code>(symmetric? A)</code></li>
<li><code>(symmetric? A tolerance)</code></li>
</ul>
<p>Checks if matrix is symmetric</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1074">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tan"></span>
</section>
<section id="tan-1" class="level4">
<h4 class="anchored" data-anchor-id="tan-1">tan</h4>
<ul>
<li><code>(tan vector)</code></li>
</ul>
<p>Applies tan to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tanh"></span>
</section>
<section id="tanh-1" class="level4">
<h4 class="anchored" data-anchor-id="tanh-1">tanh</h4>
<ul>
<li><code>(tanh vector)</code></li>
</ul>
<p>Applies tanh to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tmulm"></span>
</section>
<section id="tmulm" class="level4">
<h4 class="anchored" data-anchor-id="tmulm">tmulm</h4>
<ul>
<li><code>(tmulm A B)</code></li>
</ul>
<p>Transposes and multiplies, C=A^TxB</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1127">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-tmulmt"></span>
</section>
<section id="tmulmt" class="level4">
<h4 class="anchored" data-anchor-id="tmulmt">tmulmt</h4>
<ul>
<li><code>(tmulmt A B)</code></li>
</ul>
<p>Transposes both and multiplies, C=A<sup>TxB</sup>T</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1131">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-trace"></span>
</section>
<section id="trace" class="level4">
<h4 class="anchored" data-anchor-id="trace">trace</h4>
<ul>
<li><code>(trace A)</code></li>
</ul>
<p>Returns trace of the matrix (sum of diagonal elements)</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1162">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-transpose"></span>
</section>
<section id="transpose" class="level4">
<h4 class="anchored" data-anchor-id="transpose">transpose</h4>
<ul>
<li><code>(transpose A)</code></li>
</ul>
<p>Transposes matrix, C=A^T</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1079">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-trunc"></span>
</section>
<section id="trunc-1" class="level4">
<h4 class="anchored" data-anchor-id="trunc-1">trunc</h4>
<ul>
<li><code>(trunc vector)</code></li>
</ul>
<p>Applies trunc to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-vtmul"></span>
</section>
<section id="vtmul" class="level4">
<h4 class="anchored" data-anchor-id="vtmul">vtmul</h4>
<ul>
<li><code>(vtmul A v)</code></li>
</ul>
<p>Multiplies transposed vector by matrix, C=v^T A</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1147">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-xlogx"></span>
</section>
<section id="xlogx-1" class="level4">
<h4 class="anchored" data-anchor-id="xlogx-1">xlogx</h4>
<ul>
<li><code>(xlogx vector)</code></li>
</ul>
<p>Applies xlogx to matrix elements.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L1618">source</a></small><hr style="margin: 0"></div>
<span id="#LOS-zero"></span>
</section>
<section id="zero-1" class="level4">
<h4 class="anchored" data-anchor-id="zero-1">zero</h4>
<ul>
<li><code>(zero rows cols real-matrix?)</code></li>
<li><code>(zero size real-matrix?)</code></li>
<li><code>(zero size)</code></li>
</ul>
<p>Creates zero matrix for given size.</p>
<div style="text-align: right"><small><a href="https://github.com/generateme/fastmath/tree/3.x/src/fastmath/matrix.clj#L944">source</a></small><hr style="margin: 0"></div>
<div style="background-color:grey;height:2px;width:100%;"></div>
<div><pre><small><small>source: <a href="https://github.com/generateme/fastmath//blob/master/clay/vector_matrix.clj">clay/vector_matrix.clj</a></small></small></pre></div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./core.html" class="pagination-link" aria-label="Core">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Core</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./complex_quaternions.html" class="pagination-link" aria-label="Complex numbers and quaternions">
        <span class="nav-page-text">Complex numbers and quaternions</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>